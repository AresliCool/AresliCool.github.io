System.register("chunks:///_virtual/AchieveDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./WXPlatformManager.ts","./UserData.ts"],(function(t){var e,i,n,a,r,o,l,c,s,u,p,h,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Node,c=t.Label,s=t.Animation,u=t.Sprite,p=t.Component},function(t){h=t.EventManager},function(t){f=t.WXPlatformManager},function(t){b=t.UserData}],execute:function(){var g,m,y,B,v,_,d,D,S,z,A,E,L,w,C,T,k;r._RF.push({},"860979970dCZLAicEaL2Vcd","AchieveDetail",void 0);var x=o.ccclass,U=o.property;t("AchieveDetail",(g=x("AchieveDetail"),m=U(l),y=U(l),B=U(c),v=U(l),_=U(s),d=U(u),D=U(c),g((A=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"content",A,a(e)),n(e,"shareBtn",E,a(e)),n(e,"shareLB",L,a(e)),n(e,"exitBtn",w,a(e)),n(e,"animation",C,a(e)),n(e,"icon",T,a(e)),n(e,"info",k,a(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.shareBtn.on(h.BASE_BUTTON_TOUCH_END,this._onShareBtnClick,this),this.exitBtn.on(h.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this)},r.setIcon=function(t){this.icon.spriteFrame=t},r.setInfo=function(t){this.info.string=t},r.setLockState=function(t){this.icon.grayscale=!t,this.shareLB.string=t?"炫耀一下":"寻找帮助"},r._onShareBtnClick=function(){var t="";t=this.icon.grayscale?b.instance.user_name+" 需要你的帮助，快来帮忙获得这个成就！":b.instance.user_name+" 获得了这个成就，你也来试试看吧！",f.instance.activeShare(t)},r._onExitBtnClick=function(){this.popout()},r.popup=function(){this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},r.popout=function(){this.content.setScale(.5,.5),this.node.active=!1},r.update=function(t){},e}(p)).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"shareBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(z.prototype,"shareLB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(z.prototype,"exitBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(z.prototype,"animation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(z.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(z.prototype,"info",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=z))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,c,o,l,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,l=e.CCInteger,a=e.Sprite,s=e.Node,u=e.Component}],execute:function(){var p,f,h,d,b,v,y,m,g,A,S;c._RF.push({},"e4afdoFM+hIc6r1ihM5nQ1k","Achievement",void 0);var z=o.ccclass,k=o.property;e("Achievement",(p=z("Achievement"),f=k({type:l,step:1}),h=k(a),d=k(a),b=k(s),p((m=t((y=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,n(t,"id",m,r(t)),n(t,"selector",g,r(t)),n(t,"icon",A,r(t)),n(t,"clickArea",S,r(t)),t.isSelect=!1,t.isCompleted=!1,t.brief="",t.detial="",t}i(t,e);var c=t.prototype;return c.start=function(){},c.checkWin=function(){return!1},c.setCompleted=function(e){},c.selected=function(){this.isSelect=!0,this.selector.node.active=this.isSelect},c.unselected=function(){this.isSelect=!1,this.selector.node.active=this.isSelect},c.update=function(e){},t}(u)).prototype,"id",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=t(y.prototype,"selector",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(y.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(y.prototype,"clickArea",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"67531UWychBRJrYE0O9MTdt","Achievement1",void 0);var u=i.ccclass;i.property,e("Achievement1",u("Achievement1")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="首次授权登录",t.detial="首次授权登录获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.ACHIEVEMENT_LOGIN,this.checkWin,this))},i.checkWin=function(){return!!a.instance.user_avatar&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.ACHIEVEMENT_LOGIN,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),s.instance.emit(s.GET_NEW_ACHIEVEMENT),!0)},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"a0329/yxqFDCrakJjga1Vjj","Achievement10",void 0);var u=i.ccclass;i.property,e("Achievement10",u("Achievement10")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="解锁全部技能",t.detial="解锁全部技能可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.UNLOCK_ALL_SKILLS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.UNLOCK_ALL_SKILLS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"2d0ac4V1M5GzqMtExVZZ87g","Achievement11",void 0);var u=i.ccclass;i.property,e("Achievement11",u("Achievement11")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分排行榜前100名",t.detial="积分排行榜进入前100名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.SCORE_RANK_TOP_100,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.SCORE_RANK_TOP_100,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"48f0anxuyBOlKDT80buW0sI","Achievement12",void 0);var u=i.ccclass;i.property,e("Achievement12",u("Achievement12")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="关卡排行榜前100名",t.detial="关卡排行榜进入前100名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_RANK_TOP_100,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_RANK_TOP_100,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement13.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"00b1cGv3iNAE6FcuoLYJFhr","Achievement13",void 0);var u=i.ccclass;i.property,e("Achievement13",u("Achievement13")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="一次性消除50个方块",t.detial="任何模式下一次性消除50个方块可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.ONETIME_ERASE_50,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.ONETIME_ERASE_50,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement14.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"89fc0HzAztEB7KmvWeKQWk4","Achievement14",void 0);var u=i.ccclass;i.property,e("Achievement14",u("Achievement14")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="一次性消除100个方块",t.detial="任何模式下一次性消除100个方块可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.ONETIME_ERASE_100,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.ONETIME_ERASE_100,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement15.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"9f510aWQ/tBp4c97FgCLa4p","Achievement15",void 0);var u=i.ccclass;i.property,e("Achievement15",u("Achievement15")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分排行榜前10名",t.detial="积分排行榜进入前10名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.SCORE_RANK_TOP_10,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.SCORE_RANK_TOP_10,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement16.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"d2874nBUaRN4rXzm8TW/Xnb","Achievement16",void 0);var u=i.ccclass;i.property,e("Achievement16",u("Achievement16")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="关卡排行榜前10名",t.detial="关卡排行榜进入前10名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_RANK_TOP_10,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_RANK_TOP_10,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement17.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"9feaeQTGv1L3Idu1SPVQ4r+","Achievement17",void 0);var u=i.ccclass;i.property,e("Achievement17",u("Achievement17")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="关卡排名第1名",t.detial="关卡排名第1名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_RANK_TOP_1,this.checkWin,this))},i.checkWin=function(){return!!a.instance.user_avatar&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_RANK_TOP_1,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0)},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement18.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"85ed9r85SRD+ZSEJMQhGcJ7","Achievement18",void 0);var u=i.ccclass;i.property,e("Achievement18",u("Achievement18")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分排名第1名",t.detial="积分排名第1名可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.SCORE_RANK_TOP_1,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.SCORE_RANK_TOP_1,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement19.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts","./LevelManager.ts","./GlobalData.ts"],(function(e){var t,n,i,c,s,a,o,r,h,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData},function(e){h=e.LevelManager},function(e){u=e.GameMode}],execute:function(){var l;n._RF.push({},"92cfeZTq+xMOb+CKgF1+hmp","Achievement19",void 0);var d=i.ccclass;i.property,e("Achievement19",d("Achievement19")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分模式下积分超过1000000分",t.detial="在积分模式下积分超过1000000分可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.SCORE_CHANGE,this.checkWin,this))},i.checkWin=function(){return h.instance.mode==u.NORMAL&&(!(a.instance.score<1e6)&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.SCORE_CHANGE,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0))},i.update=function(e){},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts","./LevelManager.ts","./GlobalData.ts"],(function(e){var t,n,i,c,s,a,o,r,h,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData},function(e){h=e.LevelManager},function(e){l=e.GameMode}],execute:function(){var u;n._RF.push({},"e8b76TdGslK7rO0QgzyIAHV","Achievement2",void 0);var d=i.ccclass;i.property,e("Achievement2",d("Achievement2")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="关卡模式下达到20关",t.detial="关卡模式下达到20关可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_CHANGE,this.checkWin,this))},i.checkWin=function(){return h.instance.mode==l.LEVEL&&(!(a.instance.level<20)&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_CHANGE,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0))},i.update=function(e){},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement20.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts","./GlobalData.ts","./LevelManager.ts"],(function(e){var t,n,i,c,s,a,o,r,h,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData},function(e){h=e.GameMode},function(e){u=e.LevelManager}],execute:function(){var l;n._RF.push({},"43fcaWtRrZAsrY8LB6Zth2Y","Achievement20",void 0);var d=i.ccclass;i.property,e("Achievement20",d("Achievement20")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="关卡模式下达到200关",t.detial="关卡模式下达到200关可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_CHANGE,this.checkWin,this))},i.checkWin=function(){return u.instance.mode==h.LEVEL&&(!(a.instance.level<200)&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_CHANGE,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0))},i.update=function(e){},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts","./LevelManager.ts","./GlobalData.ts"],(function(e){var t,n,i,c,s,a,o,r,h,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData},function(e){h=e.LevelManager},function(e){u=e.GameMode}],execute:function(){var l;n._RF.push({},"d0363/n6P9Nbbl9bFoMlBEL","Achievement3",void 0);var d=i.ccclass;i.property,e("Achievement3",d("Achievement3")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分模式下积分超过40000分",t.detial="在积分模式下积分超过40000分可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.SCORE_CHANGE,this.checkWin,this))},i.checkWin=function(){return h.instance.mode==u.NORMAL&&(!(a.instance.score<4e4)&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.SCORE_CHANGE,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0))},i.update=function(e){},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"f905dAHTvhJyqDaePTG4TUe","Achievement4",void 0);var u=i.ccclass;i.property,e("Achievement4",u("Achievement4")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="首次提前使用技能",t.detial="在能量值没有收集满时成功使用技能可以获得此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.USE_AD_ULTIMATE_SUCCESS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.USE_AD_ULTIMATE_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"ee65agKBFpLgIlqie8gnJ1c","Achievement5",void 0);var u=i.ccclass;i.property,e("Achievement5",u("Achievement5")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="首次使用炸药清屏大招",t.detial="首次成功使用TNT炸药清屏大招可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.USE_TNT_BONUS_SUCCESS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.USE_TNT_BONUS_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"681e0Oe0n5CpZwHpAFVsYaO","Achievement6",void 0);var u=i.ccclass;i.property,e("Achievement6",u("Achievement6")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="首次使用招财猫积分翻倍大招",t.detial="首次成功使用招财猫积分翻倍大招可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.USE_DOUBLE_BONUS_SUCCESS,this.checkWin,this))},i.checkWin=function(){return!!a.instance.user_avatar&&(this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.USE_DOUBLE_BONUS_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0)},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"413b9mg8vlC/LSinqs6JtQ0","Achievement7",void 0);var u=i.ccclass;i.property,e("Achievement7",u("Achievement7")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="积分模式下复活",t.detial="积分模式下失败后成功使用复活功能可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.NORMAL_REBIRTH_SUCCESS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.NORMAL_REBIRTH_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"504e1hQ97dLKaaQNbQ9zaPz","Achievement8",void 0);var u=i.ccclass;i.property,e("Achievement8",u("Achievement8")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="闯关模式下复活",t.detial="闯关模式下失败后成功使用复活功能可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.LEVEL_REBIRTH_SUCCESS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.LEVEL_REBIRTH_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Achievement9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievement.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,n,i,c,s,a,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){c=e.Achievement},function(e){s=e.EventManager},function(e){a=e.UserData},function(e){o=e.RequestManager},function(e){r=e.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"ecc53XZlvBETJkTOa5ajIRe","Achievement9",void 0);var u=i.ccclass;i.property,e("Achievement9",u("Achievement9")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).brief="闯关模式下全选技能",t.detial="闯关模式下在选择技能列表时，选择“全都要”可以获取此成就",t}t(n,e);var i=n.prototype;return i.start=function(){this.clickArea.on(s.BASE_BUTTON_TOUCH_END,this._onClickEnd,this)},i._onClickEnd=function(){console.log("achievement id:",this.id),s.instance.emit(s.ACHIEVEMENT_CLICK,this)},i.setCompleted=function(e){this.isCompleted=e,this.isCompleted?this.icon.grayscale=!1:(this.icon.grayscale=!0,s.instance.on(s.GET_ALL_SKILL_SUCCESS,this.checkWin,this))},i.checkWin=function(){return this.setCompleted(!0),a.instance.addCompletedAchieve(this.id),s.instance.off(s.GET_ALL_SKILL_SUCCESS,this.checkWin,this),o.instance.request(r.REQUEST_NAME,{comleted_achieve:a.instance.comleted_achieve}),!0},i.update=function(e){},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts"],(function(e){var t,n,i,c;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e.instantiate},function(e){c=e.UserData}],execute:function(){n._RF.push({},"12f368UNB9A04DVNcyVTFK8","AchievementManager",void 0),e("AchievementManager",function(){function e(){this.achievements=null,this.total=[]}return e.prototype.initAchievements=function(){for(var e=0;e<this.achievements.achievements.length;++e){var t=i(this.achievements.achievements[e]).getComponent("Achievement");c.instance.comleted_achieve.includes(t.id)?t.setCompleted(!0):t.setCompleted(!1),this.total.push(t)}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AchievementManager.ts","./EventManager.ts","./AchieveDetail.ts","./WXPlatformManager.ts"],(function(t){var e,i,n,r,a,o,l,c,s,u,h,p,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Animation,c=t.Node,s=t.Label,u=t.Component},function(t){h=t.AchievementManager},function(t){p=t.EventManager},function(t){f=t.AchieveDetail},function(t){b=t.WXPlatformManager}],execute:function(){var d,m,v,g,_,y,A,B,C,D,E,w,z,T,k,M,P;a._RF.push({},"25217LqrdlCTZqdB+b1meVK","AchievementPanel",void 0);var x=o.ccclass,I=o.property;t("AchievementPanel",(d=x("AchievementPanel"),m=I(l),v=I(c),g=I(c),_=I(s),y=I(c),A=I(c),B=I(f),d((E=e((D=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"animation",E,r(e)),n(e,"grids",w,r(e)),n(e,"content",z,r(e)),n(e,"brief",T,r(e)),n(e,"detailBtn",k,r(e)),n(e,"exitBtn",M,r(e)),n(e,"achieveDetail",P,r(e)),e.current=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){for(var t=0;t<h.instance.total.length;++t){var e=h.instance.total[t];this.grids.addChild(e.node),this.current||e.isCompleted||(this.current=e,this.current.selected(),this.brief.string=this.current.brief)}this.current||(this.current=h.instance.total[0],this.current.selected(),this.brief.string=this.current.brief),this.exitBtn.on(p.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this),this.detailBtn.on(p.BASE_BUTTON_TOUCH_END,this._onDetailBtnClick,this),p.instance.on(p.ACHIEVEMENT_CLICK,this._onAchievementClick,this)},a._onExitBtnClick=function(){this.popout()},a._onDetailBtnClick=function(){this.current&&(this.achieveDetail.setInfo(this.current.detial),this.achieveDetail.setIcon(this.current.icon.spriteFrame),this.achieveDetail.setLockState(this.current.isCompleted),this.achieveDetail.popup())},a._onAchievementClick=function(t){this.current=t,t.selected(),this.brief.string=t.brief},a.popup=function(){b.instance.showInterstitialAd(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1},a.update=function(t){},e}(u)).prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(D.prototype,"grids",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(D.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"brief",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(D.prototype,"detailBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(D.prototype,"exitBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"achieveDetail",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Achievements.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,c,o,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Prefab,s=e.Component}],execute:function(){var u,p,l,f,h;c._RF.push({},"8479csapW5AH5f5Au4K7XiP","Achievements",void 0);var v=o.ccclass,m=o.property;e("Achievements",(u=v("Achievements"),p=m([a]),u((h=t((f=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,r(t,"achievements",h,i(t)),t}n(t,e);var c=t.prototype;return c.start=function(){},c.update=function(e){},t}(s)).prototype,"achievements",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=f))||l));c._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMananger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){var t,s,e,i;return{setters:[function(n){t=n.createClass},function(n){s=n.cclegacy,e=n.log},function(n){i=n.EventManager}],execute:function(){s._RF.push({},"08fab0wjiBK+LywDp2nY/uS","AudioMananger",void 0),n("AudioMananger",function(){function n(){this.sounds=null,this._enableMusic=!0,this._enableEffect=!0,e("Audio init..."),i.instance.on(i.ENABLE_BACKGROUND_MUSIC,this._onEnableBackgroundMusic,this),i.instance.on(i.ENABLE_EFFECT_SOUND,this._onEnableEffectSound,this)}var s=n.prototype;return s._onEnableBackgroundMusic=function(n){this._enableMusic=n,n?this.sounds.backgroundAudio.play():this.sounds.backgroundAudio.stop()},s._onEnableEffectSound=function(n){this._enableEffect=n,n||this.sounds.effectAudio.stop()},s.playBackground=function(n,t){void 0===t&&(t=!0),this.sounds&&this._enableMusic&&this.sounds.playMusic(n,t)},s.playEffect=function(n){this.sounds&&this._enableEffect&&this.sounds.playEffect(n)},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/BottomButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,i,n,r,l,c,a,u,s,p,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,c=o.Label,a=o.Sprite,u=o.Node,s=o.Vec2,p=o.Color,f=o.Component}],execute:function(){var b,B,g,h,d,y,w,m,C,v,x,z,G,L,P;r._RF.push({},"ee42afV1w1M1bKOyr5V8mVC","BottomButton",void 0);var I=l.ccclass,V=l.property;o("BottomButton",(b=I("BottomButton"),B=V(c),g=V(a),h=V(a),d=V(u),y=V(s),w=V(s),b((v=t((C=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=o.call.apply(o,[this].concat(r))||this,i(t,"buttonLB",v,n(t)),i(t,"iconBG",x,n(t)),i(t,"icon",z,n(t)),i(t,"clickArea",G,n(t)),i(t,"origiPos",L,n(t)),i(t,"extendPos",P,n(t)),t.origiBGColor=new p("#a20369"),t.origiIconColor=new p("#ff1981"),t.extendBGColor=new p("#ff93d6"),t.extendIconColor=new p("#ff1981"),t.isExtend=!1,t}e(t,o);var r=t.prototype;return r.start=function(){},r.changeToOrigi=function(){this.iconBG.color=this.origiBGColor,this.icon.color=this.origiIconColor,this.buttonLB.node.active=!1},r.changeToExtend=function(){this.iconBG.color=this.extendBGColor,this.icon.color=this.extendIconColor,this.buttonLB.node.active=!0},r.update=function(o){},t}(f)).prototype,"buttonLB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(C.prototype,"iconBG",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(C.prototype,"clickArea",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(C.prototype,"origiPos",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),P=t(C.prototype,"extendPos",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),m=C))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/BreathNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,n,o,l,s,c,h,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,s=e.CCFloat,c=e.Vec3,h=e.Tween,u=e.tween,p=e.Component}],execute:function(){var g,f,d,y,b,w,v,_,B;n._RF.push({},"c2cd95trOtAeIML1dkhNi5W","BreathNode",void 0);var N=o.ccclass,S=o.property;e("BreathNode",(g=N("BreathNode"),f=S(l),d=S(s),y=S(s),g((v=t((w=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"target",v,a(t)),r(t,"inhale",_,a(t)),r(t,"exhale",B,a(t)),t._originalScale=new c(1,1,1),t}i(t,e);var n=t.prototype;return n.start=function(){this.target||(this.target=this.node),this.target.getScale(this._originalScale)},n.stopHale=function(){this.target.setScale(this._originalScale),h.stopAllByTarget(this.target)},n.startHale=function(){this.stopHale(),u(this.target).by(1,{scale:new c(this.inhale,this.inhale,1)},{easing:"sineInOut"}).by(1,{scale:new c(this.exhale,this.exhale,1)},{easing:"sineInOut"}).union().repeatForever().start()},n.update=function(e){},t}(p)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(w.prototype,"inhale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),B=t(w.prototype,"exhale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-.2}}),b=w))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSkillButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){var o,i,n,e,r,l,c,a,u,s,h,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,c=t.Label,a=t.Sprite,u=t.Node,s=t.Color,h=t.Component},function(t){p=t.EventManager}],execute:function(){var f,B,d,g,b,C,x,y,v,k,w;r._RF.push({},"9336cSH/RpGCIU9ISC392wc","ButtonSkillButton",void 0);var E=l.ccclass,G=l.property;t("ButtonSkillButton",(f=E("ButtonSkillButton"),B=G(c),d=G(a),g=G(a),b=G(u),f((y=o((x=function(t){function o(){for(var o,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return o=t.call.apply(t,[this].concat(r))||this,n(o,"buttonLB",y,e(o)),n(o,"iconBG",v,e(o)),n(o,"icon",k,e(o)),n(o,"clickArea",w,e(o)),o.origiPos=void 0,o.extendPos=void 0,o.origiBGColor=new s("#a20369"),o.origiIconColor=new s("#ff1981"),o.extendBGColor=new s("#ff93d6"),o.extendIconColor=new s("#ff1981"),o.isExtend=!1,o}i(o,t);var r=o.prototype;return r.start=function(){this.clickArea.on(p.BASE_BUTTON_TOUCH_END,this._onButtonClick,this)},r._onButtonClick=function(){this.isExtend=!this.isExtend,this.isExtend?this.changeToExtend():this.changeToOrigi()},r.changeToOrigi=function(){this.iconBG.color=this.origiBGColor,this.icon.color=this.origiIconColor},r.changeToExtend=function(){this.iconBG.color=this.extendBGColor,this.icon.color=this.extendIconColor},r.update=function(t){},o}(h)).prototype,"buttonLB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(x.prototype,"iconBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(x.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(x.prototype,"clickArea",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=x))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/CatPow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,a,c,s,l,p,u,h,d;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Sprite,s=t.Color,l=t.Tween,p=t.randomRangeInt,u=t.tween,h=t.random,d=t.Component}],execute:function(){var w,f,g,_,y;i._RF.push({},"f818cCogohJCb96OoI1sHX+","CatPow",void 0);var v=a.ccclass,C=a.property;t("CatPow",(w=v("CatPow"),f=C(c),w((y=o((_=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o=t.call.apply(t,[this].concat(i))||this,n(o,"pow",y,r(o)),o._dest=void 0,o._origi=new s(255,255,255,0),o._colors=[new s("#FF63E6"),new s("#4B8CFF"),new s("##4ADDDD")],o}e(o,t);var i=o.prototype;return i.start=function(){},i.dance=function(t,o){var e=this;try{l.stopAllByTarget(this._dest);var n=this.pow,r=this._colors[p(0,this._colors.length)];this._dest=n.color.clone(),u(this._dest).to(t,{r:r.r,g:r.g,b:r.b,a:r.a},{easing:"linear",onUpdate:function(t){n.color=t}}).call((function(){h()<o?e.dance(t,o):e.pow.color=e._origi})).start()}catch(t){}},i.stopTween=function(){l.stopAllByTarget(this._dest)},i.update=function(t){},o}(d)).prototype,"pow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ColorProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./ResourceManager.ts"],(function(t){var e,s,i,n,l;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,i=t.Color},function(t){n=t.TileColorTypes},function(t){l=t.ResourceManager}],execute:function(){s._RF.push({},"353e9wqvT9FVIbu685FhHca","ColorProcessor",void 0),t("ColorProcessor",function(){function t(){this._tile_list={},this._dot_list={},this._tile_list[n.BLACK]=l.instance.getAsset("textures/obs_stone/texture"),this._tile_list[n.RED]=l.instance.getAsset("textures/tile_red/texture"),this._tile_list[n.YELLOW]=l.instance.getAsset("textures/tile_yellow/texture"),this._tile_list[n.BLUE]=l.instance.getAsset("textures/tile_blue/texture"),this._tile_list[n.GREEN]=l.instance.getAsset("textures/tile_green/texture"),this._tile_list[n.PURPLE]=l.instance.getAsset("textures/tile_purple/texture"),this._tile_list[n.ORANGE]=l.instance.getAsset("textures/tile_orange/texture"),this._dot_list[n.BLACK]=new i("949297"),this._dot_list[n.RED]=new i("f42a65"),this._dot_list[n.YELLOW]=new i("fbf74c"),this._dot_list[n.BLUE]=new i("42a6fe"),this._dot_list[n.GREEN]=new i("85eb48"),this._dot_list[n.PURPLE]=new i("a91ffc"),this._dot_list[n.ORANGE]=new i("ff8022")}var s=t.prototype;return s.execute=function(t){t.setFace(this._tile_list[t.colorType])},s.executeDot=function(t){t.setColor(this._dot_list[t.colorType])},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,o,s,n,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,a=t.UITransform,l=t.Label,u=t.Component}],execute:function(){var c,h,p,g,f,b,L;s._RF.push({},"5be7fD2fFxDwLhDOO1RLvbe","CustomProgress",void 0);var v=n.ccclass,m=n.property;t("CustomProgress",(c=v("CustomProgress"),h=m(a),p=m(l),c((b=e((f=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,i(e,"bar",b,o(e)),i(e,"progressLB",L,o(e)),e.totalLen=void 0,e.totalHeight=void 0,e}r(e,t);var s=e.prototype;return s.start=function(){this.totalLen=490,this.totalHeight=33},s.setValue=function(t,e){if(0!=e){var r=Math.min(t/e,1);this.bar.setContentSize(r*this.totalLen,this.totalHeight),this.progressLB.string=t+"/"+e}else this.progressLB.string="0"},s.setPercent=function(t,e){t>e&&(t=e);var r=Math.min(t/e,1);this.bar.setContentSize(r*this.totalLen,this.totalHeight),this.progressLB.string=Math.floor(100*r)+"%"},s.update=function(t){},e}(u)).prototype,"bar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(f.prototype,"progressLB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/DancePows.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts"],(function(t){var n,o,a,c,s,i,e,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,a=t._decorator,c=t.log,s=t.randomRangeInt,i=t.Component},function(t){e=t.EventManager},function(t){r=t.AudioMananger},function(t){u=t.AudioIDs}],execute:function(){var h;o._RF.push({},"c8503nOcUVKkofZU5xn3ALo","DancePows",void 0);var l=a.ccclass;a.property,t("DancePows",l("DancePows")(h=function(t){function o(){for(var n,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(n=t.call.apply(t,[this].concat(a))||this)._count=0,n.coolDown=1,n.pows=[],n.gap=.5,n}n(o,t);var a=o.prototype;return a.start=function(){var t=this;this.node.children.forEach((function(n){var o=n.getComponent("CatPow");t.pows.push(o)})),e.instance.on(e.DANCE_COUNT,this._onDanceCount,this)},a.clearCount=function(){this._count=0,this.gap=0},a._onDanceCount=function(t){this._count+=t,-1==t&&(this._count=0),c("Dance:",this._count),this._count>40?(this.gap>0||(this.gap=.5,r.instance.playEffect(u.CLAP)),this.allStart(.1,.99)):this._count>30?(r.instance.playEffect(u.EXCELLENT),this.allStart(.2,.95)):this._count>20?(r.instance.playEffect(u.GREAT),this.allStart(.3,.92)):this._count>10&&(r.instance.playEffect(u.GOOD),this.allStart(.5,.9))},a.allStart=function(t,n){this.pows.forEach((function(o){o.dance(t,n)}))},a.randomOne=function(t,n){var o=s(0,this.pows.length);this.pows[o].dance(t,n)},a.stopAllTween=function(){this.pows.forEach((function(t){t.stopTween()}))},a.update=function(t){this.coolDown<0?(this.coolDown=2,this.randomOne(2,.9)):this.coolDown-=t,this.gap-=t},o}(i))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DesireButtonBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts"],(function(t){var e,n,i,o,a,r,s,c,h,l,u,_,f,T,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.CCFloat,h=t.Vec3,l=t.NodeEventType,u=t.log,_=t.Component},function(t){f=t.EventManager},function(t){T=t.AudioMananger},function(t){g=t.AudioIDs}],execute:function(){var d,p,C,y,S,E,B,A,D;a._RF.push({},"77cc0XlqTdPILW7hWIpPVQ3","DesireButtonBase",void 0);var m=r.ccclass,O=r.property;t("DesireButtonBase",(d=m("DesireButtonBase"),p=O(s),C=O({type:c}),y=O({type:c}),d((B=e((E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"target",B,o(e)),i(e,"magnify",A,o(e)),i(e,"duration",D,o(e)),e._originalScale=new h(1,1,1),e}n(e,t);var a=e.prototype;return a.start=function(){this.node.on(l.TOUCH_START,this._onTouchStart,this),this.node.on(l.TOUCH_END,this._onTouchEnd,this),this.node.on(l.TOUCH_CANCEL,this._onTouchCancel,this),this.target||(this.target=this.node),this.target.getScale(this._originalScale)},a.onDestroy=function(){this.node.off(l.TOUCH_START,this._onTouchStart,this),this.node.off(l.TOUCH_END,this._onTouchEnd,this),this.node.off(l.TOUCH_CANCEL,this._onTouchCancel,this)},a._onTouchStart=function(t){u("touch start..."),T.instance.playEffect(g.CLICK),this.target.setScale(new h(this._originalScale.x+this.magnify,this._originalScale.y+this.magnify,1)),this.node.emit(f.BASE_BUTTON_TOUCH_START)},a._onTouchEnd=function(t){u("touch end..."),this.target.setScale(this._originalScale),this.node.emit(f.BASE_BUTTON_TOUCH_END)},a._onTouchCancel=function(t){u("touch cancel..."),this.target.setScale(this._originalScale),this.node.emit(f.BASE_BUTTON_TOUCH_CANCEL)},e}(_)).prototype,"target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(E.prototype,"magnify",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),D=e(E.prototype,"duration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),S=E))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./DotStateNormal.ts","./DotStateEnter.ts","./GlobalData.ts"],(function(t){var e,i,n,o,a,s,c,r,l,u,h,f,p,D,_,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.Sprite,r=t.Animation,l=t.Node,u=t.NodeEventType,h=t.log,f=t.Component},function(t){p=t.StateMachine},function(t){D=t.DotStateNormal},function(t){_=t.DotStateEnter},function(t){b=t.GlobalData}],execute:function(){var d,y,S,m,M,T,v,g,k;a._RF.push({},"fe607DtkS1PTIUi3b0kX1Mo","Dot",void 0);var C=s.ccclass,w=s.property;t("Dot",(d=C("Dot"),y=w(c),S=w(r),m=w(l),d((v=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"face",v,o(e)),n(e,"animation",g,o(e)),n(e,"content",k,o(e)),e.type=0,e.colorType=0,e.col=0,e.steps=0,e._stateMachine=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){},a.preload=function(){this._stateMachine=new p(this),this._stateMachine.states[D.stateName]=new D(this._stateMachine),this._stateMachine.states[_.stateName]=new _(this._stateMachine)},a.changeState=function(t){var e=this._stateMachine.states[t];this._stateMachine.setState(e)},a.setClickable=function(t){t?this.face.node.on(u.TOUCH_START,this.onDotClick,this):this.face.node.off(u.TOUCH_START,this.onDotClick,this)},a.setPos=function(){this.node.setPosition(this.col*b.TILE_WIDTH,0)},a.setColor=function(t){this.face.color=t},a.onDotClick=function(){h("Dot clicked...")},a.update=function(t){},e}(f)).prototype,"face",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(T.prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(T.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=T))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dots.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorProcessor.ts","./DotStateEnter.ts","./GlobalData.ts","./LevelManager.ts","./UltimateManager.ts"],(function(t){var e,n,o,i,a,r,s,c,l,p,u,f,h,d,y,_,m,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.instantiate,l=t.randomRange,p=t.randomRangeInt,u=t.Component},function(t){f=t.ColorProcessor},function(t){h=t.DotStateEnter},function(t){d=t.GlobalData,y=t.TileType,_=t.TileColorTypes},function(t){m=t.LevelManager},function(t){D=t.UltimateManager}],execute:function(){var g,v,P,b,S;a._RF.push({},"11fd0DPQl9Ira4AXt9EfV9b","Dots",void 0);var T=r.ccclass,L=r.property;t("Dots",(g=T("Dots"),v=L(s),g((S=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"DotPrefab",S,i(e)),e.list=[],e}n(e,t);var a=e.prototype;return a.start=function(){},a.clearList=function(){for(;this.list.length>0;){this.list.pop().node.removeFromParent()}},a.createDots=function(){this.clearList();for(var t=0;t<d.COLS;++t){var e=c(this.DotPrefab).getComponent("Dot");if(e.preload(),this.node.addChild(e.node),e.node.setScale(0,0),e.col=t,e.setPos(),m.instance.stone_chance*D.instance.stone_discount_ratio>0)l(0,1)<m.instance.stone_chance&&(e.type=y.STONE);if(e.type==y.NORMAL)if(m.instance.limit_chance*D.instance.limit_discount_ratio>0)l(0,1)<m.instance.limit_chance&&(e.type=y.STEPS,e.steps=p(m.instance.min_limit,m.instance.max_limit+1));e.type==y.STONE?e.colorType=_.BLACK:e.colorType=p(1,m.instance.tile_color_types-D.instance.tile_color_types_reduce+1),f.instance.executeDot(e),this.list.push(e),e.changeState(h.stateName)}},a.update=function(t){},e}(u)).prototype,"DotPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"20a7c23W9BL7LKNVzIRYE9n","DotStateEnter",void 0),t("DotStateEnter",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){var t=this;this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){t._owner.animation.play("dot_enter_animation")}),.2)},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateEnter",n._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"674f8yVcg1Dh4Qtgx6v2d77","DotStateNormal",void 0),t("DotStateNormal",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(E){var _,T,S;return{setters:[function(E){_=E.createClass},function(E){T=E.cclegacy,S=E.EventTarget}],execute:function(){T._RF.push({},"ade77tgTfxD97CQiyRrnk2X","EventManager",void 0);var A=E("EventManager",function(){function E(){this.on=void 0,this.off=void 0,this.emit=void 0,this._event=void 0,this._event=new S,this.on=this._event.on.bind(this._event),this.off=this._event.off.bind(this._event),this.emit=this._event.emit.bind(this._event)}return _(E,null,[{key:"instance",get:function(){return E._instance||(E._instance=new E),E._instance}}]),E}());A._instance=null,A.MOVING_BONUS_CLICK="MOVING_BONUS_CLICK",A.ULTIMATE_ICON_AD_CLICK="ULTIMATE_ICON_AD_CLICK",A.TILE_ENTERED="TILE_ENTERED",A.TILE_DEAD="TILE_DEAD",A.TILES_ALL_DEAD="TILES_ALL_DEAD",A.TILE_CLICK="TILE_CLICK",A.TILE_REMOVED="TILE_REMOVED",A.TILE_MOVE_TO_DEST="TILE_MOVE_TO_DEST",A.ALL_TILE_TO_DEST="ALL_TILE_TO_DEST",A.EXECUTE_POWERUP="EXECUTE_POWERUP",A.NEW_LINE_END="NEW_LINE_END",A.GAME_REPLAY="GAME_REPLAY",A.SCORE_CHANGE="SCORE_CHANGE",A.PROGRESS_CHANGE="PROGRESS_CHANGE",A.LEVEL_CHANGE="LEVEL_CHANGE",A.SHOW_SKILL="SHOW_SKILL",A.NEXT_LEVEL="NEXT_LEVEL",A.SKILL_UPGRADE="SKILL_UPGRADE",A.TILE_NORMAL_REMOVE="TILE_NORMAL_REMOVE",A.SAME_COLOR_EFFECT="SAME_COLOR_EFFECT",A.SNOW_EFFECT="SNOW_EFFECT",A.BASE_BUTTON_TOUCH_START="BASE_BUTTON_TOUCH_START",A.BASE_BUTTON_TOUCH_END="BASE_BUTTON_TOUCH_END",A.BASE_BUTTON_TOUCH_CANCEL="BASE_BUTTON_TOUCH_CANCEL",A.ENABLE_BACKGROUND_MUSIC="ENABLE_BACKGROUND_MUSIC",A.ENABLE_EFFECT_SOUND="ENABLE_EFFECT_SOUND",A.SHOW_TUTORIAL="SHOW_TUTORIAL",A.DANCE_COUNT="DANCE_COUNT",A.SHOW_WARNNING="SHOW_WARNNING",A.START_MATCH="START_MATCH",A.POWERUP_CREATED="POWERUP_CREATED",A.STONE_CREATED="STONE_CREATED",A.ICE_CREATED="ICE_CREATED",A.NEWLINE_MULTI_ADD="NEWLINE_MULTI_ADD",A.REDUCE_INIT_ROW_ADD="REDUCE_INIT_ROW_ADD",A.REMOVE_SKILL="REMOVE_SKILL",A.RETURN_TO_MENU="RETURN_TO_MENU",A.STORE_DATA="STORE_DATA",A.STORE_NETWORK_DATA="STORE_NETWORK_DATA",A.REQUEST_USER_INFO="REQUEST_USER_INFO",A.GET_USER_INFO="GET_USER_INFO",A.INIT_USER_DATA_SUCCESS="INIT_USER_DATA_SUCCESS",A.CHECK_USER_INFO_UPDATE="CHECK_USER_INFO_UPDATE",A.REQUEST_CMD="REQUEST_CMD",A.GET_SCORE_RANK_SUCCESS="GET_SCORE_RANK_SUCCESS",A.GET_LEVEL_RANK_SUCCESS="GET_LEVEL_RANK_SUCCESS",A.GET_RANK_FAIL="GET_RANK_FAIL",A.ACHIEVEMENT_CLICK="ACHIEVEMENT_CLICK",A.GET_NEW_ACHIEVEMENT="GET_NEW_ACHIEVEMENT",A.ACHIEVEMENT_LOGIN="ACHIEVEMENT_LOGIN",A.ENTER_GAME_LEVEL="ENTER_GAME_LEVEL",A.ENTER_GAME_NORMAL="ENTER_GAME_NORMAL",A.USE_AD_ULTIMATE_SUCCESS="USE_AD_ULTIMATE_SUCCESS",A.USE_TNT_BONUS_SUCCESS="USE_TNT_BONUS_SUCCESS",A.USE_DOUBLE_BONUS_SUCCESS="USE_DOUBLE_BONUS_SUCCESS",A.NORMAL_REBIRTH_SUCCESS="NORMAL_REBIRTH_SUCCESS",A.LEVEL_REBIRTH_SUCCESS="LEVEL_REBIRTH_SUCCESS",A.GET_ALL_SKILL_SUCCESS="GET_ALL_SKILL_SUCCESS",A.SCORE_RANK_TOP_100="SCORE_RANK_TOP_100",A.SCORE_RANK_TOP_10="SCORE_RANK_TOP_10",A.SCORE_RANK_TOP_1="SCORE_RANK_TOP_1",A.LEVEL_RANK_TOP_100="LEVEL_RANK_TOP_100",A.LEVEL_RANK_TOP_10="LEVEL_RANK_TOP_10",A.LEVEL_RANK_TOP_1="LEVEL_RANK_TOP_1",A.ONETIME_ERASE_100="ONETIME_ERASE_100",A.ONETIME_ERASE_50="ONETIME_ERASE_50",A.USE_SETTINGS="USE_SETTINGS",A.UNLOCK_ALL_SKILLS="UNLOCK_ALL_SKILLS",A.ULTIMATE_CLICK="ULTIMATE_CLICK",A.ULTIMATE_CHOOSE_CLICK="ULTIMATE_CHOOSE_CLICK",A.ULTIMATE_DETAIL_CLICK="ULTIMATE_DETAIL_CLICK",A.ULTIMATE_USE="ULTIMATE_USE",A.ULTIMATE_UNUSE="ULTIMATE_UNUSE",A.INTERSTITIAL_AD_LOAD_SUCCESS="INTERSTITIAL_AD_LOAD_SUCCESS",A.INTERSTITIAL_AD_LOAD_FAIL="INTERSTITIAL_AD_LOAD_FAIL",A.BANNER_AD_LOAD_SUCCESS="BANNER_AD_LOAD_SUCCESS",A.BANNER_AD_LOAD_FAIL="BANNER_AD_LOAD_FAIL",A.REWARD_AD_LOAD_SUCCESS="REWARD_AD_LOAD_SUCCESS",A.REWARD_AD_LOAD_FAIL="REWARD_AD_LOAD_FAIL",A.REWARD_SUCCESS="REWARD_SUCCESS",A.REWARD_FAIL="REWARD_FAIL",T._RF.pop()}}}));

System.register("chunks:///_virtual/ExplodeParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./ResourceManager.ts"],(function(e){var t,r,a,s,i,n,c,o,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,c=e.ParticleSystem2D,o=e.SpriteFrame,l=e.Component},function(e){u=e.TileColorTypes},function(e){p=e.ResourceManager}],execute:function(){var x,g,_,f,b;i._RF.push({},"16c4blJoNNKSq6NZ5jCRXO7","ExplodeParticle",void 0);var y=n.ccclass,d=n.property;e("ExplodeParticle",(x=y("ExplodeParticle"),g=d(c),x((b=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,a(t,"particle",b,s(t)),t}r(t,e);var i=t.prototype;return i.start=function(){},i.setFace=function(e){var t=this.getFace(e),r=new o;r.texture=t,this.particle.spriteFrame=r},i.getFace=function(e){var t;switch(e.colorType){case u.BLACK:t=p.instance.getAsset("textures/stone3/texture");break;case u.RED:t=p.instance.getAsset("textures/power_tile_red/texture");break;case u.YELLOW:t=p.instance.getAsset("textures/power_tile_yellow/texture");break;case u.BLUE:t=p.instance.getAsset("textures/power_tile_blue/texture");break;case u.GREEN:t=p.instance.getAsset("textures/power_tile_green/texture");break;case u.PURPLE:t=p.instance.getAsset("textures/power_tile_red/texture");break;case u.ORANGE:t=p.instance.getAsset("textures/power_tile_orange/texture")}return t},i.update=function(e){},t}(l)).prototype,"particle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=f))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameLevelPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dots.ts","./Map.ts","./EventManager.ts","./LevelManager.ts","./GameOver.ts","./UserData.ts","./SkillBoard.ts","./GlobalData.ts","./CustomProgress.ts","./AudioMananger.ts","./ResourceManager.ts","./GameWin.ts","./Warnning.ts","./Settings.ts","./DancePows.ts","./UltimateIcon.ts","./MovingBonus.ts","./WXPlatformManager.ts","./UltimateManager.ts","./GetAchieveNotify.ts"],(function(e){var t,i,n,o,s,a,r,l,c,u,h,_,f,m,p,E,g,b,d,T,C,v,w,S,L,U,N,A,I,P,R,O,y,k,M,D,B,W,G,z,H,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,h=e.Prefab,_=e.Sprite,f=e.Color,m=e.instantiate,p=e.Tween,E=e.log,g=e.tween,b=e.Component},function(e){d=e.Dots},function(e){T=e.Map},function(e){C=e.EventManager},function(e){v=e.LevelManager},function(e){w=e.GameOver},function(e){S=e.UserData},function(e){L=e.SkillBoard},function(e){U=e.AudioIDs,N=e.TilePowerupTypes,A=e.GlobalData,I=e.TutorialSteps,P=e.RewardType},function(e){R=e.CustomProgress},function(e){O=e.AudioMananger},function(e){y=e.ResourceManager},function(e){k=e.GameWin},function(e){M=e.Warnning},function(e){D=e.Settings},function(e){B=e.DancePows},function(e){W=e.UltimateIcon},function(e){G=e.MovingBonus},function(e){z=e.WXPlatformManager},function(e){H=e.UltimateManager},function(e){x=e.GetAchieveNotify}],execute:function(){var V,F,K,X,Y,j,q,J,Q,Z,$,ee,te,ie,ne,oe,se,ae,re,le,ce,ue,he,_e,fe,me,pe,Ee,ge,be,de,Te,Ce,ve,we,Se,Le,Ue,Ne,Ae,Ie,Pe,Re,Oe,ye,ke,Me,De,Be,We,Ge,ze,He,xe,Ve,Fe,Ke;r._RF.push({},"1092bdGUhBET4cHxioqvc4F","GameLevelPlay",void 0);var Xe=l.ccclass,Ye=l.property;e("GameLevelPlay",(V=Xe("GameLevelPlay"),F=Ye(c),K=Ye(x),X=Ye(M),Y=Ye(u),j=Ye(B),q=Ye(R),J=Ye(u),Q=Ye(T),Z=Ye(c),$=Ye(h),ee=Ye(h),te=Ye(h),ie=Ye(h),ne=Ye(h),oe=Ye(h),se=Ye(d),ae=Ye(w),re=Ye(k),le=Ye(L),ce=Ye(c),ue=Ye(D),he=Ye(c),_e=Ye(W),fe=Ye(R),me=Ye(G),pe=Ye(G),Ee=Ye(_),V((de=t((be=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"blocker",de,o(t)),n(t,"achieveNotify",Te,o(t)),n(t,"warnning",Ce,o(t)),n(t,"scoreLB",ve,o(t)),n(t,"dancePows",we,o(t)),n(t,"progress",Se,o(t)),n(t,"levelLB",Le,o(t)),n(t,"map",Ue,o(t)),n(t,"effects",Ne,o(t)),n(t,"ExplodePrefab",Ae,o(t)),n(t,"SnowPrefab",Ie,o(t)),n(t,"TracePrefab",Pe,o(t)),n(t,"TraceRowPrefab",Re,o(t)),n(t,"TraceColorPrefab",Oe,o(t)),n(t,"TraceExplodePrefab",ye,o(t)),n(t,"dots",ke,o(t)),n(t,"gameOver",Me,o(t)),n(t,"gameWin",De,o(t)),n(t,"skillBoard",Be,o(t)),n(t,"settingsBtn",We,o(t)),n(t,"settings",Ge,o(t)),n(t,"tutorials",ze,o(t)),n(t,"ultimateIcon",He,o(t)),n(t,"ultimateProgress",xe,o(t)),n(t,"movingBonus0",Ve,o(t)),n(t,"movingBonus1",Fe,o(t)),n(t,"scoreUp",Ke,o(t)),t.scoreUpColor=new f(255,255,255,0),t.currentUltimate=void 0,t._ultimateCD=0,t.newLines=0,t.mapPos=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){z.instance.showInterstitialAd(),z.instance.showBannerAd(),H.instance.map=this.map,O.instance.playBackground(U.MUSIC),this.settingsBtn.on(C.BASE_BUTTON_TOUCH_END,this._onSettingsBtnClick,this),C.instance.on(C.TILE_CLICK,this._onTileClick,this),C.instance.on(C.ALL_TILE_TO_DEST,this._onAllTileToDest,this),C.instance.on(C.NEW_LINE_END,this._onNewLineEnd,this),C.instance.on(C.GAME_REPLAY,this._onReplay,this),C.instance.on(C.LEVEL_CHANGE,this._onLevelChange,this),C.instance.on(C.PROGRESS_CHANGE,this._onProgressChange,this),C.instance.on(C.SCORE_CHANGE,this._onScoreChange,this),C.instance.on(C.SHOW_SKILL,this._onShowSkill,this),C.instance.on(C.NEXT_LEVEL,this._onNextLevel,this),C.instance.on(C.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),C.instance.on(C.EXECUTE_POWERUP,this._onExecutePowerup,this),C.instance.on(C.SAME_COLOR_EFFECT,this._onSameColorEffect,this),C.instance.on(C.SNOW_EFFECT,this._onSnowEffect,this),C.instance.on(C.TILES_ALL_DEAD,this._onTileAllDead,this),C.instance.on(C.SHOW_WARNNING,this._onShowWarnnig,this),C.instance.on(C.RETURN_TO_MENU,this._onReturnToMenu,this),C.instance.on(C.ULTIMATE_USE,this._onUltimateUse,this),C.instance.on(C.REWARD_SUCCESS,this._onRewardSuccess,this),C.instance.on(C.REWARD_FAIL,this._onRewardFail,this),C.instance.on(C.GET_NEW_ACHIEVEMENT,this._onGetNewAchievement,this),C.instance.on(C.MOVING_BONUS_CLICK,this._onMovingBonusClick,this),C.instance.on(C.ULTIMATE_ICON_AD_CLICK,this._onUltimateIconAdClick,this),C.instance.emit(C.ENTER_GAME_LEVEL),v.instance.isRestart&&(this.skillBoard.init_new(),v.instance.level_id=0,S.instance.init_data(),++S.instance.start_game_count),this.skillBoard.preload(),this.initData(),this.blocker.active=!1,this._checkNeedTutorial(),this.dancePows.node.active=!0,this.mapPos=this.map.node.getPosition()},r.onDestroy=function(){C.instance.off(C.TILE_CLICK,this._onTileClick,this),C.instance.off(C.ALL_TILE_TO_DEST,this._onAllTileToDest,this),C.instance.off(C.NEW_LINE_END,this._onNewLineEnd,this),C.instance.off(C.GAME_REPLAY,this._onReplay,this),C.instance.off(C.LEVEL_CHANGE,this._onLevelChange,this),C.instance.off(C.PROGRESS_CHANGE,this._onProgressChange,this),C.instance.off(C.SCORE_CHANGE,this._onScoreChange,this),C.instance.off(C.SHOW_SKILL,this._onShowSkill,this),C.instance.off(C.NEXT_LEVEL,this._onNextLevel,this),C.instance.off(C.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),C.instance.off(C.EXECUTE_POWERUP,this._onExecutePowerup,this),C.instance.off(C.SAME_COLOR_EFFECT,this._onSameColorEffect,this),C.instance.off(C.SNOW_EFFECT,this._onSnowEffect,this),C.instance.off(C.TILES_ALL_DEAD,this._onTileAllDead,this),C.instance.off(C.SHOW_WARNNING,this._onShowWarnnig,this),C.instance.off(C.RETURN_TO_MENU,this._onReturnToMenu,this),C.instance.off(C.ULTIMATE_USE,this._onUltimateUse,this),C.instance.off(C.REWARD_SUCCESS,this._onRewardSuccess,this),C.instance.off(C.REWARD_FAIL,this._onRewardFail,this),C.instance.off(C.GET_NEW_ACHIEVEMENT,this._onGetNewAchievement,this),C.instance.off(C.ULTIMATE_ICON_AD_CLICK,this._onUltimateIconAdClick,this)},r._onMovingBonusClick=function(){this.blocker.active=!0},r._onUltimateIconAdClick=function(){this.blocker.active=!0},r._onGetNewAchievement=function(){this.achieveNotify.notify()},r._onShowWarnnig=function(e){e?this.warnning.show():this.warnning.hide()},r._checkNeedTutorial=function(){var e=S.instance.tutorials,t=!1;if(e)for(var i,n=s(e);!(i=n()).done;){if(!i.value){t=!0;break}}else t=!0,S.instance.tutorials=[];if(t){var o=y.instance.getAsset("prefabs/Tutorial"),a=m(o);a.getComponent("Tutorial").setCompleted(S.instance.tutorials),this.tutorials.addChild(a)}},r._onReturnToMenu=function(){z.instance.hideBannerAd(),p.stopAll(),this.dancePows.stopAllTween(),this.dancePows.node.active=!1,this.node.removeFromParent(),this.node.destroy()},r._onSettingsBtnClick=function(){this.settings.popup()},r.initData=function(){E("game level play init data..."),p.stopAll(),O.instance.playBackground(U.MUSIC,!0),v.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance(),this.scoreLB.string=S.instance.score.toString(),this.progress.setValue(S.instance.progress,v.instance.total_score),this.currentUltimate=H.instance.getCurrentUltimate(),H.instance.initData(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateIcon.setIcon(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles),this.movingBonus0.show(),this.dancePows.clearCount()},r._onExecutePowerup=function(e){switch(E("_onExecutePowerup "+e.powerupType),e.powerupType){case N.ERASE_COLS:for(var t=e.col-Math.floor(S.instance.erase_cols*H.instance.erase_cols_ratio/2),i=t+S.instance.erase_cols*H.instance.erase_cols_ratio-1,n=e.node.getWorldPosition(),o=n.clone(),s=Math.max(0,t);s<=Math.min(A.COLS-1,i);++s){var a=s-e.col;o.x=n.x+a*A.TILE_WIDTH;var r=m(this.TracePrefab).getComponent("Trace");this.effects.addChild(r.node),r.node.setWorldPosition(o)}break;case N.ERASE_ROWS:for(var l=e.row-Math.floor(S.instance.erase_rows*H.instance.erase_rows_ratio/2),c=l+S.instance.erase_rows*H.instance.erase_rows_ratio-1,u=e.node.getWorldPosition(),h=u.clone(),_=Math.max(l,0);_<=Math.min(A.ROWS-1,c);++_){var f=_-e.row;h.y=u.y+f*A.TILE_HEIGHT;var p=m(this.TraceRowPrefab).getComponent("TraceRow");this.effects.addChild(p.node),p.node.setWorldPosition(h)}break;case N.EXPLODE:var g=m(this.TraceExplodePrefab).getComponent("TraceExplode");this.effects.addChild(g.node),g.setShake(this.map.node,this.mapPos),g.node.setWorldPosition(e.node.getWorldPosition())}},r._onSnowEffect=function(e){var t=m(this.SnowPrefab).getComponent("SnowParticle");this.effects.addChild(t.node),t.node.setWorldPosition(e)},r._onSameColorEffect=function(e,t){var i=m(this.TraceColorPrefab).getComponent("TraceColor");i.setPos(e,t),this.effects.addChild(i.node),i.node.setWorldPosition(e)},r._onTileNormalRemove=function(e){var t=m(this.ExplodePrefab).getComponent("ExplodeParticle");this.effects.addChild(t.node),t.setFace(e),t.node.setWorldPosition(e.node.getWorldPosition())},r._onShowSkill=function(){S.instance.progress=0,C.instance.emit(C.PROGRESS_CHANGE),this.progress.setValue(S.instance.progress,v.instance.total_score),v.instance.level_id>1&&this.skillBoard.popup()},r._onProgressChange=function(){this.progress.setValue(S.instance.progress,v.instance.total_score)},r._onScoreChange=function(){this.scoreLB.string=""+S.instance.score},r._onLevelChange=function(){this.levelLB.string=""+S.instance.level},r._onReplay=function(){v.instance.level_id=0,++S.instance.start_game_count,S.instance.init_data(),this.initData(),this.skillBoard.init_new()},r._onTileClick=function(e){this.map.isOver?E("游戏已经结束了..."):this.map.match(e)&&(this.blocker.active=!0)},r._onAllTileToDest=function(){S.instance.progress==v.instance.total_score?(this.blocker.active=!1,this.gameWin.popup()):(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots())},r._onNextLevel=function(){O.instance.playBackground(U.MUSIC,!0),v.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance(),this.dancePows.clearCount(),this.warnning.hide()},r._onTileAllDead=function(){E("游戏结束..."),this.gameOver.popup()},r._onNewLineEnd=function(){if(this.map.isOver)return this.map.tilesGoDie(),this.warnning.hide(),void(this.blocker.active=!1);this.newLines<v.instance.new_line_nums*H.instance.new_line_reduce_ratio?(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()):(this.newLines=0,this.map.checkWarnning(),C.instance.emit(C.SHOW_TUTORIAL,I.INTRO_ULTIMATE),C.instance.emit(C.SHOW_TUTORIAL,I.INTRO_NEW_LINE),this.blocker.active=!1,E("这次消除了多少？",this.map.oneTimeRemoves),this.map.oneTimeRemoves>=50&&C.instance.emit(C.ONETIME_ERASE_50),this.map.oneTimeRemoves>=100&&C.instance.emit(C.ONETIME_ERASE_100),H.instance.isInUse||(this.currentUltimate.currentTiles+=this.map.oneTimeRemoves,this.ultimateIcon.checkAvailable(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles)))},r._onUltimateUse=function(){H.instance.checkCurrentAvailable()&&(H.instance.ultimateUse(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateCD=this.currentUltimate.cooldown)},r._adUltimateUse=function(){H.instance.ultimateUse(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateCD=this.currentUltimate.cooldown},r.ultimateUseCount=function(e){H.instance.isInUse&&(this.ultimateCD-=e,this.ultimateCD<=0?(H.instance.ultimateStopUse(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles)):this.ultimateProgress.setPercent(this.ultimateCD,this.currentUltimate.cooldown))},r._onRewardSuccess=function(){var e=this;if(O.instance.playBackground(U.MUSIC),S.instance.get_bonus==P.MOVING_0)console.log("获得清屏效果"),this.blocker.active=!1,this.movingBonus0.show(),S.instance.get_bonus=P.NONE,this.map.clearEveryTiles(),C.instance.emit(C.USE_TNT_BONUS_SUCCESS);else if(S.instance.get_bonus==P.MOVING_1){console.log("获得分数翻倍"),this.blocker.active=!1,S.instance.get_bonus=P.NONE,C.instance.emit(C.USE_DOUBLE_BONUS_SUCCESS),this.scoreUp.color=f.WHITE;var t=this.scoreUp;H.instance.double_score_ratio=2,g(f.WHITE.clone()).to(A.BONUS_SCORE_UP_DURATION,{r:this.scoreUpColor.r,g:this.scoreUpColor.g,b:this.scoreUpColor.b,a:this.scoreUpColor.a},{easing:"linear",onUpdate:function(e){t.color=e}}).call((function(){e.movingBonus1.show(),H.instance.double_score_ratio=1})).start()}else S.instance.get_bonus==P.LEVEL_REBIRTH?(S.instance.get_bonus=P.NONE,this.map.rebirth(),this.gameOver.node.active=!1,C.instance.emit(C.LEVEL_REBIRTH_SUCCESS)):S.instance.get_bonus==P.SKLII_ALL?(S.instance.get_bonus=P.NONE,this.skillBoard.getAllSkill(),this.skillBoard.popout(),C.instance.emit(C.GET_ALL_SKILL_SUCCESS)):S.instance.get_bonus==P.ULTIMATE_AD_USE&&(this.blocker.active=!1,S.instance.get_bonus=P.NONE,this._adUltimateUse(),C.instance.emit(C.USE_AD_ULTIMATE_SUCCESS))},r._onRewardFail=function(){O.instance.playBackground(U.MUSIC),S.instance.get_bonus==P.MOVING_0?(this.blocker.active=!1,this.movingBonus0.show(),S.instance.get_bonus=P.NONE):S.instance.get_bonus==P.MOVING_1?(this.blocker.active=!1,this.movingBonus1.show(),S.instance.get_bonus=P.NONE):S.instance.get_bonus==P.LEVEL_REBIRTH?(S.instance.get_bonus=P.NONE,this.gameOver.popout()):S.instance.get_bonus==P.SKLII_ALL?(S.instance.get_bonus=P.NONE,this.skillBoard.blocker.active=!1,this.skillBoard.skillsAllScript.startHale()):S.instance.get_bonus==P.ULTIMATE_AD_USE&&(this.blocker.active=!1,S.instance.get_bonus=P.NONE,this.ultimateIcon.adBtn.startHale())},r.update=function(e){this.map.isOver||this.ultimateUseCount(e)},a(t,[{key:"ultimateCD",get:function(){return this._ultimateCD},set:function(e){this._ultimateCD=e>0?e:0}}]),t}(b)).prototype,"blocker",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(be.prototype,"achieveNotify",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(be.prototype,"warnning",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(be.prototype,"scoreLB",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(be.prototype,"dancePows",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(be.prototype,"progress",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(be.prototype,"levelLB",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(be.prototype,"map",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(be.prototype,"effects",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(be.prototype,"ExplodePrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(be.prototype,"SnowPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(be.prototype,"TracePrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(be.prototype,"TraceRowPrefab",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(be.prototype,"TraceColorPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(be.prototype,"TraceExplodePrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(be.prototype,"dots",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(be.prototype,"gameOver",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(be.prototype,"gameWin",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(be.prototype,"skillBoard",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(be.prototype,"settingsBtn",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=t(be.prototype,"settings",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(be.prototype,"tutorials",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=t(be.prototype,"ultimateIcon",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(be.prototype,"ultimateProgress",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(be.prototype,"movingBonus0",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(be.prototype,"movingBonus1",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=t(be.prototype,"scoreUp",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=be))||ge));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./RequestManager.ts","./CustomProgress.ts","./LevelManager.ts","./LoadingPanel.ts","./RequestLogin.ts","./RankPanel.ts","./AchievementManager.ts","./AchievementPanel.ts","./UltimateManager.ts","./UltimatePanel.ts","./WXPlatformManager.ts","./ResourceManager.ts","./Settings.ts"],(function(e){var n,t,i,a,l,r,o,s,u,c,g,m,h,p,f,b,B,P,y,_,v,d,k,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Node,s=e.instantiate,u=e.Component},function(e){c=e.EventManager},function(e){g=e.GameMode},function(e){m=e.RequestManager},function(e){h=e.CustomProgress},function(e){p=e.LevelManager},function(e){f=e.LoadingPanel},function(e){b=e.RequestLogin},function(e){B=e.RankPanel},function(e){P=e.AchievementManager},function(e){y=e.AchievementPanel},function(e){_=e.UltimateManager},function(e){v=e.UltimatePanel},function(e){d=e.WXPlatformManager},function(e){k=e.ResourceManager},function(e){C=e.Settings}],execute:function(){var M,U,T,A,E,N,w,z,L,R,S,O,D,G,q,H,I,V,F,X,Q,W,j,x,Z,J,K,Y,$,ee,ne;l._RF.push({},"e946eQX9qVL9Iy0hbZ3FyUC","GameMenu",void 0);var te=r.ccclass,ie=r.property;e("GameMenu",(M=te("GameMenu"),U=ie(o),T=ie(o),A=ie(o),E=ie(o),N=ie(o),w=ie(o),z=ie(o),L=ie(h),R=ie(B),S=ie(f),O=ie(y),D=ie(v),G=ie(C),q=ie(o),M((V=n((I=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,i(n,"levelPlayBtn",V,a(n)),i(n,"normalPlayBtn",F,a(n)),i(n,"skillBtn",X,a(n)),i(n,"rankBtn",Q,a(n)),i(n,"achieveBtn",W,a(n)),i(n,"settingsBtn",j,a(n)),i(n,"content",x,a(n)),i(n,"progress",Z,a(n)),i(n,"rankPanel",J,a(n)),i(n,"loadingPanel",K,a(n)),i(n,"achievementPanel",Y,a(n)),i(n,"ultimatePanel",$,a(n)),i(n,"settingsPanel",ee,a(n)),i(n,"gameContainer",ne,a(n)),n.current=0,n.total=1,n.top=1,n.game=null,n}t(n,e);var l=n.prototype;return l.start=function(){d.instance.shareInitiative(),d.instance.hideBannerAd(),P.instance.initAchievements(),_.instance.initUltimates(),m.instance.request(b.REQUEST_NAME),this.levelPlayBtn.on(c.BASE_BUTTON_TOUCH_END,this._onLevelPlayBtnClick,this),this.normalPlayBtn.on(c.BASE_BUTTON_TOUCH_END,this._onNormalPlayBtnClick,this),this.skillBtn.on(c.BASE_BUTTON_TOUCH_END,this._onSkillBtnClick,this),this.rankBtn.on(c.BASE_BUTTON_TOUCH_END,this._onRankBtnClick,this),this.achieveBtn.on(c.BASE_BUTTON_TOUCH_END,this._onAchieveBtnClick,this),this.settingsBtn.on(c.BASE_BUTTON_TOUCH_END,this._onSettingsBtnClick,this)},l._onGetUserInfo=function(){this.loadingPanel.hide()},l._onRequestUserInfo=function(){this.loadingPanel.show()},l._onLevelPlayBtnClick=function(){p.instance.mode=g.LEVEL,this.game&&this.game.isValid&&this.game.destroy();var e=k.instance.getAsset("prefabs/GameLevelPlay");this.game=s(e),this.gameContainer.addChild(this.game)},l._onNormalPlayBtnClick=function(){p.instance.mode=g.NORMAL,this.game&&this.game.isValid&&this.game.destroy();var e=k.instance.getAsset("prefabs/GameNormalPlay");this.game=s(e),this.gameContainer.addChild(this.game)},l._onSkillBtnClick=function(){this.ultimatePanel.popup()},l._onRankBtnClick=function(){this.rankPanel.popup()},l._onAchieveBtnClick=function(){this.achievementPanel.popup()},l._onSettingsBtnClick=function(){this.settingsPanel.popup()},l.update=function(e){},n}(u)).prototype,"levelPlayBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(I.prototype,"normalPlayBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(I.prototype,"skillBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(I.prototype,"rankBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(I.prototype,"achieveBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(I.prototype,"settingsBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(I.prototype,"content",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=n(I.prototype,"progress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(I.prototype,"rankPanel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(I.prototype,"loadingPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(I.prototype,"achievementPanel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(I.prototype,"ultimatePanel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(I.prototype,"settingsPanel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(I.prototype,"gameContainer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=I))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameNormalOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserData.ts","./GlobalData.ts","./WXPlatformManager.ts"],(function(t){var e,i,n,r,a,o,s,c,l,h,p,u,b,B,_,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Node,c=t.Animation,l=t.Label,h=t.Tween,p=t.tween,u=t.Vec3,b=t.Component},function(t){B=t.EventManager},function(t){_=t.UserData},function(t){f=t.RewardType},function(t){y=t.WXPlatformManager}],execute:function(){var m,g,v,T,d,S,E,R,A,O,N,w,C;a._RF.push({},"ba58736p79I2pgrzVSiJ21l","GameNormalOver",void 0);var L=o.ccclass,H=o.property;t("GameNormalOver",(m=L("GameNormalOver"),g=H(s),v=H(s),T=H(c),d=H(s),S=H(l),m((A=e((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"replayBtn",A,r(e)),n(e,"rebirthBtn",O,r(e)),n(e,"animation",N,r(e)),n(e,"content",w,r(e)),n(e,"scoreLB",C,r(e)),e.rebirthScript=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){this.content.setScale(.5,.5),this.replayBtn.on(B.BASE_BUTTON_TOUCH_END,this._onReplayBtnClick,this),this.rebirthBtn.on(B.BASE_BUTTON_TOUCH_START,this._onRebirthBtnStart,this),this.rebirthBtn.on(B.BASE_BUTTON_TOUCH_END,this._onRebirthBtnEnd,this),this.rebirthBtn.on(B.BASE_BUTTON_TOUCH_CANCEL,this._onRebirthBtnCancel,this),this.rebirthScript=this.rebirthBtn.getComponent("BreathNode"),this._checkExtraLife()},a._onRebirthBtnEnd=function(){this.rebirthScript.stopHale(),h.stopAllByTarget(this.node),h.stopAllByTarget(this.replayBtn),h.stopAllByTarget(this.rebirthBtn),_.instance.get_bonus=f.NORMAL_REBIRTH,this.rebirthBtn.active=!1,this.replayBtn.active=!1,y.instance.showRewaredVideoAd()},a._onRebirthBtnStart=function(){this.rebirthScript.stopHale()},a._onRebirthBtnCancel=function(){this.rebirthScript.startHale()},a._onReplayBtnClick=function(){this.popout()},a._checkExtraLife=function(){var t=this;_.instance.extra_life>0?(--_.instance.extra_life,this.replayBtn.active=!1,this.rebirthBtn.active=!0,this.rebirthScript.startHale(),this.rebirthBtn.setPosition(7,-414),this.replayBtn.setPosition(4,-414),p(this.node).delay(3).call((function(){t.replayBtn.active=!0,p(t.replayBtn).by(1,{position:new u(200)},{easing:"sineInOut"}).start(),p(t.rebirthBtn).by(1,{position:new u(-200)},{easing:"sineInOut"}).start()})).start()):(this.rebirthBtn.active=!1,this.replayBtn.active=!0,this.replayBtn.setPosition(4,-414))},a.popup=function(){y.instance.showInterstitialAd(),this.rebirthScript&&this._checkExtraLife(),_.instance.max_score_change&&(_.instance.max_score_change=!1,B.instance.emit(B.STORE_NETWORK_DATA,{max_score:_.instance.max_score})),this.scoreLB.string=_.instance.score.toString(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.rebirthScript&&this.rebirthScript.stopHale(),this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1,B.instance.emit(B.GAME_REPLAY)},a.update=function(t){},e}(b)).prototype,"replayBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(R.prototype,"rebirthBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(R.prototype,"animation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(R.prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(R.prototype,"scoreLB",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=R))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameNormalPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./EventManager.ts","./GlobalData.ts","./ResourceManager.ts","./UltimateManager.ts","./WXPlatformManager.ts","./CustomProgress.ts","./DancePows.ts","./Dots.ts","./GameNormalOver.ts","./GetAchieveNotify.ts","./LevelManager.ts","./Map.ts","./MovingBonus.ts","./Settings.ts","./UltimateIcon.ts","./UserData.ts","./Warnning.ts"],(function(e){var t,i,n,o,a,s,r,l,c,u,h,_,f,m,p,E,b,g,d,T,C,U,w,N,v,S,A,I,R,P,O,L,M,y,D,k,B,W,G,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,h=e.Prefab,_=e.Sprite,f=e.Color,m=e.tween,p=e.instantiate,E=e.Tween,b=e.log,g=e.Component},function(e){d=e.AudioMananger},function(e){T=e.EventManager},function(e){C=e.AudioIDs,U=e.RewardType,w=e.GlobalData,N=e.TutorialSteps,v=e.TilePowerupTypes},function(e){S=e.ResourceManager},function(e){A=e.UltimateManager},function(e){I=e.WXPlatformManager},function(e){R=e.CustomProgress},function(e){P=e.DancePows},function(e){O=e.Dots},function(e){L=e.GameNormalOver},function(e){M=e.GetAchieveNotify},function(e){y=e.LevelManager},function(e){D=e.Map},function(e){k=e.MovingBonus},function(e){B=e.Settings},function(e){W=e.UltimateIcon},function(e){G=e.UserData},function(e){z=e.Warnning}],execute:function(){var H,F,x,V,K,X,Y,j,J,q,Q,Z,$,ee,te,ie,ne,oe,ae,se,re,le,ce,ue,he,_e,fe,me,pe,Ee,be,ge,de,Te,Ce,Ue,we,Ne,ve,Se,Ae,Ie,Re,Pe,Oe,Le,Me,ye,De;r._RF.push({},"439afsidJNOTrSP1AtSHvIU","GameNormalPlay",void 0);var ke=l.ccclass,Be=l.property;e("GameNormalPlay",(H=ke("GameNormalPlay"),F=Be(c),x=Be(M),V=Be(z),K=Be(u),X=Be(P),Y=Be(D),j=Be(c),J=Be(h),q=Be(h),Q=Be(h),Z=Be(h),$=Be(h),ee=Be(h),te=Be(O),ie=Be(L),ne=Be(c),oe=Be(B),ae=Be(c),se=Be(W),re=Be(R),le=Be(k),ce=Be(k),ue=Be(_),H((fe=t((_e=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"blocker",fe,o(t)),n(t,"achieveNotify",me,o(t)),n(t,"warnning",pe,o(t)),n(t,"scoreLB",Ee,o(t)),n(t,"dancePows",be,o(t)),n(t,"map",ge,o(t)),n(t,"effects",de,o(t)),n(t,"ExplodePrefab",Te,o(t)),n(t,"SnowPrefab",Ce,o(t)),n(t,"TracePrefab",Ue,o(t)),n(t,"TraceRowPrefab",we,o(t)),n(t,"TraceColorPrefab",Ne,o(t)),n(t,"TraceExplodePrefab",ve,o(t)),n(t,"dots",Se,o(t)),n(t,"gameOver",Ae,o(t)),n(t,"settingsBtn",Ie,o(t)),n(t,"settings",Re,o(t)),n(t,"tutorials",Pe,o(t)),n(t,"ultimateIcon",Oe,o(t)),n(t,"ultimateProgress",Le,o(t)),n(t,"movingBonus0",Me,o(t)),n(t,"movingBonus1",ye,o(t)),n(t,"scoreUp",De,o(t)),t.scoreUpColor=new f(255,255,255,0),t.currentUltimate=void 0,t._ultimateCD=0,t.newLines=0,t.mapPos=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){I.instance.showInterstitialAd(),I.instance.showBannerAd(),d.instance.playBackground(C.MUSIC),A.instance.map=this.map,this.settingsBtn.on(T.BASE_BUTTON_TOUCH_END,this._onSettingsBtnClick,this),T.instance.on(T.TILE_CLICK,this._onTileClick,this),T.instance.on(T.ALL_TILE_TO_DEST,this._onAllTileToDest,this),T.instance.on(T.NEW_LINE_END,this._onNewLineEnd,this),T.instance.on(T.GAME_REPLAY,this._onReplay,this),T.instance.on(T.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),T.instance.on(T.EXECUTE_POWERUP,this._onExecutePowerup,this),T.instance.on(T.SAME_COLOR_EFFECT,this._onSameColorEffect,this),T.instance.on(T.SNOW_EFFECT,this._onSnowEffect,this),T.instance.on(T.SHOW_WARNNING,this._onShowWarnnig,this),T.instance.on(T.TILES_ALL_DEAD,this._onTileAllDead,this),T.instance.on(T.SCORE_CHANGE,this._onScoreChange,this),T.instance.on(T.RETURN_TO_MENU,this._onReturnToMenu,this),T.instance.on(T.ULTIMATE_USE,this._onUltimateUse,this),T.instance.on(T.REWARD_SUCCESS,this._onRewardSuccess,this),T.instance.on(T.REWARD_FAIL,this._onRewardFail,this),T.instance.on(T.GET_NEW_ACHIEVEMENT,this._onGetNewAchievement,this),T.instance.on(T.MOVING_BONUS_CLICK,this._onMovingBonusClick,this),T.instance.on(T.ULTIMATE_ICON_AD_CLICK,this._onUltimateIconAdClick,this),T.instance.emit(T.ENTER_GAME_NORMAL),y.instance.init_normal_data(),G.instance.init_normal_data(),this.initData(),this.blocker.active=!1,this._checkNeedTutorial(),this.dancePows.node.active=!0,this.mapPos=this.map.node.getPosition()},r.onDestroy=function(){T.instance.off(T.TILE_CLICK,this._onTileClick,this),T.instance.off(T.ALL_TILE_TO_DEST,this._onAllTileToDest,this),T.instance.off(T.NEW_LINE_END,this._onNewLineEnd,this),T.instance.off(T.GAME_REPLAY,this._onReplay,this),T.instance.off(T.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),T.instance.off(T.EXECUTE_POWERUP,this._onExecutePowerup,this),T.instance.off(T.SAME_COLOR_EFFECT,this._onSameColorEffect,this),T.instance.off(T.SNOW_EFFECT,this._onSnowEffect,this),T.instance.off(T.SHOW_WARNNING,this._onShowWarnnig,this),T.instance.off(T.TILES_ALL_DEAD,this._onTileAllDead,this),T.instance.off(T.SCORE_CHANGE,this._onScoreChange,this),T.instance.off(T.RETURN_TO_MENU,this._onReturnToMenu,this),T.instance.off(T.ULTIMATE_USE,this._onUltimateUse,this),T.instance.off(T.REWARD_SUCCESS,this._onRewardSuccess,this),T.instance.off(T.REWARD_FAIL,this._onRewardFail,this),T.instance.off(T.GET_NEW_ACHIEVEMENT,this._onGetNewAchievement,this),T.instance.off(T.MOVING_BONUS_CLICK,this._onMovingBonusClick,this),T.instance.off(T.ULTIMATE_ICON_AD_CLICK,this._onUltimateIconAdClick,this)},r._onMovingBonusClick=function(){this.blocker.active=!0},r._onUltimateIconAdClick=function(){this.blocker.active=!0},r._onRewardSuccess=function(){var e=this;if(d.instance.playBackground(C.MUSIC),G.instance.get_bonus==U.MOVING_0)console.log("获得清屏效果"),this.blocker.active=!1,this.movingBonus0.show(),G.instance.get_bonus=U.NONE,this.map.clearEveryTiles(),T.instance.emit(T.USE_TNT_BONUS_SUCCESS);else if(G.instance.get_bonus==U.MOVING_1){console.log("获得分数翻倍"),this.blocker.active=!1,G.instance.get_bonus=U.NONE,T.instance.emit(T.USE_DOUBLE_BONUS_SUCCESS),this.scoreUp.color=f.WHITE;var t=this.scoreUp;A.instance.double_score_ratio=2,m(f.WHITE.clone()).to(w.BONUS_SCORE_UP_DURATION,{r:this.scoreUpColor.r,g:this.scoreUpColor.g,b:this.scoreUpColor.b,a:this.scoreUpColor.a},{easing:"linear",onUpdate:function(e){t.color=e}}).call((function(){e.movingBonus1.show(),A.instance.double_score_ratio=1})).start()}else G.instance.get_bonus==U.NORMAL_REBIRTH?(G.instance.get_bonus=U.NONE,this.map.rebirth(),this.gameOver.node.active=!1,T.instance.emit(T.NORMAL_REBIRTH_SUCCESS)):G.instance.get_bonus==U.ULTIMATE_AD_USE&&(this.blocker.active=!1,G.instance.get_bonus=U.NONE,this._adUltimateUse(),T.instance.emit(T.USE_AD_ULTIMATE_SUCCESS))},r._onRewardFail=function(){d.instance.playBackground(C.MUSIC),G.instance.get_bonus==U.MOVING_0?(this.movingBonus0.show(),G.instance.get_bonus=U.NONE,this.blocker.active=!1):G.instance.get_bonus==U.MOVING_1?(this.movingBonus1.show(),G.instance.get_bonus=U.NONE,this.blocker.active=!1):G.instance.get_bonus==U.NORMAL_REBIRTH?(G.instance.get_bonus=U.NONE,this.gameOver.popout()):G.instance.get_bonus==U.ULTIMATE_AD_USE&&(G.instance.get_bonus=U.NONE,this.blocker.active=!1,this.ultimateIcon.adBtn.startHale())},r._onGetNewAchievement=function(){this.achieveNotify.notify()},r._checkNeedTutorial=function(){var e=G.instance.tutorials,t=!1;if(e)for(var i,n=a(e);!(i=n()).done;){if(!i.value){t=!0;break}}else t=!0,G.instance.tutorials=[];if(console.log("tutorials:",e),t){var o=S.instance.getAsset("prefabs/Tutorial"),s=p(o);s.getComponent("Tutorial").setCompleted(G.instance.tutorials),this.tutorials.addChild(s)}},r._onReturnToMenu=function(){E.stopAll(),I.instance.hideBannerAd(),this.dancePows.stopAllTween(),this.dancePows.node.active=!1,this.node.removeFromParent(),this.node.destroy()},r._onSettingsBtnClick=function(){this.settings.popup()},r._onScoreChange=function(){this.scoreLB.string=""+G.instance.score},r._onTileClick=function(e){this.map.isOver?b("游戏已经结束了..."):this.map.match(e)&&(this.blocker.active=!0)},r._onAllTileToDest=function(){++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()},r._onNewLineEnd=function(){if(this.map.isOver)return this.map.tilesGoDie(),this.warnning.hide(),void(this.blocker.active=!1);this.map.checkWarnning(),T.instance.emit(T.SHOW_TUTORIAL,N.INTRO_ULTIMATE),T.instance.emit(T.SHOW_TUTORIAL,N.INTRO_NEW_LINE),this.blocker.active=!1,b("这次消除了多少？",this.map.oneTimeRemoves),this.map.oneTimeRemoves>=50&&T.instance.emit(T.ONETIME_ERASE_50),this.map.oneTimeRemoves>=100&&T.instance.emit(T.ONETIME_ERASE_100),A.instance.isInUse||(this.currentUltimate.currentTiles+=this.map.oneTimeRemoves,this.ultimateIcon.checkAvailable(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles))},r._onUltimateUse=function(){A.instance.checkCurrentAvailable()&&(A.instance.ultimateUse(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateCD=this.currentUltimate.cooldown)},r._adUltimateUse=function(){A.instance.ultimateUse(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateCD=this.currentUltimate.cooldown},r.ultimateUseCount=function(e){A.instance.isInUse&&(this.ultimateCD-=e,this.ultimateCD<=0?(A.instance.ultimateStopUse(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles)):this.ultimateProgress.setPercent(this.ultimateCD,this.currentUltimate.cooldown))},r._onReplay=function(){G.instance.init_normal_data(),this.initData()},r.initData=function(){b("game normal play init data..."),d.instance.playBackground(C.MUSIC,!0),this.scoreLB.string="0",this.map.init_data(),this.dots.createDots(),this.map.entrance(),this.currentUltimate=A.instance.getCurrentUltimate(),A.instance.initData(),this.currentUltimate.currentTiles=0,this.ultimateIcon.checkAvailable(),this.ultimateIcon.setIcon(),this.ultimateProgress.setValue(this.currentUltimate.currentTiles,this.currentUltimate.totalTiles),this.movingBonus1.show(),this.dancePows.clearCount(),this.warnning.hide()},r._onTileNormalRemove=function(e){var t=p(this.ExplodePrefab).getComponent("ExplodeParticle");this.effects.addChild(t.node),t.setFace(e),t.node.setWorldPosition(e.node.getWorldPosition())},r._onExecutePowerup=function(e){switch(b("_onExecutePowerup "+e.powerupType),e.powerupType){case v.ERASE_COLS:for(var t=e.col-Math.floor(G.instance.erase_cols*A.instance.erase_cols_ratio/2),i=t+G.instance.erase_cols*A.instance.erase_cols_ratio-1,n=e.node.getWorldPosition(),o=n.clone(),a=Math.max(0,t);a<=Math.min(w.COLS-1,i);++a){var s=a-e.col;o.x=n.x+s*w.TILE_WIDTH;var r=p(this.TracePrefab).getComponent("Trace");this.effects.addChild(r.node),r.node.setWorldPosition(o)}break;case v.ERASE_ROWS:for(var l=e.row-Math.floor(G.instance.erase_rows*A.instance.erase_rows_ratio/2),c=l+G.instance.erase_rows*A.instance.erase_rows_ratio-1,u=e.node.getWorldPosition(),h=u.clone(),_=Math.max(l,0);_<=Math.min(w.ROWS-1,c);++_){var f=_-e.row;h.y=u.y+f*w.TILE_HEIGHT;var m=p(this.TraceRowPrefab).getComponent("TraceRow");this.effects.addChild(m.node),m.node.setWorldPosition(h)}break;case v.EXPLODE:var E=p(this.TraceExplodePrefab).getComponent("TraceExplode");this.effects.addChild(E.node),E.setShake(this.map.node,this.mapPos),E.node.setWorldPosition(e.node.getWorldPosition())}},r._onSameColorEffect=function(e,t){var i=p(this.TraceColorPrefab).getComponent("TraceColor");i.setPos(e,t),this.effects.addChild(i.node),i.node.setWorldPosition(e)},r._onSnowEffect=function(e){var t=p(this.SnowPrefab).getComponent("SnowParticle");this.effects.addChild(t.node),t.node.setWorldPosition(e)},r._onShowWarnnig=function(e){e?this.warnning.show():this.warnning.hide()},r._onTileAllDead=function(){b("游戏结束..."),this.gameOver.popup()},r.update=function(e){this.map.isOver||this.ultimateUseCount(e)},s(t,[{key:"ultimateCD",get:function(){return this._ultimateCD},set:function(e){this._ultimateCD=e>0?e:0}}]),t}(g)).prototype,"blocker",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(_e.prototype,"achieveNotify",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(_e.prototype,"warnning",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(_e.prototype,"scoreLB",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(_e.prototype,"dancePows",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(_e.prototype,"map",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(_e.prototype,"effects",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(_e.prototype,"ExplodePrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(_e.prototype,"SnowPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(_e.prototype,"TracePrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(_e.prototype,"TraceRowPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(_e.prototype,"TraceColorPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(_e.prototype,"TraceExplodePrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(_e.prototype,"dots",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(_e.prototype,"gameOver",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(_e.prototype,"settingsBtn",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(_e.prototype,"settings",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(_e.prototype,"tutorials",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(_e.prototype,"ultimateIcon",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(_e.prototype,"ultimateProgress",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(_e.prototype,"movingBonus0",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(_e.prototype,"movingBonus1",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(_e.prototype,"scoreUp",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=_e))||he));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./UserData.ts","./WXPlatformManager.ts"],(function(t){var i,e,n,r,a,o,s,h,c,l,p,u,b,B,y,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Node,h=t.Animation,c=t.Tween,l=t.tween,p=t.Vec3,u=t.Component},function(t){b=t.EventManager},function(t){B=t.RewardType},function(t){y=t.UserData},function(t){f=t.WXPlatformManager}],execute:function(){var _,v,d,m,T,g,S,E,R,A,O;a._RF.push({},"11a55Sg01NOubb0mqCHyQob","GameOver",void 0);var w=o.ccclass,C=o.property;t("GameOver",(_=w("GameOver"),v=C(s),d=C(s),m=C(h),T=C(s),_((E=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(i,"rebirthBtn",E,r(i)),n(i,"replayBtn",R,r(i)),n(i,"animation",A,r(i)),n(i,"content",O,r(i)),i.rebirthScript=void 0,i}e(i,t);var a=i.prototype;return a.start=function(){this.content.setScale(.5,.5),this.replayBtn.on(b.BASE_BUTTON_TOUCH_END,this._onReplayBtnClick,this),this.rebirthBtn.on(b.BASE_BUTTON_TOUCH_START,this._onRebirthBtnStart,this),this.rebirthBtn.on(b.BASE_BUTTON_TOUCH_END,this._onRebirthBtnEnd,this),this.rebirthBtn.on(b.BASE_BUTTON_TOUCH_CANCEL,this._onRebirthBtnCancel,this),this.rebirthScript=this.rebirthBtn.getComponent("BreathNode"),this._checkExtraLife()},a._onRebirthBtnEnd=function(){this.rebirthScript.stopHale(),c.stopAllByTarget(this.node),c.stopAllByTarget(this.replayBtn),c.stopAllByTarget(this.rebirthBtn),y.instance.get_bonus=B.LEVEL_REBIRTH,this.rebirthBtn.active=!1,this.replayBtn.active=!1,f.instance.showRewaredVideoAd()},a._onRebirthBtnStart=function(){this.rebirthScript.stopHale()},a._onRebirthBtnCancel=function(){this.rebirthScript.startHale()},a._checkExtraLife=function(){var t=this;y.instance.extra_life>0?(--y.instance.extra_life,this.replayBtn.active=!1,this.rebirthBtn.active=!0,this.rebirthScript.startHale(),this.rebirthBtn.setPosition(32,-470),this.replayBtn.setPosition(32,-470),l(this.node).delay(3).call((function(){t.replayBtn.active=!0,l(t.replayBtn).by(1,{position:new p(150)},{easing:"sineInOut"}).start(),l(t.rebirthBtn).by(1,{position:new p(-150)},{easing:"sineInOut"}).start()})).start()):(this.rebirthBtn.active=!1,this.replayBtn.active=!0,this.replayBtn.setPosition(32,-470))},a._onReplayBtnClick=function(){this.popout()},a.popup=function(){f.instance.showInterstitialAd(),this.rebirthScript&&this._checkExtraLife(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.rebirthScript&&this.rebirthScript.stopHale(),this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1,b.instance.emit(b.GAME_REPLAY)},a.update=function(t){},i}(u)).prototype,"rebirthBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(S.prototype,"replayBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(S.prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(S.prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=S))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./GlobalData.ts","./ResourceManager.ts"],(function(e){var a,t,n,r,i,o,s,l,c,u,p,f;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,l=e.instantiate,c=e.Component},function(e){u=e.LevelManager},function(e){p=e.GameMode},function(e){f=e.ResourceManager}],execute:function(){var m,g,y,d,v;i._RF.push({},"bed25Jq6p9EYLrse7gMMuK7","GamePlay",void 0);var h=o.ccclass,L=o.property;e("GamePlay",(m=h("GamePlay"),g=L(s),m((v=a((d=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,n(a,"gameContainer",v,r(a)),a}t(a,e);var i=a.prototype;return i.start=function(){var e;if(u.instance.mode==p.LEVEL){var a=f.instance.getAsset("prefabs/GameLevelPlay");e=l(a)}else if(u.instance.mode==p.NORMAL){var t=f.instance.getAsset("prefabs/GameNormalPlay");e=l(t)}this.gameContainer.addChild(e)},i.update=function(e){},a}(c)).prototype,"gameContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts","./EventManager.ts","./UserData.ts","./WXPlatformManager.ts"],(function(t){var n,i,e,a,o,r,s,c,u,l,p,h,f,m,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.ParticleSystem2D,c=t.Animation,u=t.Node,l=t.Component},function(t){p=t.AudioMananger},function(t){h=t.AudioIDs},function(t){f=t.EventManager},function(t){m=t.UserData},function(t){y=t.WXPlatformManager}],execute:function(){var d,g,w,b,v,_,D,S,W;o._RF.push({},"d1b0fg8R5BG/o7RrBJ/eIr4","GameWin",void 0);var M=r.ccclass,A=r.property;t("GameWin",(d=M("GameWin"),g=A(s),w=A(c),b=A(u),d((D=n((_=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,e(n,"stars",D,a(n)),e(n,"animation",S,a(n)),e(n,"content",W,a(n)),n.showCount=2,n.isShow=!1,n}i(n,t);var o=n.prototype;return o.start=function(){},o.popup=function(){y.instance.showInterstitialAd(),this.showCount=2,this.isShow=!0,this.stars.resetSystem(),m.instance.is_music_on?p.instance.playBackground(h.WIN,!1):p.instance.playEffect(h.WIN),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},o.popout=function(){this.animation.play("popout_animation")},o.hide=function(){this.node.active=!1,f.instance.emit(f.NEXT_LEVEL)},o.update=function(t){this.isShow&&(this.showCount<0?(this.isShow=!1,this.popout()):this.showCount-=t)},n}(l)).prototype,"stars",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(_.prototype,"animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(_.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/GetAchieveNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,c,r,s,a,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,s=t.Node,a=t.Tween,l=t.tween,u=t.Vec3,p=t.Component}],execute:function(){var f,h,y,v,d;c._RF.push({},"e95b8AbJG9D9Z96cqN4hGAU","GetAchieveNotify",void 0);var g=r.ccclass,A=r.property;t("GetAchieveNotify",(f=g("GetAchieveNotify"),h=A(s),f((d=e((v=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,i(e,"content",d,o(e)),e}n(e,t);var c=e.prototype;return c.start=function(){this.node.active=!1},c.notify=function(){var t=this;a.stopAllByTarget(this.content),this.node.active=!0,this.content.setPosition(0,0),l(this.content).to(1,{position:new u(-280,0,0)},{easing:"sineInOut"}).delay(1).to(1,{position:new u(0,0)},{easing:"sineInOut"}).call((function(){t.node.active=!1})).start()},c.update=function(t){},e}(p)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(E){var R;return{setters:[function(E){R=E.cclegacy}],execute:function(){R._RF.push({},"7548cN90TBO7aGQBomzutVG","GlobalData",void 0);E("TileType",function(E){return E[E.NORMAL=0]="NORMAL",E[E.STONE=1]="STONE",E[E.STEPS=2]="STEPS",E}({})),E("TileColorTypes",function(E){return E[E.BLACK=0]="BLACK",E[E.RED=1]="RED",E[E.YELLOW=2]="YELLOW",E[E.BLUE=3]="BLUE",E[E.GREEN=4]="GREEN",E[E.PURPLE=5]="PURPLE",E[E.ORANGE=6]="ORANGE",E}({})),E("TilePowerupTypes",function(E){return E[E.NORMAL=0]="NORMAL",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR",E}({})),E("LoadAssetType",function(E){return E[E.Texture2D=0]="Texture2D",E[E.Prefab=1]="Prefab",E[E.Data=2]="Data",E[E.Scence=3]="Scence",E}({})),E("SkillType",function(E){return E[E.POWERUP_MIN=0]="POWERUP_MIN",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR",E[E.STONE_CHANCE=5]="STONE_CHANCE",E[E.LIMIT_CHANCE=6]="LIMIT_CHANCE",E[E.LIMIT_STEP_CHANCE=7]="LIMIT_STEP_CHANCE",E[E.NEW_LINE_REDUCE=8]="NEW_LINE_REDUCE",E[E.INIT_ROW=9]="INIT_ROW",E}({})),E("AudioIDs",function(E){return E[E.CLICK=0]="CLICK",E[E.SOO=1]="SOO",E[E.BREAK=2]="BREAK",E[E.ICE_BREAK=3]="ICE_BREAK",E[E.STONE_BREAK=4]="STONE_BREAK",E[E.ERASE_EFFCT=5]="ERASE_EFFCT",E[E.WIN=6]="WIN",E[E.MOVE_TO_DEST=7]="MOVE_TO_DEST",E[E.ENTER=8]="ENTER",E[E.UPGRADE=9]="UPGRADE",E[E.POPUP=10]="POPUP",E[E.MUSIC=11]="MUSIC",E[E.ERROR=12]="ERROR",E[E.LOSE=13]="LOSE",E[E.GOOD=14]="GOOD",E[E.GREAT=15]="GREAT",E[E.EXCELLENT=16]="EXCELLENT",E[E.CLAP=17]="CLAP",E[E.WARNNING=18]="WARNNING",E}({})),E("TutorialSteps",function(E){return E[E.ICE_TILE=0]="ICE_TILE",E[E.STONE_TILE=1]="STONE_TILE",E[E.INTRO_PLAY=2]="INTRO_PLAY",E[E.INTRO_NEW_LINE=3]="INTRO_NEW_LINE",E[E.INTRO_GAME_OVER=4]="INTRO_GAME_OVER",E[E.ERASE_COLS=5]="ERASE_COLS",E[E.ERASE_ROWS=6]="ERASE_ROWS",E[E.BOMB=7]="BOMB",E[E.SAME_COLOR=8]="SAME_COLOR",E[E.INTRO_ULTIMATE=9]="INTRO_ULTIMATE",E}({})),E("GameMode",function(E){return E[E.NORMAL=0]="NORMAL",E[E.LEVEL=1]="LEVEL",E}({})),E("RewardType",function(E){return E[E.NONE=0]="NONE",E[E.MOVING_0=1]="MOVING_0",E[E.MOVING_1=2]="MOVING_1",E[E.NORMAL_REBIRTH=3]="NORMAL_REBIRTH",E[E.LEVEL_REBIRTH=4]="LEVEL_REBIRTH",E[E.SKLII_ALL=5]="SKLII_ALL",E[E.ULTIMATE_AD_USE=6]="ULTIMATE_AD_USE",E}({}));var O=E("GlobalData",(function(){}));O.VERSION="2.0.10",O.ROWS=13,O.COLS=11,O.TILE_WIDTH=86,O.TILE_HEIGHT=86,O.TILE_SCORE=10,O.MAX_SKILL_ERASE_COL=6,O.MAX_SKILL_ERASE_ROW=7,O.MAX_SKILL_EXPLODE=6,O.MIN_SKILL_POWERUP_MIN=4,O.MIN_SKILL_NEWLINE=1,O.MAX_RANK_ITEM=100,O.RANK_REQUST_GAP=36e5,O.BONUS_SCORE_UP_DURATION=30,R._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./EventManager.ts","./GlobalData.ts"],(function(i){var t,e,s,n,_,l;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy},function(i){s=i.UserData},function(i){n=i.EventManager},function(i){_=i.SkillType,l=i.GameMode}],execute:function(){e._RF.push({},"d96bdWyl/9JmafPo0yT90h6","LevelManager",void 0),i("LevelManager",function(){function i(){this.isRestart=!0,this.mode=l.NORMAL,this.level_id=0,this.total_score=0,this.tile_color_types=2,this.init_row=4,this.stone_chance=0,this.limit_chance=0,this.max_limit=9,this.min_limit=1,this._new_line_nums=1,this.is_new_level=!1}var e=i.prototype;return e.set_total_score=function(){this.level_id<=10?this.total_score=1e3:this.level_id<=20?this.total_score=1200:this.level_id<=30?this.total_score=1500:this.level_id<=40?this.total_score=1800:this.level_id<=50?this.total_score=2e3:this.total_score=3e3},e.set_color_types=function(){this.level_id<=15?this.tile_color_types=2:this.level_id<=50?this.tile_color_types=3:this.level_id<=75?this.tile_color_types=4:this.level_id<=100?this.tile_color_types=5:(this.tile_color_types,this.tile_color_types=6)},e.set_init_row=function(){this.level_id<=10?this.init_row=4:this.level_id<=15?this.init_row=5:this.level_id<=55?this.init_row=6:(this.level_id,this.init_row=7),this.init_row-=s.instance.reduce_init_row,this.init_row<=1?(this.init_row=1,n.instance.emit(n.REMOVE_SKILL,_.INIT_ROW)):n.instance.emit(n.REDUCE_INIT_ROW_ADD)},e.set_stone_chance=function(){this.level_id<=5?this.stone_chance=0:this.level_id<=20?this.stone_chance=.02:this.level_id<=35?this.stone_chance=.05:this.level_id<=50?this.stone_chance=.1:this.level_id<=75?this.stone_chance=.2:(this.level_id,this.stone_chance=.3),this.stone_chance*=s.instance.stone_discount},e.set_limit_change=function(){this.level_id<=25?this.limit_chance=0:this.level_id<=45?(this.limit_chance=.02,this.max_limit=3,this.min_limit=1):this.level_id<=65?(this.limit_chance=.05,this.max_limit=3,this.min_limit=1):this.level_id<=85?(this.limit_chance=.1,this.max_limit=5,this.min_limit=2):this.level_id<=100?(this.limit_chance=.2,this.max_limit=7,this.min_limit=3):(this.limit_chance=.3,this.max_limit=8,this.min_limit=4),this.limit_chance*=s.instance.limit_discount,this.max_limit*=s.instance.limit_step_discount,this.min_limit*=s.instance.limit_step_discount},e.set_new_line_nums=function(){this.level_id<=40?this.new_line_nums=1:this.level_id<=60?this.new_line_nums=2:this.level_id<=80?this.new_line_nums=3:this.level_id<=100?this.new_line_nums=4:this.new_line_nums=5,this.new_line_nums-=s.instance.new_line_reduce,this.new_line_nums<=1?(this.new_line_nums=1,n.instance.emit(n.REMOVE_SKILL,_.NEW_LINE_REDUCE)):n.instance.emit(n.NEWLINE_MULTI_ADD)},e.init_normal_data=function(){this.init_row=5,this.stone_chance=.02,this.limit_chance=.02,this.tile_color_types=4,this.max_limit=5,this.min_limit=1},e.next_level=function(){this.is_new_level=!0,this.level_id+=1,s.instance.level=this.level_id,this.set_total_score(),this.set_color_types(),this.set_init_row(),this.set_stone_chance(),this.set_limit_change(),this.set_new_line_nums()},t(i,[{key:"new_line_nums",get:function(){return this._new_line_nums},set:function(i){this._new_line_nums=i<1?1:i}}],[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o,a,c,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Component}],execute:function(){var s,u,p,d,f;o._RF.push({},"fb41apUI8FGIIF9CNMWzOJn","LoadingPanel",void 0);var h=a.ccclass,g=a.property;e("LoadingPanel",(s=h("LoadingPanel"),u=g(c),s((f=n((d=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"circle",f,r(n)),n}i(n,e);var o=n.prototype;return o.start=function(){},o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},o.update=function(e){this.circle.angle-=2,this.circle.angle%=360},n}(l)).prototype,"circle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AchieveDetail.ts","./Achievement.ts","./AchievementPanel.ts","./Achievements.ts","./BottomButton.ts","./BreathNode.ts","./ButtonSkillButton.ts","./CatPow.ts","./ColorProcessor.ts","./CustomProgress.ts","./DancePows.ts","./DesireButtonBase.ts","./Dot.ts","./DotStateEnter.ts","./DotStateNormal.ts","./Dots.ts","./ExplodeParticle.ts","./GameLevelPlay.ts","./GameMenu.ts","./GameNormalOver.ts","./GameNormalPlay.ts","./GameOver.ts","./GamePlay.ts","./GameWin.ts","./GetAchieveNotify.ts","./LevelManager.ts","./LoadingPanel.ts","./Map.ts","./MovingBonus.ts","./PowerupEraseCol.ts","./PowerupEraseRow.ts","./PowerupExplode.ts","./PowerupProcessor.ts","./PowerupSameColor.ts","./Preload.ts","./RankItem.ts","./RankPanel.ts","./SelfRankItem.ts","./Settings.ts","./Skill.ts","./SkillBoard.ts","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillProcesser.ts","./SkillReduceInitRow.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./SnowParticle.ts","./Sounds.ts","./StatisticsPanel.ts","./StorageDataManager.ts","./Test.ts","./Tile.ts","./TileStateDie.ts","./TileStateEnter.ts","./TileStateMoveToDest.ts","./TileStateNormal.ts","./TileStateRemove.ts","./Tips.ts","./Trace.ts","./TraceColor.ts","./TraceExplode.ts","./TraceRow.ts","./Tutorial.ts","./TypeProcessor.ts","./TypeSteps.ts","./TypeStone.ts","./Ultimate.ts","./UltimateDetail.ts","./UltimateIcon.ts","./UltimatePanel.ts","./Ultimates.ts","./UserData.ts","./Warnning.ts","./Achievement1.ts","./Achievement10.ts","./Achievement11.ts","./Achievement12.ts","./Achievement13.ts","./Achievement14.ts","./Achievement15.ts","./Achievement16.ts","./Achievement17.ts","./Achievement18.ts","./Achievement19.ts","./Achievement2.ts","./Achievement20.ts","./Achievement3.ts","./Achievement4.ts","./Achievement5.ts","./Achievement6.ts","./Achievement7.ts","./Achievement8.ts","./Achievement9.ts","./AchievementManager.ts","./AudioMananger.ts","./EventManager.ts","./GlobalData.ts","./RequestBase.ts","./RequestManager.ts","./ResourceManager.ts","./StateBase.ts","./StateMachine.ts","./UltimateManager.ts","./WXPlatformManager.ts","./RequestGetLevelRank.ts","./RequestGetScoreRank.ts","./RequestGetUserData.ts","./RequestInitUserData.ts","./RequestLogin.ts","./RequestTest.ts","./RequestUpdateUserData.ts","./Ultimate1.ts","./Ultimate2.ts","./Ultimate3.ts","./Ultimate4.ts","./Ultimate5.ts","./Ultimate6.ts","./Ultimate7.ts","./Ultimate8.ts","./Ultimate9.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./GlobalData.ts","./TileStateEnter.ts","./ColorProcessor.ts","./EventManager.ts","./TileStateNormal.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts","./UserData.ts","./AudioMananger.ts","./TileStateDie.ts","./UltimateManager.ts"],(function(e){var t,s,i,n,o,a,l,r,c,h,_,p,u,v,f,T,m,E,d,S,w,O,L,g,y,R,N,b,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,r=e.Prefab,c=e.instantiate,h=e.randomRangeInt,_=e.log,p=e.Component},function(e){u=e.LevelManager},function(e){v=e.GlobalData,f=e.AudioIDs,T=e.TileType,m=e.TutorialSteps,E=e.TilePowerupTypes},function(e){d=e.TileStateEnter},function(e){S=e.ColorProcessor},function(e){w=e.EventManager},function(e){O=e.TileStateNormal},function(e){L=e.TileStateRemove},function(e){g=e.TileStateMoveToDest},function(e){y=e.PowerupProcessor},function(e){R=e.UserData},function(e){N=e.AudioMananger},function(e){b=e.TileStateDie},function(e){D=e.UltimateManager}],execute:function(){var A,M,I,C,P;a._RF.push({},"3f0eeyiQ55DYp3kgVjHQDeU","Map",void 0);var W=l.ccclass,U=l.property;e("Map",(A=W("Map"),M=U(r),A((P=t((C=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"TilePrefab",P,n(t)),t.colsList=void 0,t.availbles=void 0,t._moves=void 0,t._normals=void 0,t._powerups=void 0,t._enters=0,t._dies=0,t._removes=0,t._dests=0,t._isCreateNew=!1,t.isOver=!1,t.oneTimeRemoves=0,t}s(t,e);var a=t.prototype;return a.start=function(){w.instance.on(w.TILE_ENTERED,this._onTileEntered,this),w.instance.on(w.TILE_DEAD,this._onTileDead,this),w.instance.on(w.TILE_REMOVED,this._onTileRemoved,this),w.instance.on(w.TILE_MOVE_TO_DEST,this._onMoveToDest,this),w.instance.on(w.EXECUTE_POWERUP,this._executePowerup,this)},a.init_data=function(){this.clearAll(),this.colsList=[];for(var e=0;e<v.COLS;++e){this.colsList.push([]);for(var t=0;t<v.ROWS;++t)this.colsList[e].push(null)}this.isOver=!1,this._isCreateNew=!1,this._enters=0,this._dies=0,this._removes=0,this._dests=0,this.availbles=[],this._normals=[],this._moves=[],this._powerups=[],this.oneTimeRemoves=0},a.clearAll=function(){this.node.removeAllChildren()},a.entrance=function(){N.instance.playEffect(f.ENTER);for(var e=0;e<u.instance.init_row;++e)for(var t=0;t<v.COLS;++t){++this._enters;var s=c(this.TilePrefab).getComponent("Tile");s.preload(),this.node.addChild(s.node),s.node.setScale(0,0),s.row=e,s.col=t,s.colorType=h(1,u.instance.tile_color_types-D.instance.tile_color_types_reduce+1),s.setPos(),S.instance.execute(s),this.colsList[t][e]=s,this.availbles.push(s),s.changeState(d.stateName)}},a.newLine=function(e){var t=this;this._isCreateNew=!0,this.colsList.forEach((function(e){for(var s=e.length-1;s>-1;--s){var i=e[s];i&&(i.row+=1,i.row==v.ROWS-1&&(t.isOver=!0),e[s+1]=i,e[s]=null,t._moves.push(i))}}));var s=!1,i=!1;e.forEach((function(e){var n=c(t.TilePrefab).getComponent("Tile");n.preload(),t.node.addChild(n.node),n.node.setScale(0,0),n.col=e.col,n.row=0,n.node.setPosition(n.col*v.TILE_WIDTH,-1*v.TILE_HEIGHT),n.type=e.type,n.type==T.STONE&&(s=!0,w.instance.emit(w.STONE_CREATED)),n.steps=e.steps,n.steps>0&&(n.setSteps(),i=!0,w.instance.emit(w.ICE_CREATED)),n.colorType=e.colorType,S.instance.execute(n),t.colsList[n.col][0]=n,t._moves.push(n),t.availbles.push(n),n.changeState(d.stateName)})),s?w.instance.emit(w.SHOW_TUTORIAL,m.STONE_TILE):i&&w.instance.emit(w.SHOW_TUTORIAL,m.ICE_TILE),this._recomposition()},a._clearNormals=function(){for(;this._normals.length>0;)this._normals.pop()},a._clearPowerups=function(){for(;this._powerups.length>0;)this._powerups.pop()},a._clearMoves=function(){for(;this._moves.length>0;)this._moves.pop()},a._removeNormalTiles=function(e){var t=this;this._removes=this._normals.length;var s=!1;this._normals.forEach((function(i){if(i==e);else if(0==i.steps){t.colsList[i.col][i.row]=null;var n=t.availbles.indexOf(i);n>-1&&t.availbles.splice(n,1),t.oneTimeRemoves+=1}else--t._removes,s=!0;0==i.steps&&(i.moveTarget=e),i.changeState(L.stateName)})),!e&&this._removes>0&&N.instance.playEffect(f.BREAK),s&&N.instance.playEffect(f.ICE_BREAK),w.instance.emit(w.DANCE_COUNT,this._removes),this._clearNormals()},a._removePowerup=function(){var e=this;this._removes+=this._powerups.length,this._powerups.forEach((function(t){e.colsList[t.col][t.row]=null;var s=e.availbles.indexOf(t);s>-1&&e.availbles.splice(s,1),e.oneTimeRemoves+=1,t.changeState(L.stateName)})),this._clearPowerups()},a._executePowerup=function(e){_("处理powerup...",e.powerupType),y.instance.execute(e,this)},a._tidyUp=function(){var e=this;this._clearMoves(),this.colsList.forEach((function(t){for(var s=0;s<t.length;++s){var i=t[s];if(null!=i){for(var n=-1,o=0;o<s;++o)if(null==t[o]){n=o;break}-1!=n&&(t[n]=i,i.row=n,t[s]=null,e._moves.push(i))}}})),_("moves:",this._moves.length)},a._recomposition=function(){var e=this;this._dests=0,0==this._moves.length?this._checkMoveToDest():(N.instance.playEffect(f.MOVE_TO_DEST),this._moves.forEach((function(t){++e._dests,t.changeState(g.stateName)})),this._clearMoves())},a.match=function(e){this.oneTimeRemoves=0;var t=!1;if(e.type==T.STONE||e.steps>0)return _("播放tile出错动画..."),e.animation.play("tile_error_animation"),N.instance.playEffect(f.ERROR),t;this._findMatch(e);this._normals.length,this._powerups.length;return this._normals.length+this._powerups.length<R.instance.match_min?(this._clearNormals(),this._clearPowerups()):(t=!0,this._powerups.length>0?(this._removeNormalTiles(null),this._removePowerup()):this._normals.length<R.instance.powerup_min?this._removeNormalTiles(null):(e.powerupType=h(1,5),w.instance.emit(w.POWERUP_CREATED,e.powerupType),e.powerupType==E.ERASE_ROWS?w.instance.emit(w.SHOW_TUTORIAL,m.ERASE_ROWS):e.powerupType==E.ERASE_COLS?w.instance.emit(w.SHOW_TUTORIAL,m.ERASE_COLS):e.powerupType==E.EXPLODE?w.instance.emit(w.SHOW_TUTORIAL,m.BOMB):e.powerupType==E.SAME_COLOR&&w.instance.emit(w.SHOW_TUTORIAL,m.SAME_COLOR),this._removeNormalTiles(e),N.instance.playEffect(f.ERASE_EFFCT))),t},a._findMatch=function(e){e.type!=T.STONE&&(e.powerupType==E.NORMAL?this._normals.includes(e)||this._normals.push(e):this._powerups.includes(e)||this._powerups.push(e),this._findUp(e),this._findDown(e),this._findLeft(e),this._findRight(e))},a._findUp=function(e){if(!(e.row+1>=v.ROWS)){var t=this.colsList[e.col][e.row+1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findDown=function(e){if(!(e.row-1<0)){var t=this.colsList[e.col][e.row-1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findLeft=function(e){if(!(e.col-1<0)){var t=this.colsList[e.col-1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findRight=function(e){if(!(e.col+1>=v.COLS)){var t=this.colsList[e.col+1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a.tilesGoDie=function(){R.instance.is_music_on?N.instance.playBackground(f.LOSE,!1):N.instance.playEffect(f.LOSE),this._dies=this.availbles.length,this.availbles.forEach((function(e){e.changeState(b.stateName)}))},a._onTileDead=function(){--this._dies,0==this._dies&&(_("所有tile变成灰色..."),w.instance.emit(w.TILES_ALL_DEAD))},a._onTileEntered=function(){if(--this._enters,0==this._enters){for(var e=0;e<this.availbles.length;++e){this.availbles[e].changeState(O.stateName)}u.instance.is_new_level&&w.instance.emit(w.SHOW_SKILL),w.instance.emit(w.SHOW_TUTORIAL,m.INTRO_PLAY)}},a._onTileRemoved=function(){--this._removes,0==this._removes&&(_("all removed..."),this._tidyUp(),this._recomposition())},a._onMoveToDest=function(){--this._dests,0==this._dests&&(_("all to dest..., "+this.availbles.length),this._checkMoveToDest())},a.checkWarnning=function(){for(var e,t=o(this.availbles);!(e=t()).done;){if(e.value.row+u.instance.new_line_nums==v.ROWS-1&&!this.isOver)return w.instance.emit(w.SHOW_WARNNING,!0),void w.instance.emit(w.SHOW_TUTORIAL,m.INTRO_GAME_OVER)}w.instance.emit(w.SHOW_WARNNING,!1)},a._checkMoveToDest=function(){this.availbles.forEach((function(e){e.changeState(O.stateName)})),this._isCreateNew?(this._isCreateNew=!1,w.instance.emit(w.DANCE_COUNT,-1),w.instance.emit(w.NEW_LINE_END)):(_("一次消除结束..."),w.instance.emit(w.ALL_TILE_TO_DEST))},a.changeRandomTileToPowerup=function(){for(var e=0;e<this.availbles.length;++e){var t=this.availbles[e];t.type==T.NORMAL&&t.powerupType==E.NORMAL&&(t.powerupType=h(1,5),t.changeToPowerup())}},a.freeEveryIceTiles=function(){for(var e=0;e<this.availbles.length;++e){var t=this.availbles[e];t.steps>0&&(t.steps=0,t.setSteps(),t.startSnowShaking=!0,w.instance.emit(w.SNOW_EFFECT,t.node.getWorldPosition()))}},a.clearEveryStoneTiles=function(){for(var e=0;e<this.availbles.length;++e){var t=this.availbles[e];t.type==T.STONE&&(this._removes+=1,this.colsList[t.col][t.row]=null,this.availbles.splice(e--,1),t.changeState(L.stateName))}},a.clearEveryTiles=function(){this.freeEveryIceTiles();for(var e=0;e<this.availbles.length;++e){var t=this.availbles[e];this._removes+=1,this.colsList[t.col][t.row]=null,this.availbles.splice(e--,1),t.changeState(L.stateName)}},a.rebirth=function(){this.isOver=!1;for(var e=0;e<this.availbles.length;++e){var t=this.availbles[e];t.row>5||(t.steps>0&&(t.steps=0,t.setSteps()),this._removes+=1,this.colsList[t.col][t.row]=null,this.availbles.splice(e--,1),t.changeState(L.stateName))}},a.update=function(e){},t}(p)).prototype,"TilePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/MovingBonus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./EventManager.ts","./WXPlatformManager.ts","./GlobalData.ts","./UserData.ts","./BreathNode.ts"],(function(t){var e,n,i,o,r,s,a,c,u,l,h,p,f,g,b,y,d,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.CCInteger,c=t.Sprite,u=t.Label,l=t.log,h=t.SpriteFrame,p=t.Component},function(t){f=t.ResourceManager},function(t){g=t.EventManager},function(t){b=t.WXPlatformManager},function(t){y=t.RewardType},function(t){d=t.UserData},function(t){v=t.BreathNode}],execute:function(){var _,B,M,m,w,I,N,U,C,L,z;r._RF.push({},"6d9f3N48sdOzLG2s4mNa/em","MovingBonus",void 0);var D=s.ccclass,O=s.property;t("MovingBonus",(_=D("MovingBonus"),B=O({type:a,step:1}),M=O(c),m=O(u),w=O(v),_((U=e((N=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"type",U,o(e)),i(e,"icon",C,o(e)),i(e,"infoLB",L,o(e)),i(e,"breath",z,o(e)),e.isShowing=!1,e.isUsing=!1,e}n(e,t);var r=e.prototype;return r.start=function(){this.node.on(g.BASE_BUTTON_TOUCH_END,this._onBonusClick,this),this.setIcon(),this.setInfo(),this.isUsing=!1,this.breath.startHale()},r._onBonusClick=function(){l("bonus type:",this.type),g.instance.emit(g.MOVING_BONUS_CLICK),d.instance.get_bonus=0==this.type?y.MOVING_0:y.MOVING_1,this.hide(),b.instance.showRewaredVideoAd()},r.show=function(){this.node.active=!0,this.isUsing=!1,this.breath.startHale()},r.hide=function(){this.breath.stopHale(),this.isUsing=!0,this.node.active=!1},r.setIcon=function(){var t=new h,e=0==this.type?"bonus1_icon":"bonus2_icon";t.texture=f.instance.getAsset("textures/"+e+"/texture"),this.icon.spriteFrame=t},r.setInfo=function(){var t=0==this.type?"全屏清除!":"得分翻倍!";this.infoLB.string=t},r.update=function(t){},e}(p)).prototype,"type",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(N.prototype,"icon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(N.prototype,"infoLB",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(N.prototype,"breath",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=N))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseCol.ts",["cc","./TileStateRemove.ts","./UserData.ts","./GlobalData.ts","./ResourceManager.ts","./EventManager.ts","./AudioMananger.ts","./UltimateManager.ts"],(function(e){var t,a,n,s,o,i,r,c,l;return{setters:[function(e){t=e.cclegacy},function(e){a=e.TileStateRemove},function(e){n=e.UserData},function(e){s=e.GlobalData,o=e.AudioIDs},function(e){i=e.ResourceManager},function(e){r=e.EventManager},function(e){c=e.AudioMananger},function(e){l=e.UltimateManager}],execute:function(){t._RF.push({},"c6fa2G1g5dBpo7nYNdQjEzK","PowerupEraseCol",void 0);e("PowerupEraseCol",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=i.instance.getAsset("textures/icon_list/texture");e.setPowerup(t)},t.execute=function(e,t){for(var i=e.col-Math.floor(n.instance.erase_cols*l.instance.erase_cols_ratio/2),u=i+n.instance.erase_cols*l.instance.erase_cols_ratio-1,f=null,v=!1,p=Math.max(0,i);p<=Math.min(s.COLS-1,u);++p)for(var _=0;_<t.colsList[p].length;++_)if(f=t.colsList[p][_]){if(0==f.steps){t._removes+=1;var g=t.availbles.indexOf(f);t.availbles.splice(g,1),t.colsList[p][_]=null,t.oneTimeRemoves+=1}else v=!0;f.changeState(a.stateName)}t._removes>0&&c.instance.playEffect(o.BREAK),v&&c.instance.playEffect(o.ICE_BREAK),r.instance.emit(r.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseRow.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts","./AudioMananger.ts","./UltimateManager.ts"],(function(e){var t,a,n,s,o,r,i,c,u;return{setters:[function(e){t=e.cclegacy},function(e){a=e.ResourceManager},function(e){n=e.GlobalData,s=e.AudioIDs},function(e){o=e.TileStateRemove},function(e){r=e.UserData},function(e){i=e.EventManager},function(e){c=e.AudioMananger},function(e){u=e.UltimateManager}],execute:function(){t._RF.push({},"41b40mzZ6xCtpE6403aV7/J","PowerupEraseRow",void 0);e("PowerupEraseRow",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/icon_line/texture");e.setPowerup(t)},t.execute=function(e,t){for(var a=e.row-Math.floor(r.instance.erase_rows*u.instance.erase_rows_ratio/2),l=a+r.instance.erase_rows*u.instance.erase_rows_ratio-1,f=null,v=!1,p=0;p<t.colsList.length;++p)for(var m=Math.max(a,0);m<=Math.min(n.ROWS-1,l);++m)if(f=t.colsList[p][m]){if(0==f.steps){t._removes+=1;var _=t.availbles.indexOf(f);t.availbles.splice(_,1),t.colsList[p][m]=null,t.oneTimeRemoves+=1}else v=!0;f.changeState(o.stateName)}t._removes>0&&c.instance.playEffect(s.BREAK),v&&c.instance.playEffect(s.ICE_BREAK),i.instance.emit(i.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupExplode.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts","./UltimateManager.ts","./AudioMananger.ts"],(function(e){var t,n,a,o,s,i,c,r,l;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ResourceManager},function(e){a=e.GlobalData,o=e.AudioIDs},function(e){s=e.TileStateRemove},function(e){i=e.UserData},function(e){c=e.EventManager},function(e){r=e.UltimateManager},function(e){l=e.AudioMananger}],execute:function(){t._RF.push({},"22b83NBz0lNuIU2GD2yCKe+","PowerupExplode",void 0);e("PowerupExplode",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=n.instance.getAsset("textures/icon_bomb/texture");e.setPowerup(t)},t.execute=function(e,t){for(var n=e.row+i.instance.explodes*r.instance.explodes_ratio,u=e.row-i.instance.explodes*r.instance.explodes_ratio,p=e.col-i.instance.explodes*r.instance.explodes_ratio,f=e.col+i.instance.explodes*r.instance.explodes_ratio,v=null,x=!1,d=Math.max(p,0);d<=Math.min(a.COLS-1,f);++d)for(var m=Math.max(u,0);m<=Math.min(a.ROWS-1,n);++m)if(v=t.colsList[d][m]){if(0==v.steps){t._removes+=1;var _=t.availbles.indexOf(v);t.availbles.splice(_,1),t.colsList[d][m]=null,t.oneTimeRemoves+=1}else x=!0;v.changeState(s.stateName)}t._removes>0&&l.instance.playEffect(o.BREAK),x&&l.instance.playEffect(o.ICE_BREAK),c.instance.emit(c.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PowerupEraseRow.ts","./GlobalData.ts","./PowerupEraseCol.ts","./PowerupExplode.ts","./PowerupSameColor.ts","./ResourceManager.ts"],(function(e){var t,s,r,n,o,u,c,i,a;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy},function(e){r=e.PowerupEraseRow},function(e){n=e.TileColorTypes,o=e.TilePowerupTypes},function(e){u=e.PowerupEraseCol},function(e){c=e.PowerupExplode},function(e){i=e.PowerupSameColor},function(e){a=e.ResourceManager}],execute:function(){s._RF.push({},"be3ecyGynRLGIZrCjS8uVRF","PowerupProcessor",void 0),e("PowerupProcessor",function(){function e(){this._list={},this._list[o.ERASE_ROWS]=new r,this._list[o.ERASE_COLS]=new u,this._list[o.EXPLODE]=new c,this._list[o.SAME_COLOR]=new i}var s=e.prototype;return s.setFace=function(e){this._list[e.powerupType].setFace(e);var t=this.getFace(e);e.setFace(t)},s.getFace=function(e){var t;switch(e.colorType){case n.RED:t=a.instance.getAsset("textures/power_tile_red/texture");break;case n.YELLOW:t=a.instance.getAsset("textures/power_tile_yellow/texture");break;case n.BLUE:t=a.instance.getAsset("textures/power_tile_blue/texture");break;case n.GREEN:t=a.instance.getAsset("textures/power_tile_green/texture");break;case n.PURPLE:t=a.instance.getAsset("textures/power_tile_red/texture");break;case n.ORANGE:t=a.instance.getAsset("textures/power_tile_orange/texture")}return t},s.execute=function(e,t){this._list[e.powerupType].execute(e,t)},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupSameColor.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts","./UltimateManager.ts","./AudioMananger.ts"],(function(e){var t,n,a,o,s,r,i,c,l;return{setters:[function(e){t=e.cclegacy,n=e.randomRangeInt},function(e){a=e.ResourceManager},function(e){o=e.AudioIDs},function(e){s=e.TileStateRemove},function(e){r=e.UserData},function(e){i=e.EventManager},function(e){c=e.UltimateManager},function(e){l=e.AudioMananger}],execute:function(){t._RF.push({},"3e79fkYq7lDUZGqfST5lDYI","PowerupSameColor",void 0);e("PowerupSameColor",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/icon_same/texture");e.setPowerup(t)},t.execute=function(e,t){for(var a=[],u=0;u<t.availbles.length;++u){var f=t.availbles[u];f.colorType==e.colorType&&a.push(f)}if(0!=a.length){for(var v=0,m=!1;v<r.instance.same_colors*c.instance.same_colors_ratio&&a.length>0;){var p=n(0,a.length),g=a.splice(p,1)[0];if(0==g.steps){t._removes+=1;var _=t.availbles.indexOf(g);t.availbles.splice(_,1),t.colsList[g.col][g.row]=null,t.oneTimeRemoves+=1}else m=!0;i.instance.emit(i.SAME_COLOR_EFFECT,e.node.getWorldPosition(),g.node.getWorldPosition()),g.changeState(s.stateName),++v}t._removes>0&&l.instance.playEffect(o.BREAK),m&&l.instance.playEffect(o.ICE_BREAK),l.instance.playEffect(o.SOO),i.instance.emit(i.DANCE_COUNT,t._removes)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Preload.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./EventManager.ts","./AudioMananger.ts","./StorageDataManager.ts","./UserData.ts","./GlobalData.ts","./CustomProgress.ts","./RequestManager.ts","./RequestGetUserData.ts","./AchievementManager.ts","./UltimateManager.ts","./WXPlatformManager.ts"],(function(t){var n,e,i,s,o,a,r,c,l,u,h,g,d,f,_,S,A,p,I,D,m,L,R,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Label,c=t.Node,l=t.sys,u=t.director,h=t.instantiate,g=t.Component},function(t){d=t.ResourceManager},function(t){f=t.EventManager},function(t){_=t.AudioMananger},function(t){S=t.StorageDataManager},function(t){A=t.UserData},function(t){p=t.AudioIDs},function(t){I=t.CustomProgress},function(t){D=t.RequestManager},function(t){m=t.RequestGetUserData},function(t){L=t.AchievementManager},function(t){R=t.UltimateManager},function(t){E=t.WXPlatformManager}],execute:function(){var b,v,M,C,U,P,T,N,B;o._RF.push({},"b0918YCUu9Aibz83SE40ASV","Preload",void 0);var F=a.ccclass,w=a.property;t("Preload",(b=F("Preload"),v=w(I),M=w(r),C=w(c),b((T=n((P=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"progress",T,s(n)),i(n,"logInfo",N,s(n)),i(n,"logNode",B,s(n)),n.total=0,n.current=0,n.top=1,n.isOver=!1,n}e(n,t);var o=n.prototype;return o.start=function(){this.logInfo.string="",S.instance.init(),"WECHAT_GAME"==l.platform&&(window.wx.cloud.init({env:"cat-tile-remove-6g1uzs5i016ad123"}),D.instance.request(m.REQUEST_NAME),f.instance.on(f.INIT_USER_DATA_SUCCESS,this._onInitUserDataSuccess,this),this.total+=1,E.instance.initInfo(),f.instance.on(f.BANNER_AD_LOAD_SUCCESS,this._onBannerAdSuccess,this),f.instance.on(f.BANNER_AD_LOAD_FAIL,this._onBannerAdFail,this),E.instance.createBannerAd(),f.instance.on(f.REWARD_AD_LOAD_SUCCESS,this._onRewardAdSuccess,this),f.instance.on(f.REWARD_AD_LOAD_FAIL,this._onRewardAdFail,this),E.instance.createRewaredVideoAd(),f.instance.on(f.INTERSTITIAL_AD_LOAD_SUCCESS,this._onInterstitialAdSuccess,this),f.instance.on(f.INTERSTITIAL_AD_LOAD_FAIL,this._onInterstitialAdFail,this),E.instance.createInterstitialAd()),f.instance.on("TexturesLoaded",this._onTextureLoaded,this),f.instance.on("PrefabsLoaded",this._onPrefabLoaded,this),u.preloadScene("GameMenu",this._onSceneLoaded.bind(this)),this.total+=1,d.instance.loadResources("prefabs","PrefabsLoaded",f.instance,["dir"]),d.instance.loadResources("textures","TexturesLoaded",f.instance,["dir"]),this.total+=2,d.instance.start()},o._onBannerAdSuccess=function(){this.logInfo.string+="Banner广告加载成功!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onBannerAdFail=function(){this.logInfo.string+="Banner广告加载失败!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onRewardAdSuccess=function(){this.logInfo.string+="激励广告加载成功!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onRewardAdFail=function(){this.logInfo.string+="激励广告加载失败!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onInterstitialAdSuccess=function(){this.logInfo.string+="插屏广告加载成功!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onInterstitialAdFail=function(){this.logInfo.string+="插屏广告加载失败!"+this.top.toString()+"/"+this.total.toString()+"\n"},o._onInitUserDataSuccess=function(t){console.log("init user data!"),A.instance.set_user_info(t),this.top+=1,this.logInfo.string+="初始化用户成功!"+(this.top-1).toString()+"/"+this.total.toString()+"\n"},o._onPrefabLoaded=function(){var t=d.instance.getAsset("prefabs/Sounds");_.instance.sounds=h(t).getComponent("Sounds"),_.instance.sounds.setMusicClip(p.MUSIC),f.instance.emit(f.ENABLE_BACKGROUND_MUSIC,A.instance.is_music_on),f.instance.emit(f.ENABLE_EFFECT_SOUND,A.instance.is_sound_on);var n=d.instance.getAsset("prefabs/Achievements");L.instance.achievements=h(n).getComponent("Achievements");var e=d.instance.getAsset("prefabs/Ultimates");R.instance.ultimates=h(e).getComponent("Ultimates"),this.top+=1,this.logInfo.string+="加载prefab成功!"+(this.top-1).toString()+"/"+this.total.toString()+"\n"},o._onTextureLoaded=function(){this.top+=1,this.logInfo.string+="加载texture成功!"+(this.top-1).toString()+"/"+this.total.toString()+"\n"},o._onSceneLoaded=function(){this.top+=1,this.logInfo.string+="加载场景成功!"+(this.top-1).toString()+"/"+this.total.toString()+"\n"},o._checkPercent=function(t){if(this.top==this.total+1)this.current+=.1,this.current>=this.total&&(this.current=this.total,this.isOver=!0);else{var n=this.top-this.current;n<0&&(n=0),this.current+=n*t}this.progress.setPercent(this.current,this.total),this.isOver&&u.loadScene("GameMenu")},o.update=function(t){this.isOver||this._checkPercent(t)},n}(g)).prototype,"progress",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(P.prototype,"logInfo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(P.prototype,"logNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=P))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,n,i,l,o,u,p,s,c,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Label,u=e.Sprite,p=e.randomRangeInt,s=e.assetManager,c=e.SpriteFrame,m=e.Component}],execute:function(){var b,f,g,y,h,L,d,B,v,S,k,z,I,R,P;i._RF.push({},"8257aSI0JhGzKSd1bNiDn+0","RankItem",void 0);var w=l.ccclass,F=l.property;e("RankItem",(b=w("RankItem"),f=F(o),g=F(o),y=F(o),h=F(o),L=F(u),d=F(u),b((S=t((v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,a(t,"rankLB",S,n(t)),a(t,"nameLB",k,n(t)),a(t,"scoreLB",z,n(t)),a(t,"typeLB",I,n(t)),a(t,"avatarSP",R,n(t)),a(t,"medalSP",P,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){},i.updateRank=function(e,t,r){this.rankLB.string=t,this.scoreLB.string=r,this.typeLB.string=0==e?"关":"分"},i.updateUserInfo=function(e,t){var r=this;this.nameLB.string=e||"可爱小猫咪"+p(1e3,1e4),t?s.loadRemote(t,{ext:".png"},(function(e,t){e?console.log(e):r.avatarSP.spriteFrame=c.createWithImage(t)})):this.avatarSP.spriteFrame=null},i.update=function(e){},t}(m)).prototype,"rankLB",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(v.prototype,"nameLB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"scoreLB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"typeLB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(v.prototype,"avatarSP",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(v.prototype,"medalSP",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=v))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./SelfRankItem.ts","./GlobalData.ts","./RequestManager.ts","./RequestGetScoreRank.ts","./UserData.ts","./RequestGetLevelRank.ts","./WXPlatformManager.ts"],(function(e){var t,i,n,a,s,l,o,r,c,u,h,_,f,m,v,R,p,g,d,k,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,o=e.Prefab,r=e.Animation,c=e.Node,u=e.UITransform,h=e.instantiate,_=e.log,f=e.Component},function(e){m=e.EventManager},function(e){v=e.SelfRankItem},function(e){R=e.GlobalData},function(e){p=e.RequestManager},function(e){g=e.RequestGetScoreRank},function(e){d=e.UserData},function(e){k=e.RequestGetLevelRank},function(e){b=e.WXPlatformManager}],execute:function(){var S,B,C,E,L,I,T,y,A,G,U,N,P,w,x,z,O,D,M,q,K,F,H,Q,V,X,W,j,J;s._RF.push({},"adfa1xSHeJMKpQBrNu4iTiD","RankPanel",void 0);var Y=l.ccclass,Z=l.property;e("RankPanel",(S=Y("RankPanel"),B=Z(o),C=Z(r),E=Z(c),L=Z(c),I=Z(c),T=Z(c),y=Z(c),A=Z(c),G=Z(c),U=Z(u),N=Z(v),P=Z(c),w=Z(c),S((O=t((z=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,n(t,"RankItemPrefab",O,a(t)),n(t,"animation",D,a(t)),n(t,"content",M,a(t)),n(t,"exitBtn",q,a(t)),n(t,"levelBtn",K,a(t)),n(t,"levelBtnBG",F,a(t)),n(t,"scoreBtn",H,a(t)),n(t,"scoreBtnBG",Q,a(t)),n(t,"listContent",V,a(t)),n(t,"listUItransform",X,a(t)),n(t,"selfRankItem",W,a(t)),n(t,"loading",j,a(t)),n(t,"blocker",J,a(t)),t.loadingRate=10,t.itemList=[],t.last_score_date=void 0,t.last_level_date=void 0,t.levelCache=[],t.levelSelfRank=0,t.scoreCache=[],t.scoreSelfRank=0,t}i(t,e);var s=t.prototype;return s.start=function(){this.scoreBtn.on(m.BASE_BUTTON_TOUCH_END,this._onScoreBtnClick,this),this.levelBtn.on(m.BASE_BUTTON_TOUCH_END,this._onLevelBtnClick,this),this.exitBtn.on(m.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this),this.selfRankItem.updateInfo(),this.initItem(),this._safeRequestScore(),this.setBtnBG(1),m.instance.on(m.GET_SCORE_RANK_SUCCESS,this._getScoreRankSuccess,this),m.instance.on(m.GET_LEVEL_RANK_SUCCESS,this._getLevelRankSuccess,this),m.instance.on(m.GET_RANK_FAIL,this._getRankFail,this)},s.setBtnBG=function(e){0==e?(this.levelBtnBG.active=!1,this.scoreBtnBG.active=!0):(this.levelBtnBG.active=!0,this.scoreBtnBG.active=!1)},s.initItem=function(){for(var e=0;e<R.MAX_RANK_ITEM;++e){var t=h(this.RankItemPrefab).getComponent("RankItem");this.itemList.push(t),t.node.active=!1,this.listContent.addChild(t.node)}},s._onScoreBtnClick=function(){this.setBtnBG(1),this._safeRequestScore()},s._onLevelBtnClick=function(){this.setBtnBG(0),this._safeRequestLevel()},s._onExitBtnClick=function(){this.popout()},s._getScoreRankSuccess=function(e){for(this.last_score_date=(new Date).getTime(),this.blocker.active=!1;this.scoreCache.length>0;)this.scoreCache.pop();this.itemList.forEach((function(e){e.node.active=!1}));for(var t=!1,i=0;i<e.length;++i){var n=e[i];this.scoreCache[i]={_id:n._id,user_name:n.user_name,user_avatar:n.user_avatar,max_score:n.max_score},n._id==d.instance.id&&(t=!0,this.selfRankItem.updateRank(1,(i+1).toString()),this.scoreSelfRank=i+1,m.instance.emit(m.SCORE_RANK_TOP_100),i<10&&m.instance.emit(m.SCORE_RANK_TOP_10),0==i&&m.instance.emit(m.SCORE_RANK_TOP_1)),this.itemList[i].node.active=!0,this.itemList[i].updateUserInfo(n.user_name,n.user_avatar),this.itemList[i].updateRank(1,(i+1).toString(),n.max_score)}if(!t&&e.length>0){var a=e[e.length-1].max_score,s=Math.abs(a-d.instance.max_score);this.selfRankItem.updateRank(1,(e.length+s).toString()),this.scoreSelfRank=e.length+s}this.listUItransform.setContentSize(1080,150*e.length)},s._getLevelRankSuccess=function(e){for(this.last_level_date=(new Date).getTime(),this.blocker.active=!1;this.levelCache.length>0;)this.levelCache.pop();this.itemList.forEach((function(e){e.node.active=!1}));for(var t=!1,i=0;i<e.length;++i){var n=e[i];this.levelCache[i]={_id:n._id,user_name:n.user_name,user_avatar:n.user_avatar,max_level:n.max_level},n._id==d.instance.id&&(t=!0,this.selfRankItem.updateRank(0,(i+1).toString()),this.levelSelfRank=i+i,m.instance.emit(m.LEVEL_RANK_TOP_100),i<10&&m.instance.emit(m.LEVEL_RANK_TOP_10),0==i&&m.instance.emit(m.LEVEL_RANK_TOP_1)),this.itemList[i].node.active=!0,this.itemList[i].updateUserInfo(n.user_name,n.user_avatar),this.itemList[i].updateRank(0,(i+1).toString(),n.max_level)}if(!t&&e.length>0){var a=e[e.length-1].max_level,s=Math.abs(a-d.instance.max_level);this.selfRankItem.updateRank(0,(e.length+s).toString()),this.levelSelfRank=e.length+s}this.listUItransform.setContentSize(1080,150*e.length)},s._getRankFail=function(){console.log("get rank fail.."),_("_getRankFail"),this.blocker.active=!1},s.popup=function(){b.instance.showInterstitialAd(),this.blocker.active=!1,this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},s._updateByCache=function(e,t){this.itemList.forEach((function(e){e.node.active=!1})),this.selfRankItem.updateRank(e,(0==e?this.levelSelfRank:this.scoreSelfRank).toString());for(var i=0;i<t.length;++i){var n=t[i];this.itemList[i].node.active=!0,this.itemList[i].updateUserInfo(n.user_name,n.user_avatar),0==e?this.itemList[i].updateRank(e,(i+1).toString(),n.max_level):this.itemList[i].updateRank(e,(i+1).toString(),n.max_score)}this.listUItransform.setContentSize(1080,150*t.length)},s._safeRequestScore=function(){if(this.last_score_date&&(new Date).getTime()-this.last_score_date<R.RANK_REQUST_GAP)return console.log("请求时间未到..."),void this._updateByCache(1,this.scoreCache);this.blocker.active=!0,p.instance.request(g.REQUEST_NAME)},s._safeRequestLevel=function(){if(this.last_level_date&&(new Date).getTime()-this.last_level_date<R.RANK_REQUST_GAP)return console.log("请求时间未到..."),void this._updateByCache(0,this.levelCache);this.blocker.active=!0,p.instance.request(k.REQUEST_NAME)},s.popout=function(){this.animation.play("popout_animation")},s.hide=function(){this.node.active=!1},s.spinLoading=function(){this.blocker.active&&(0==this.loadingRate?(this.loadingRate=10,this.loading.angle-=30,this.loading.angle%=360):--this.loadingRate)},s.update=function(e){this.spinLoading()},t}(f)).prototype,"RankItemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"animation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(z.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(z.prototype,"exitBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(z.prototype,"levelBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"levelBtnBG",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(z.prototype,"scoreBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(z.prototype,"scoreBtnBG",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(z.prototype,"listContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(z.prototype,"listUItransform",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(z.prototype,"selfRankItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(z.prototype,"loading",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(z.prototype,"blocker",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=z))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/RequestBase.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e4170JvhO1JMpKI6mWjMVQ0","RequestBase",void 0);e("RequestBase",function(){function e(){}return e.prototype.request=function(e,t){},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RequestGetLevelRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./RequestBase.ts"],(function(e){var t,n,a,o,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){a=e.EventManager},function(e){o=e.GlobalData},function(e){u=e.RequestBase}],execute:function(){n._RF.push({},"a9feaFYrEVDiIqLF+pFrdN5","RequestGetLevelRank",void 0),e("RequestGetLevelRank",function(e){function n(){return e.call(this)||this}return t(n,e),n.prototype.request=function(e){window.wx.cloud.callFunction({name:"getLevelRank",data:{limit:o.MAX_RANK_ITEM}}).then((function(e){console.log("get RequestGetLevelRank:",e),a.instance.emit(a.GET_LEVEL_RANK_SUCCESS,e.result)})).catch((function(e){console.log("error RequestGetLevelRank:",e),a.instance.emit(a.GET_RANK_FAIL)}))},n}(u)).REQUEST_NAME="RequestGetLevelRank",n._RF.pop()}}}));

System.register("chunks:///_virtual/RequestGetScoreRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./RequestBase.ts"],(function(e){var t,n,o,c,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.EventManager},function(e){c=e.GlobalData},function(e){a=e.RequestBase}],execute:function(){n._RF.push({},"0ab33YX/slGma9DFCJHWj6o","RequestGetScoreRank",void 0),e("RequestGetScoreRank",function(e){function n(){return e.call(this)||this}return t(n,e),n.prototype.request=function(e){window.wx.cloud.callFunction({name:"getScoreRank",data:{limit:c.MAX_RANK_ITEM}}).then((function(e){console.log("get RequestGetScoreRank:",e),o.instance.emit(o.GET_SCORE_RANK_SUCCESS,e.result)})).catch((function(e){console.log("error RequestGetScoreRank:",e),o.instance.emit(o.GET_RANK_FAIL)}))},n}(a)).REQUEST_NAME="RequestGetScoreRank",n._RF.pop()}}}));

System.register("chunks:///_virtual/RequestGetUserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./RequestBase.ts","./RequestInitUserData.ts"],(function(e){var t,n,s,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.EventManager},function(e){a=e.RequestBase},function(e){o=e.RequestInitUserData}],execute:function(){n._RF.push({},"a3a8eWvuxlOlJDbvVIe3pd0","RequestGetUserData",void 0),e("RequestGetUserData",function(e){function n(){return e.call(this)||this}return t(n,e),n.prototype.request=function(e){window.wx.cloud.database().collection("user_data").where({_openid:"{openid}"}).get().then((function(e){console.log("get RequestGetUserData:",e),"collection.get:ok"==e.errMsg&&e.data.length>0?s.instance.emit(s.INIT_USER_DATA_SUCCESS,e.data[0]):s.instance.emit(s.REQUEST_CMD,o.REQUEST_NAME)})).catch((function(e){console.log("error RequestGetUserData:",e)}))},n}(a)).REQUEST_NAME="RequestGetUserData",n._RF.pop()}}}));

System.register("chunks:///_virtual/RequestInitUserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RequestBase.ts","./EventManager.ts"],(function(e){var t,a,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){n=e.RequestBase},function(e){s=e.EventManager}],execute:function(){a._RF.push({},"ad9aaEzIplMmJ5xvk7FTC9T","RequestInitUserData",void 0),e("RequestInitUserData",function(e){function a(){return e.call(this)||this}return t(a,e),a.prototype.request=function(e){window.wx.cloud.database().collection("user_data").add({data:{user_name:"",user_avatar:"",max_score:0,max_level:0,current_ultimate:1,comleted_achieve:[],unlocked_ultimate:[1],tutorials:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}}).then((function(e){console.log("add RequestInitUserData:",e),"collection.add:ok"==e.errMsg&&s.instance.emit(s.INIT_USER_DATA_SUCCESS,{user_name:"",user_avatar:"",max_score:0,max_level:0,current_ultimate:1,comleted_achieve:[],unlocked_ultimate:[1],tutorials:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],_id:e._id})})).catch((function(e){console.log("error RequestInitUserData:",e)}))},a}(n)).REQUEST_NAME="RequestInitUserData",a._RF.pop()}}}));

System.register("chunks:///_virtual/RequestLogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./RequestBase.ts"],(function(e){var t,n,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.EventManager},function(e){s=e.RequestBase}],execute:function(){n._RF.push({},"74471mVxcBOypr/AGOkXIfY","RequestLogin",void 0),e("RequestLogin",function(e){function n(){return e.call(this)||this}return t(n,e),n.prototype.request=function(e){var t=window.wx,n=t.getSystemInfoSync(),s=n.screenWidth,i=n.screenHeight;t.getSetting({success:function(e){if(console.log("res.authSetting:"+e.authSetting),e.authSetting["scope.userInfo"])t.getUserInfo({success:function(e){var t=e.userInfo;t.nickName,t.avatarUrl;console.log(t),o.instance.emit(o.CHECK_USER_INFO_UPDATE,t),o.instance.emit(o.ACHIEVEMENT_LOGIN)}});else{var n=t.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:s,height:i,lineHeight:40,backgroundColor:"#00000000",color:"#00000000",textAlign:"center",fontSize:16,borderRadius:4,borderColor:"#00000000",borderWidth:0}});n.onTap((function(e){if(e.userInfo){var t=e.userInfo;t.nickName,t.avatarUrl;console.log(t),o.instance.emit(o.CHECK_USER_INFO_UPDATE,t),o.instance.emit(o.ACHIEVEMENT_LOGIN)}else console.log("用户拒绝授权");n.destroy()}))}},complete:function(e){console.log("RequestLogin complete res")}})},n}(s)).REQUEST_NAME="RequestLogin",n._RF.pop()}}}));

System.register("chunks:///_virtual/RequestManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RequestLogin.ts","./RequestTest.ts","./RequestInitUserData.ts","./RequestGetUserData.ts","./RequestUpdateUserData.ts","./EventManager.ts","./RequestGetScoreRank.ts","./RequestGetLevelRank.ts"],(function(e){var t,n,s,i,u,c,a,o,r,R,E;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,s=e.sys},function(e){i=e.RequestLogin},function(e){u=e.RequestTest},function(e){c=e.RequestInitUserData},function(e){a=e.RequestGetUserData},function(e){o=e.RequestUpdateUserData},function(e){r=e.EventManager},function(e){R=e.RequestGetScoreRank},function(e){E=e.RequestGetLevelRank}],execute:function(){n._RF.push({},"8ebffxRLbdOxrWLszGHui27","RequestManager",void 0),e("RequestManager",function(){function e(){this._dict={},r.instance.on(r.REQUEST_CMD,this.request,this),this._dict[u.REQUEST_NAME]=new u,this._dict[i.REQUEST_NAME]=new i,this._dict[c.REQUEST_NAME]=new c,this._dict[a.REQUEST_NAME]=new a,this._dict[o.REQUEST_NAME]=new o,this._dict[R.REQUEST_NAME]=new R,this._dict[E.REQUEST_NAME]=new E}return e.prototype.request=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),"WECHAT_GAME"==s.platform){var i=this._dict[e];i?(console.log("执行命令"+e+"..."),i.request(t,n)):console.log("没有命令"+e+"...")}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/RequestTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RequestBase.ts"],(function(e){var t,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){u=e.RequestBase}],execute:function(){s._RF.push({},"48c19dzaJBB+YzL6tIP2D7W","RequestTest",void 0),e("RequestTest",function(e){function s(){return e.call(this)||this}return t(s,e),s.prototype.request=function(e){},s}(u)).REQUEST_NAME="RequestTest",s._RF.pop()}}}));

System.register("chunks:///_virtual/RequestUpdateUserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RequestBase.ts"],(function(e){var t,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){a=e.RequestBase}],execute:function(){s._RF.push({},"2e443KYf8hAO5Ylt6vxWEXS","RequestUpdateUserData",void 0),e("RequestUpdateUserData",function(e){function s(){return e.call(this)||this}return t(s,e),s.prototype.request=function(e){window.wx.cloud.database().collection("user_data").where({_openid:"{openid}"}).update({data:e}).then((function(e){console.log("update RequestUpdateUserData:",e),e.errMsg})).catch((function(e){console.log("error RequestUpdateUserData:",e)}))},s}(a)).REQUEST_NAME="RequestUpdateUserData",s._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,s,n,i;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.resources,i=t.log}],execute:function(){s._RF.push({},"a3ea9LzJr1A6KXBymncUe6I","ResourceManager",void 0),t("ResourceManager",function(){function t(){this._total=0,this._list=[],this._isStart=!1}var s=t.prototype;return s.loadResources=function(t,e,s,n){void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=[]),this._total+=1,this._list.push({path:t,event:e,target:s,args:n})},s.start=function(){this._isStart=!0,this._process()},s.getAsset=function(t){return n.get(t)},s._process=function(){if(this._isStart)for(;this._list.length>0;){var t=this._list.pop();t.args&&"dir"==t.args[0]?"preload"==t.args[1]?n.preloadDir(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.loadDir(t.path,this._onAssetLoaded.bind(this,t.event,t.target)):"preload"==t.args[1]?n.preload(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.load(t.path,this._onAssetLoaded.bind(this,t.event,t.target))}},s._checkLoadCompleted=function(){this._total-=1,0==this._total&&(this._isStart=!1,i("当前批次加载完毕..."))},s._onAssetLoaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},s._onAssetPreloaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/SelfRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts"],(function(e){var t,n,r,a,i,l,o,s,c,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Label,s=e.Sprite,c=e.assetManager,u=e.SpriteFrame,p=e.Component},function(e){f=e.UserData}],execute:function(){var m,g,b,y,h,L,S,B,v,d,_,k,z,I,R;i._RF.push({},"355d5rlnZhChb5J3XSK8I4a","SelfRankItem",void 0);var w=l.ccclass,P=l.property;e("SelfRankItem",(m=w("SelfRankItem"),g=P(o),b=P(o),y=P(o),h=P(o),L=P(s),S=P(s),m((d=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"rankLB",d,a(t)),r(t,"nameLB",_,a(t)),r(t,"scoreLB",k,a(t)),r(t,"typeLB",z,a(t)),r(t,"avatarSP",I,a(t)),r(t,"medalSP",R,a(t)),t}n(t,e);var i=t.prototype;return i.start=function(){},i.updateInfo=function(){var e=this;f.instance.user_name&&(this.nameLB.string=f.instance.user_name),f.instance.user_avatar&&c.loadRemote(f.instance.user_avatar,{ext:".png"},(function(t,n){t?console.log(t):e.avatarSP.spriteFrame=u.createWithImage(n)}))},i.updateRank=function(e,t){this.rankLB.string=t.toString(),0==e?(this.scoreLB.string=f.instance.max_level.toString(),this.typeLB.string="关"):(this.scoreLB.string=f.instance.max_score.toString(),this.typeLB.string="分")},i.update=function(e){},t}(p)).prototype,"rankLB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"nameLB",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(v.prototype,"scoreLB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"typeLB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"avatarSP",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(v.prototype,"medalSP",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=v))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserData.ts"],(function(n){var i,t,e,o,a,s,c,r,u,l,p,_;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,c=n.Node,r=n.Animation,u=n.NodeEventType,l=n.Component},function(n){p=n.EventManager},function(n){_=n.UserData}],execute:function(){var f,m,h,b,d,O,B,C,y,E,g,S,v,N,k,T,U,A,z,w,D,M,x;a._RF.push({},"d752dOeQ9dFFbMGBO7x0NVW","Settings",void 0);var I=s.ccclass,R=s.property;n("Settings",(f=I("Settings"),m=R(c),h=R(c),b=R(c),d=R(c),O=R(c),B=R(c),C=R(c),y=R(c),E=R(c),g=R(r),f((N=i((v=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=n.call.apply(n,[this].concat(a))||this,e(i,"exitBtn",N,o(i)),e(i,"returnBtn",k,o(i)),e(i,"musicOn",T,o(i)),e(i,"musicOff",U,o(i)),e(i,"musicClickArea",A,o(i)),e(i,"soundOn",z,o(i)),e(i,"soundOff",w,o(i)),e(i,"soundClickArea",D,o(i)),e(i,"content",M,o(i)),e(i,"animation",x,o(i)),i}t(i,n);var a=i.prototype;return a.start=function(){this.exitBtn.on(p.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this),this.returnBtn.on(p.BASE_BUTTON_TOUCH_END,this._onReturnBtnClick,this),this.soundClickArea.on(u.TOUCH_END,this._onSoundBtnClick,this),this.musicClickArea.on(u.TOUCH_END,this._onMusicBtnClick,this)},a._setIconState=function(){this.soundOn.active=_.instance.is_sound_on,this.soundOff.active=!this.soundOn.active,this.musicOn.active=_.instance.is_music_on,this.musicOff.active=!this.musicOn.active},a._onExitBtnClick=function(){this.popout()},a._onReturnBtnClick=function(){this.popout(),p.instance.emit(p.RETURN_TO_MENU)},a._onSoundBtnClick=function(){_.instance.is_sound_on=!_.instance.is_sound_on,p.instance.emit(p.ENABLE_EFFECT_SOUND,_.instance.is_sound_on),this._setIconState()},a._onMusicBtnClick=function(){_.instance.is_music_on=!_.instance.is_music_on,p.instance.emit(p.ENABLE_BACKGROUND_MUSIC,_.instance.is_music_on),this._setIconState()},a.popup=function(){p.instance.emit(p.USE_SETTINGS),this.node.active=!0,this._setIconState(),this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1},a.update=function(n){},i}(l)).prototype,"exitBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(v.prototype,"returnBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(v.prototype,"musicOn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(v.prototype,"musicOff",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(v.prototype,"musicClickArea",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(v.prototype,"soundOn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(v.prototype,"soundOff",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"soundClickArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(v.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(v.prototype,"animation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillProcesser.ts","./EventManager.ts"],(function(e){var t,i,n,r,l,o,a,c,s,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,c=e.Sprite,s=e.Node,u=e.SpriteFrame,p=e.Component},function(e){f=e.SkillProcesser},function(e){h=e.EventManager}],execute:function(){var b,g,y,k,v,m,d,S,_,w,A,L,z,B,I;l._RF.push({},"1c2af6u265AJ4xiAnLbY+p3","Skill",void 0);var T=o.ccclass,D=o.property;e("Skill",(b=T("Skill"),g=D(a),y=D(a),k=D(c),v=D(c),m=D(c),d=D(s),b((w=t((_=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"introLB",w,r(t)),n(t,"title",A,r(t)),n(t,"icon",L,r(t)),n(t,"faceBG",z,r(t)),n(t,"other",B,r(t)),n(t,"clickArea",I,r(t)),t.type=void 0,t}i(t,e);var l=t.prototype;return l.start=function(){f.instance.setIntro(this),f.instance.setTitle(this),f.instance.setIcon(this),this.clickArea.on(h.BASE_BUTTON_TOUCH_END,this._onUpgradeClick,this)},l._onUpgradeClick=function(){this.clickArea.active=!1,f.instance.upgrade(this),h.instance.emit(h.SKILL_UPGRADE)},l.setIntro=function(e){this.introLB.string=e},l.setTile=function(e){this.title.string=e},l.setIcon=function(e){var t=new u;t.texture=e,this.icon.spriteFrame=t},l.setOther=function(e){var t=new u;t.texture=e,this.other.spriteFrame=t},l.update=function(e){},t}(p)).prototype,"introLB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(_.prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"faceBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"other",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(_.prototype,"clickArea",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=_))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./LevelManager.ts","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts","./WXPlatformManager.ts","./SkillProcesser.ts"],(function(t){var i,n,l,e,s,o,r,a,c,h,u,_,p,d,S,f,k,A,E,v,g,b,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,l=t.initializerDefineProperty,e=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,r=t._decorator,a=t.Prefab,c=t.Node,h=t.Animation,u=t.randomRangeInt,_=t.instantiate,p=t.Component},function(t){d=t.UserData},function(t){S=t.LevelManager},function(t){f=t.EventManager},function(t){k=t.AudioMananger},function(t){A=t.RewardType,E=t.SkillType,v=t.TilePowerupTypes,g=t.AudioIDs},function(t){b=t.WXPlatformManager},function(t){C=t.SkillProcesser}],execute:function(){var m,R,T,y,L,O,P,B,D,I,w,N,U,M,H;o._RF.push({},"a055dDgQPtFwaVgwgE0SyJv","SkillBoard",void 0);var W=r.ccclass,z=r.property;t("SkillBoard",(m=W("SkillBoard"),R=z(a),T=z(c),y=z(c),L=z(c),O=z(h),P=z(c),m((I=i((D=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,l(i,"SkillPrefab",I,e(i)),l(i,"board",w,e(i)),l(i,"content",N,e(i)),l(i,"blocker",U,e(i)),l(i,"animation",M,e(i)),l(i,"skillsAllBtn",H,e(i)),i.skillsAllScript=void 0,i._list=[],i._removes=[],i._current=void 0,i._currentSkills=[],i}n(i,t);var o=i.prototype;return o.start=function(){this.content.setScale(.5,.5)},o.preload=function(){f.instance.on(f.SKILL_UPGRADE,this._onSkillUpgrade,this),f.instance.on(f.POWERUP_CREATED,this._onPowerupCreated,this),f.instance.on(f.ICE_CREATED,this._onIceCreated,this),f.instance.on(f.STONE_CREATED,this._onStoneCreated,this),f.instance.on(f.NEWLINE_MULTI_ADD,this._onNewLineMultiAdd,this),f.instance.on(f.REDUCE_INIT_ROW_ADD,this._onInitRowAdd,this),f.instance.on(f.REMOVE_SKILL,this._onRemoveSkill,this),this.skillsAllBtn.on(f.BASE_BUTTON_TOUCH_START,this._onSkillsAllBtnStart,this),this.skillsAllBtn.on(f.BASE_BUTTON_TOUCH_END,this._onSkillsAllBtnEnd,this),this.skillsAllBtn.on(f.BASE_BUTTON_TOUCH_CANCEL,this._onSkillsAllBtnCancel,this),this.skillsAllScript=this.skillsAllBtn.getComponent("BreathNode"),this.skillsAllScript.startHale()},o._onSkillsAllBtnEnd=function(){this.skillsAllScript.stopHale(),this.blocker.active=!0,d.instance.get_bonus=A.SKLII_ALL,b.instance.showRewaredVideoAd()},o._onSkillsAllBtnStart=function(){this.skillsAllScript.stopHale()},o._onSkillsAllBtnCancel=function(){this.skillsAllScript.startHale()},o.init_new=function(){this._list=[0,9],this._removes=[]},o.restore=function(t,i){this._list=t,this._removes=i},o._onIceCreated=function(){this.addSkill(E.LIMIT_CHANCE),this.addSkill(E.LIMIT_STEP_CHANCE)},o._onStoneCreated=function(){this.addSkill(E.STONE_CHANCE)},o._onNewLineMultiAdd=function(){this.addSkill(E.NEW_LINE_REDUCE)},o._onInitRowAdd=function(){this.addSkill(E.INIT_ROW)},o._onPowerupCreated=function(t){var i;t==v.ERASE_ROWS?i=E.ERASE_ROWS:t==v.ERASE_COLS?i=E.ERASE_COLS:t==v.EXPLODE?i=E.EXPLODE:t==v.SAME_COLOR&&(i=E.SAME_COLOR),this._removes.includes(i)||this.addSkill(i)},o.addSkill=function(t){-1==this._list.indexOf(t)&&this._list.push(t)},o.removeSkill=function(t){var i=this._list.indexOf(t);i>-1&&this._list.splice(i,1),this._removes.includes(t)||this._removes.push(t)},o._onRemoveSkill=function(t){this.removeSkill(t)},o.init_data=function(){for(this.skillsAllScript&&this.skillsAllScript.startHale(),S.instance.is_new_level=!1,this.board.removeAllChildren();this._currentSkills.length>0;)this._currentSkills.pop();this._current=this._list.concat();for(var t=0;t<d.instance.skill_nums&&this._current.length>0;++t){var i=u(0,this._current.length),n=this._current.splice(i,1)[0],l=_(this.SkillPrefab).getComponent("Skill");l.type=n,this.board.addChild(l.node),this._currentSkills.push(l)}},o.getAllSkill=function(){for(k.instance.playEffect(g.UPGRADE);this._currentSkills.length>0;){var t=this._currentSkills.pop();C.instance.upgrade(t)}},o._onSkillUpgrade=function(){k.instance.playEffect(g.UPGRADE),this.popout()},o.popup=function(){this.init_data(),0!=this.board.children.length&&(this.blocker.active=!1,k.instance.playEffect(g.POPUP),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation"))},o.popout=function(){this.skillsAllScript&&this.skillsAllScript.stopHale(),this.blocker.active=!0,this.animation.play("popout_animation")},o.hide=function(){this.node.active=!1},o.update=function(t){},s(i,[{key:"list",get:function(){return this._list}},{key:"removes",get:function(){return this._removes}}]),i}(p)).prototype,"SkillPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(D.prototype,"board",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(D.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(D.prototype,"blocker",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(D.prototype,"animation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(D.prototype,"skillsAllBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=D))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseCols.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(e){var t,n,s,a,c,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){s=e.ResourceManager},function(e){a=e.GlobalData,c=e.SkillType},function(e){o=e.EventManager}],execute:function(){t._RF.push({},"5a726ZTWmdIf62g5BH7+6sg","SkillEraseCols",void 0);e("SkillEraseCols",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加列消除道具的消除范围。\n当前：消除 "+n.instance.erase_cols+" 列\n升级：消除 "+(n.instance.erase_cols+1)+" 列")},t.setTitle=function(e){e.setTile("列消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=s.instance.getAsset("textures/icon_list/texture");e.setIcon(t)},t.upgrade=function(){n.instance.erase_cols+=1,n.instance.erase_cols>a.MAX_SKILL_ERASE_COL&&(n.instance.erase_cols=a.MAX_SKILL_ERASE_COL,o.instance.emit(o.REMOVE_SKILL,c.ERASE_COLS))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseRows.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(e){var t,n,s,a,r,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){s=e.ResourceManager},function(e){a=e.GlobalData,r=e.SkillType},function(e){o=e.EventManager}],execute:function(){t._RF.push({},"ff98eaAFgJLwZnbzptuM9Kw","SkillEraseRows",void 0);e("SkillEraseRows",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加行消除道具的消除范围。\n当前：消除 "+n.instance.erase_rows+" 行\n升级：消除 "+(n.instance.erase_rows+1)+" 行")},t.setTitle=function(e){e.setTile("行消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=s.instance.getAsset("textures/icon_line/texture");e.setIcon(t)},t.upgrade=function(){n.instance.erase_rows+=1,n.instance.erase_rows>a.MAX_SKILL_ERASE_ROW&&(n.instance.erase_rows=a.MAX_SKILL_ERASE_ROW,o.instance.emit(o.REMOVE_SKILL,r.ERASE_ROWS))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillExplode.ts",["cc","./UserData.ts","./ResourceManager.ts","./EventManager.ts","./GlobalData.ts"],(function(e){var t,n,o,s,c,a;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){o=e.ResourceManager},function(e){s=e.EventManager},function(e){c=e.GlobalData,a=e.SkillType}],execute:function(){t._RF.push({},"567df3erw9O2Kx4+Nij5mWO","SkillExplode",void 0);e("SkillExplode",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加炸弹道具的消除范围。\n当前：消除 "+n.instance.explodes+" 圈\n升级：消除 "+(n.instance.explodes+1)+" 圈")},t.setTitle=function(e){e.setTile("炸弹道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=o.instance.getAsset("textures/icon_bomb/texture");e.setIcon(t)},t.upgrade=function(){n.instance.explodes+=1,n.instance.explodes>=c.MAX_SKILL_EXPLODE&&(n.instance.explodes=c.MAX_SKILL_EXPLODE,s.instance.emit(s.REMOVE_SKILL,a.EXPLODE))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UserData},function(t){i=t.ResourceManager},function(t){c=t.LevelManager}],execute:function(){n._RF.push({},"a9f208ix2pGNa8Kpu9FTEqi","SkillLimitChance",void 0);t("SkillLimitChance",function(){function t(){}var n=t.prototype;return n.setIntro=function(t){t.setIntro("出现冰块的几率减少。\n当前：出现几率为 "+100*e.instance.limit_discount+"%\n升级：出现几率为 "+.9*e.instance.limit_discount*100+"%")},n.setTitle=function(t){t.setTile("冰块几率减少升级")},n.setIcon=function(t){t.faceBG.node.active=!0,t.other.node.active=!1;var n=i.instance.getAsset("textures/obs_ice/texture");t.setIcon(n)},n.upgrade=function(){e.instance.limit_discount*=.9,c.instance.limit_chance*=e.instance.limit_discount},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitStepChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(t){var e,n,i,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UserData},function(t){i=t.ResourceManager},function(t){c=t.LevelManager}],execute:function(){e._RF.push({},"1b4b2gYK1ZEJZxKMC9C3BHY","SkillLimitStepChance",void 0);t("SkillLimitStepChance",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("减少消除冰块所需的步数。\n当前：减少的百分比为 "+100*n.instance.limit_step_discount+"%\n升级：减少的百分比为 "+.9*n.instance.limit_step_discount*100+"%")},e.setTitle=function(t){t.setTile("冰块步数减少升级")},e.setIcon=function(t){t.faceBG.node.active=!0,t.other.node.active=!1;var e=i.instance.getAsset("textures/skill_ice_step/texture");t.setIcon(e)},e.upgrade=function(){n.instance.limit_step_discount*=.9,c.instance.max_limit*=n.instance.limit_step_discount,c.instance.min_limit*=n.instance.limit_step_discount},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillNewLineReduce.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./LevelManager.ts","./EventManager.ts"],(function(e){var n,t,i,c,a,s,u;return{setters:[function(e){n=e.cclegacy},function(e){t=e.UserData},function(e){i=e.ResourceManager},function(e){c=e.GlobalData,a=e.SkillType},function(e){s=e.LevelManager},function(e){u=e.EventManager}],execute:function(){n._RF.push({},"02243ImRhJP8YivinAxf8hZ","SkillNewLineReduce",void 0);e("SkillNewLineReduce",function(){function e(){}var n=e.prototype;return n.setIntro=function(e){e.setIntro("减少每次消除后产生的新行次数。\n当前：每次减少 "+t.instance.new_line_reduce+" 行\n升级：每次减少 "+(t.instance.new_line_reduce+1)+" 行")},n.setTitle=function(e){e.setTile("新行次数减少升级")},n.setIcon=function(e){e.faceBG.node.active=!1,e.other.node.active=!0;var n=i.instance.getAsset("textures/skill_new_line/texture");e.setOther(n)},n.upgrade=function(){t.instance.new_line_reduce+=1,s.instance.new_line_nums-=t.instance.new_line_reduce,s.instance.new_line_nums<1&&(s.instance.new_line_nums=1),s.instance.new_line_nums-t.instance.new_line_reduce<=c.MIN_SKILL_NEWLINE&&u.instance.emit(u.REMOVE_SKILL,a.NEW_LINE_REDUCE)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillPowerupMin.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(n){var e,t,i,a,o,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.UserData},function(n){i=n.ResourceManager},function(n){a=n.GlobalData,o=n.SkillType},function(n){r=n.EventManager}],execute:function(){e._RF.push({},"031f9WFitlFLavWKYOpR5Lt","SkillPowerupMin",void 0);n("SkillPowerupMin",function(){function n(){}var e=n.prototype;return e.setIntro=function(n){n.setIntro("产生道具所需要消除的方块数量。\n当前："+t.instance.powerup_min+"个方块\n升级："+(t.instance.powerup_min-1)+"个方块")},e.setTitle=function(n){n.setTile("道具产生升级")},e.setIcon=function(n){n.faceBG.node.active=!1,n.other.node.active=!0;var e=i.instance.getAsset("textures/skill_min/texture");n.setOther(e)},e.upgrade=function(){t.instance.powerup_min-=1,t.instance.powerup_min<=a.MIN_SKILL_POWERUP_MIN&&(t.instance.powerup_min=a.MIN_SKILL_POWERUP_MIN,r.instance.emit(r.REMOVE_SKILL,o.POWERUP_MIN))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillProcesser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillReduceInitRow.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./GlobalData.ts"],(function(t){var i,n,e,l,s,o,c,u,S,r,_,a,k;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.SkillEraseCols},function(t){l=t.SkillEraseRows},function(t){s=t.SkillExplode},function(t){o=t.SkillLimitChance},function(t){c=t.SkillLimitStepChance},function(t){u=t.SkillNewLineReduce},function(t){S=t.SkillPowerupMin},function(t){r=t.SkillReduceInitRow},function(t){_=t.SkillSameColor},function(t){a=t.SkillStoneChance},function(t){k=t.SkillType}],execute:function(){n._RF.push({},"125dabVd2RBro+9d0gxvp1K","SkillProcesser",void 0),t("SkillProcesser",function(){function t(){this._list={},this._list[k.POWERUP_MIN]=new S,this._list[k.ERASE_ROWS]=new l,this._list[k.ERASE_COLS]=new e,this._list[k.EXPLODE]=new s,this._list[k.SAME_COLOR]=new _,this._list[k.STONE_CHANCE]=new a,this._list[k.LIMIT_CHANCE]=new o,this._list[k.LIMIT_STEP_CHANCE]=new c,this._list[k.NEW_LINE_REDUCE]=new u,this._list[k.INIT_ROW]=new r}var n=t.prototype;return n.setIntro=function(t){this._list[t.type].setIntro(t)},n.setTitle=function(t){this._list[t.type].setTitle(t)},n.setIcon=function(t){this._list[t.type].setIcon(t)},n.upgrade=function(t){this._list[t.type].upgrade()},i(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillReduceInitRow.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts","./EventManager.ts","./GlobalData.ts"],(function(n){var e,t,i,c,r,o;return{setters:[function(n){e=n.cclegacy},function(n){t=n.UserData},function(n){i=n.ResourceManager},function(n){c=n.LevelManager},function(n){r=n.EventManager},function(n){o=n.SkillType}],execute:function(){e._RF.push({},"1825eKExL5CXrGJuQq4GhUq","SkillReduceInitRow",void 0);n("SkillReduceInitRow",function(){function n(){}var e=n.prototype;return e.setIntro=function(n){n.setIntro("过关后生成的初始行数减少，最少为一行。\n当前：初始行数"+c.instance.init_row+"行\n升级：初始行数"+(c.instance.init_row-1)+"行")},e.setTitle=function(n){n.setTile("初始行数减少升级")},e.setIcon=function(n){n.faceBG.node.active=!1,n.other.node.active=!0;var e=i.instance.getAsset("textures/skill_reduce_init_row/texture");n.setOther(e)},e.upgrade=function(){t.instance.reduce_init_row+=1,c.instance.init_row-=t.instance.reduce_init_row,c.instance.init_row<1&&(c.instance.init_row=1),1==c.instance.init_row&&r.instance.emit(r.REMOVE_SKILL,o.INIT_ROW)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillSameColor.ts",["cc","./UserData.ts","./ResourceManager.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){o=e.ResourceManager}],execute:function(){t._RF.push({},"c8ca9+neoFMA4xcmrZYXyFQ","SkillSameColor",void 0);e("SkillSameColor",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加同色消除道具的消除个数。\n当前：消除 "+n.instance.same_colors+" 个\n升级：消除 "+(n.instance.same_colors+1)+" 个")},t.setTitle=function(e){e.setTile("同色消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=o.instance.getAsset("textures/icon_same/texture");e.setIcon(t)},t.upgrade=function(){n.instance.same_colors+=1},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillStoneChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(n){var e,t,c,s;return{setters:[function(n){e=n.cclegacy},function(n){t=n.UserData},function(n){c=n.ResourceManager},function(n){s=n.LevelManager}],execute:function(){e._RF.push({},"0cba9/ElORPUb3JL9ImCfgl","SkillStoneChance",void 0);n("SkillStoneChance",function(){function n(){}var e=n.prototype;return e.setIntro=function(n){n.setIntro("出现石头的几率减少。\n当前：出现几率为 "+100*t.instance.stone_discount+"%\n升级：出现几率为 "+.9*t.instance.stone_discount*100+"%")},e.setTitle=function(n){n.setTile("石头几率减少升级")},e.setIcon=function(n){n.faceBG.node.active=!0,n.other.node.active=!1;var e=c.instance.getAsset("textures/obs_stone/texture");n.setIcon(e)},e.upgrade=function(){t.instance.stone_discount*=.9,s.instance.stone_chance*=t.instance.stone_discount},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SnowParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.ParticleSystem2D,l=e.Component}],execute:function(){var s,u,p,f,y;o._RF.push({},"d260eEqFMVAaLAcwmyBDq9a","SnowParticle",void 0);var w=a.ccclass,d=a.property;e("SnowParticle",(s=w("SnowParticle"),u=d(c),s((y=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"snow",y,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},t}(l)).prototype,"snow",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Sounds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,t,u,e,n,r,a,c,s,d;return{setters:[function(i){o=i.applyDecoratedDescriptor,t=i.inheritsLoose,u=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){n=i.cclegacy,r=i._decorator,a=i.AudioClip,c=i.AudioSource,s=i.tween,d=i.Component}],execute:function(){var l,p,f,h,b,g,A,y,k;n._RF.push({},"6a684ngGDhMW58aGfJtEdfj","Sounds",void 0);var v=r.ccclass,m=r.property;i("Sounds",(l=v("Sounds"),p=m({type:a}),f=m({type:c}),h=m({type:c}),l((A=o((g=function(i){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=i.call.apply(i,[this].concat(n))||this,u(o,"audios",A,e(o)),u(o,"backgroundAudio",y,e(o)),u(o,"effectAudio",k,e(o)),o}t(o,i);var n=o.prototype;return n.start=function(){this.backgroundAudio.loop=!0},n.setMusicClip=function(i){this.backgroundAudio.clip=this.audios[i]},n.setEffectClip=function(i){this.effectAudio.clip=this.audios[i]},n.playMusic=function(i,o){var t=this;if(void 0===o&&(o=!0),this.backgroundAudio.clip)if(this.backgroundAudio.playing){if(this.backgroundAudio.clip==this.audios[i])return;this.backgroundAudio.loop=o,s(this.backgroundAudio).to(.3,{volume:0}).call((function(){t.backgroundAudio.stop(),t.backgroundAudio.clip=t.audios[i],t.backgroundAudio.play(),s(t.backgroundAudio).to(.3,{volume:1}).start()})).start()}else this.backgroundAudio.loop=o,this.backgroundAudio.clip=this.audios[i],this.backgroundAudio.play()},n.playEffect=function(i){this.effectAudio.playOneShot(this.audios[i])},o}(d)).prototype,"audios",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(g.prototype,"backgroundAudio",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(g.prototype,"effectAudio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/StateBase.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"56945njGh1KmKj61HGWcpBM","StateBase",void 0);t("StateBase",function(){function t(){this.name=""}var e=t.prototype;return e.enter=function(){},e.exit=function(){},e.update=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"58aa419oZRA7rDDz5G0AJyx","StateMachine",void 0);t("StateMachine",function(){function t(t){this.states={},this._current=void 0,this._previous=void 0,this._owner=void 0,this._owner=t}var r=t.prototype;return r.setState=function(t,e){void 0===e&&(e=!1),(e||t!=this._current)&&(this._current&&this._current.exit(),this._previous=this._current,this._current=t,this._current.enter())},r.update=function(t){this._current&&this._current.update(t)},e(t,[{key:"owner",get:function(){return this._owner}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./EventManager.ts"],(function(t){var e,i,n,a,r,o,l,s,c,u,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Animation,s=t.Node,c=t.Label,u=t.Component},function(t){p=t.UserData},function(t){m=t.EventManager}],execute:function(){var f,b,g,h,B,L,y,_,v,x,S,d,z,E,w,C,D;r._RF.push({},"5a14fThA5RKzrUe+3kL8+T2","StatisticsPanel",void 0);var P=o.ccclass,T=o.property;t("StatisticsPanel",(f=P("StatisticsPanel"),b=T(l),g=T(s),h=T(c),B=T(c),L=T(c),y=T(c),_=T(s),f((S=e((x=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"animation",S,a(e)),n(e,"content",d,a(e)),n(e,"maxLevelLB",z,a(e)),n(e,"maxScoreLB",E,a(e)),n(e,"tileEraseLB",w,a(e)),n(e,"startGameCountLB",C,a(e)),n(e,"exitBtn",D,a(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.exitBtn.on(m.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this)},r._onExitBtnClick=function(){this.popout()},r.popup=function(){this.maxLevelLB.string=p.instance.max_level.toString(),this.maxScoreLB.string=p.instance.max_score.toString(),this.tileEraseLB.string=p.instance.erase_tiles.toString(),this.startGameCountLB.string=p.instance.start_game_count.toString(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},r.popout=function(){this.animation.play("popout_animation")},r.hide=function(){this.node.active=!1},r.update=function(t){},e}(u)).prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(x.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(x.prototype,"maxLevelLB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(x.prototype,"maxScoreLB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(x.prototype,"tileEraseLB",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(x.prototype,"startGameCountLB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(x.prototype,"exitBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=x))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./LevelManager.ts","./EventManager.ts","./RequestManager.ts","./RequestUpdateUserData.ts","./GlobalData.ts"],(function(t){var s,e,a,i,n,r,o,_,c;return{setters:[function(t){s=t.createClass},function(t){e=t.cclegacy,a=t.sys},function(t){i=t.UserData},function(t){n=t.LevelManager},function(t){r=t.EventManager},function(t){o=t.RequestManager},function(t){_=t.RequestUpdateUserData},function(t){c=t.GlobalData}],execute:function(){e._RF.push({},"841ecPvatJE66TsH4e704Tv","StorageDataManager",void 0),t("StorageDataManager",function(){function t(){this._data=null,this._dataKey="poppit_data_200",this._preDataKey="poppit_data",r.instance.on(r.STORE_NETWORK_DATA,this.setNetWorkData,this)}var e=t.prototype;return e.setNetWorkData=function(t,s){console.log("储存数据:",t),o.instance.request(_.REQUEST_NAME,t,s)},e.init=function(){this._preDataKey!=this._dataKey&&(this._preDataKey="")},e.setData=function(t,s){},e.saveProgress=function(t,s){this._data.progress||(this._data.progress={}),this._data.progress.score=i.instance.score,this._data.progress.level=i.instance.level,this._data.progress.stone_discount=i.instance.stone_discount,this._data.progress.limit_discount=i.instance.limit_discount,this._data.progress.limit_step_discount=i.instance.limit_step_discount,this._data.progress.powerup_min=i.instance.powerup_min,this._data.progress.new_line_reduce=i.instance.new_line_reduce,this._data.progress.erase_rows=i.instance.erase_rows,this._data.progress.erase_cols=i.instance.erase_cols,this._data.progress.explodes=i.instance.explodes,this._data.progress.same_colors=i.instance.same_colors,this._data.progress.tile_color_types=n.instance.tile_color_types,this._data.progress.init_row=n.instance.init_row,this._data.progress.stone_chance=n.instance.stone_chance,this._data.progress.limit_chance=n.instance.limit_chance,this._data.progress.max_limit=n.instance.max_limit,this._data.progress.min_limit=n.instance.min_limit,this._data.progress.new_line_nums=n.instance.new_line_nums,this._data.progress.skill_list=t,this._data.progress.skill_removes=s,this.saveData()},e.restoreProgress=function(t){i.instance.score=this._data.progress.score,i.instance.level=this._data.progress.level,n.instance.level_id=i.instance.level,i.instance.stone_discount=this._data.progress.stone_discount,i.instance.limit_discount=this._data.progress.limit_discount,i.instance.limit_step_discount=this._data.progress.limit_step_discount,i.instance.powerup_min=this._data.progress.powerup_min,i.instance.new_line_reduce=this._data.progress.new_line_reduce,i.instance.erase_rows=this._data.progress.erase_rows,i.instance.erase_cols=this._data.progress.erase_cols,i.instance.explodes=this._data.progress.explodes,i.instance.same_colors=this._data.progress.same_colors,n.instance.tile_color_types=this._data.progress.tile_color_types,n.instance.init_row=this._data.progress.init_row,n.instance.stone_chance=this._data.progress.stone_chance,n.instance.limit_chance=this._data.progress.limit_chance,n.instance.max_limit=this._data.progress.max_limit,n.instance.min_limit=this._data.progress.min_limit,n.instance.new_line_nums=this._data.progress.new_line_nums,t.restore(this._data.progress.skill_list,this._data.progress.skill_removes)},e.saveData=function(){a.localStorage.setItem(this._dataKey,JSON.stringify(this._data))},e.getData=function(t){return this._data[t]},e.loadData=function(){this.removeData(this._preDataKey);var t=a.localStorage.getItem(this._dataKey);console.log("Cache:",t);try{if(t){var s=JSON.parse(t);s.version&&s.version==c.VERSION?this._data=s:this.clear()}}catch(t){this.clear()}this._data||(this._data={tutorials:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],version:"2.0.0"})},e.removeData=function(t){a.localStorage.removeItem(t)},e.clear=function(){a.localStorage.clear()},s(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,r,s,a,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Button,c=t.Component}],execute:function(){var u,l,w,d,h;r._RF.push({},"becd71ozMJO65XXc53+zSso","Test",void 0);var f=s.ccclass,p=s.property;t("Test",(u=f("Test"),l=p(a),u((h=o((d=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"showButton",h,i(o)),o}e(o,t);var r=o.prototype;return r.start=function(){this.initUserInfoButton(),this.showButton.node.on("click",this.showRanks,this)},r.showRanks=function(){if(window.wx){var t=Math.round(100*Math.random());window.wx.getOpenDataContext().postMessage({message:t})}},r.initUserInfoButton=function(){if(window.wx){var t=window.wx.getSystemInfoSync(),o=t.windowWidth,e=t.windowHeight,n=window.wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:o,height:e,lineHeight:40,backgorundColor:"#00000000",color:"#00000000",textAlign:"center",fontSize:10,borderRadius:4}});n.onTap((function(t){t.userInfo?console.log("authorized success!"):console.log("autorized fail!"),n.hide(),n.destroy()}))}},r.update=function(t){},o}(c)).prototype,"showButton",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=d))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./TileStateNormal.ts","./TileStateEnter.ts","./GlobalData.ts","./EventManager.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts","./ResourceManager.ts","./TileStateDie.ts"],(function(e){var t,i,n,s,a,o,r,c,l,h,u,p,f,w,S,m,T,d,g,v,P,b,k,M,_,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Sprite,c=e.Animation,l=e.Node,h=e.NodeEventType,u=e.SpriteFrame,p=e.randomRange,f=e.Component},function(e){w=e.StateMachine},function(e){S=e.TileStateNormal},function(e){m=e.TileStateEnter},function(e){T=e.TileType,d=e.TileColorTypes,g=e.TilePowerupTypes,v=e.GlobalData},function(e){P=e.EventManager},function(e){b=e.TileStateRemove},function(e){k=e.TileStateMoveToDest},function(e){M=e.PowerupProcessor},function(e){_=e.ResourceManager},function(e){y=e.TileStateDie}],execute:function(){var F,C,E,R,A,N,z,D,x,L,I,H,O,U,B,G,J,W,j;a._RF.push({},"7d4a1U9CWRB7JRJJj4nxlYY","Tile",void 0);var K=o.ccclass,Y=o.property;e("Tile",(F=K("Tile"),C=Y(r),E=Y(r),R=Y(r),A=Y(r),N=Y(r),z=Y(r),D=Y(c),x=Y(l),F((H=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"face",H,s(t)),n(t,"die",O,s(t)),n(t,"clickArea",U,s(t)),n(t,"stepsSP",B,s(t)),n(t,"stepFrame",G,s(t)),n(t,"powerup",J,s(t)),n(t,"animation",W,s(t)),n(t,"content",j,s(t)),t.row=0,t.col=0,t.type=T.NORMAL,t.steps=0,t.colorType=d.BLACK,t.powerupType=g.NORMAL,t.moveTarget=null,t.shakeSnowPos=void 0,t.shakeSnowCount=30,t.startSnowShaking=!1,t._stateMachine=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){this.clickArea.node.on(h.TOUCH_START,this.onTileClick,this)},a.preload=function(){this._stateMachine=new w(this),this._stateMachine.states[S.stateName]=new S(this._stateMachine),this._stateMachine.states[m.stateName]=new m(this._stateMachine),this._stateMachine.states[b.stateName]=new b(this._stateMachine),this._stateMachine.states[k.stateName]=new k(this._stateMachine),this._stateMachine.states[y.stateName]=new y(this._stateMachine)},a.changeState=function(e){var t=this._stateMachine.states[e];this._stateMachine.setState(t)},a.setClickable=function(e){this.clickArea.node.active=!!e},a.onTileClick=function(){P.instance.emit(P.TILE_CLICK,this)},a.setSteps=function(){var e=new u;e.texture=_.instance.getAsset("textures/obs_ice_"+this.steps+"/texture"),this.stepsSP.spriteFrame=e,0==this.steps?(this.stepsSP.node.active=!1,this.stepFrame.node.active=!1,this.stepFrame.node.removeFromParent(),this.stepsSP.node.removeFromParent()):(this.stepsSP.node.active=!0,this.stepFrame.node.active=!0,this.setSnowShake())},a.setSnowShake=function(){this.shakeSnowPos=this.stepFrame.node.getPosition(),this.shakeSnowCount=30},a.shaking=function(){if(this.startSnowShaking&&0!=this.steps&&this.stepFrame.node.active)if(this.shakeSnowCount>0){var e=p(-3,3),t=p(-3,3),i=p(-2,2);this.stepFrame.node.setPosition(this.shakeSnowPos.x+e,this.shakeSnowPos.y+t),this.stepFrame.node.angle=i,--this.shakeSnowCount}else this.startSnowShaking=!1,this.shakeSnowCount=30,this.stepFrame.node.setPosition(this.shakeSnowPos),this.stepFrame.node.angle=0},a.setColor=function(e){this.face.color=e},a.changeToPowerup=function(){M.instance.setFace(this)},a.setPowerup=function(e){var t=new u;t.texture=e,this.powerup.spriteFrame=t},a.setFace=function(e){var t=new u;t.texture=e,this.face.spriteFrame=t},a.executePowerup=function(){P.instance.emit(P.EXECUTE_POWERUP,this)},a.setPos=function(){this.node.setPosition(this.col*v.TILE_WIDTH,this.row*v.TILE_HEIGHT)},a.toString=function(){return"[Tile("+this.row+", "+this.col+")]"},a.update=function(e){this.shaking()},t}(f)).prototype,"face",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(I.prototype,"die",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(I.prototype,"clickArea",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(I.prototype,"stepsSP",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(I.prototype,"stepFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(I.prototype,"powerup",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(I.prototype,"animation",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(I.prototype,"content",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateDie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./StateBase.ts"],(function(e){var t,n,i,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.EventManager},function(e){a=e.GlobalData},function(e){o=e.StateBase}],execute:function(){n._RF.push({},"30bd225kxRH8b3OUw89kHq9","TileStateDie",void 0),e("TileStateDie",function(e){function n(t){var n;return(n=e.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=t,n._owner=t.owner,n}t(n,e);var o=n.prototype;return o.enter=function(){var e=this;this._owner.setClickable(!1),this._owner.scheduleOnce((function(){e._owner.face.node.active=!1,e._owner.die.node.active=!0,i.instance.emit(i.TILE_DEAD)}),.1*(a.ROWS-this._owner.row))},o.exit=function(){},o.update=function(e){},n}(o)).stateName="TileStateDie",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts"],(function(e){var n,t,i,o,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Animation},function(e){o=e.StateBase},function(e){a=e.EventManager}],execute:function(){t._RF.push({},"e8003g4SB5IbbzvGb8jQdy0","TileStateEnter",void 0),e("TileStateEnter",function(e){function t(n){var t;return(t=e.call(this)||this)._stateMachine=void 0,t._owner=void 0,t._stateMachine=n,t._owner=n.owner,t}n(t,e);var o=t.prototype;return o.enter=function(){var e=this;this._owner.setClickable(!1),this._owner.face.node.active=!0,this._owner.die.node.active=!1,this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){e._owner.animation.on(i.EventType.FINISHED,e._onAnimationFinished,e),e._owner.animation.play("tile_enter_animation")}),.2*(this._owner.row+1))},o.exit=function(){},o.update=function(e){},o._onAnimationFinished=function(e,n){this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),a.instance.emit(a.TILE_ENTERED)},t}(o)).stateName="TileStateEnter",t._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateMoveToDest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./GlobalData.ts","./EventManager.ts"],(function(t){var e,n,o,i,s,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.tween,i=t.Vec3},function(t){s=t.StateBase},function(t){a=t.GlobalData},function(t){c=t.EventManager}],execute:function(){n._RF.push({},"0dc3d5dUjlPhoNvVXWzmg/g","TileStateMoveToDest",void 0),t("TileStateMoveToDest",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._dest=new i,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var s=n.prototype;return s.enter=function(){this._dest.x=this._owner.col*a.TILE_WIDTH,this._dest.y=this._owner.row*a.TILE_HEIGHT,o(this._owner.node).to(.4,{position:this._dest},{easing:"bounceOut"}).call((function(){c.instance.emit(c.TILE_MOVE_TO_DEST)})).start()},s.exit=function(){},s.update=function(t){},n}(s)).stateName="TileStateMoveToDest",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.StateBase}],execute:function(){n._RF.push({},"2d57cVZ1XhPzacFindpwhew","TileStateNormal",void 0),e("TileStateNormal",function(e){function n(t){var n;return(n=e.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=t,n._owner=t.owner,n}t(n,e);var i=n.prototype;return i.enter=function(){this._owner.setClickable(!0),this._owner.face.node.active=!0,this._owner.die.node.active=!1},i.exit=function(){},i.update=function(e){},n}(i)).stateName="TileStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateRemove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts","./GlobalData.ts","./TileStateNormal.ts","./UserData.ts","./LevelManager.ts","./UltimateManager.ts"],(function(e){var n,t,i,o,a,s,r,c,_,l,m,h,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Animation,o=e.tween,a=e.Vec3},function(e){s=e.StateBase},function(e){r=e.EventManager},function(e){c=e.GlobalData,_=e.GameMode},function(e){l=e.TileStateNormal},function(e){m=e.UserData},function(e){h=e.LevelManager},function(e){u=e.UltimateManager}],execute:function(){t._RF.push({},"b0ec1s8ijlLgbrK8C2lsxxJ","TileStateRemove",void 0),e("TileStateRemove",function(e){function t(n){var t;return(t=e.call(this)||this)._stateMachine=void 0,t._owner=void 0,t._stateMachine=n,t._owner=n.owner,t}n(t,e);var s=t.prototype;return s.enter=function(){var e=this;if(this._owner.setClickable(!1),this._owner.steps>0)return this._owner.steps-=1,this._owner.setSteps(),this._owner.startSnowShaking=!0,this._owner.changeState(l.stateName),void r.instance.emit(r.SNOW_EFFECT,this._owner.node.getWorldPosition());if(++m.instance.erase_tiles,null==this._owner.moveTarget)0==this._owner.powerupType?(this._owner.animation.play("tile_normal_remove_animation"),r.instance.emit(r.TILE_NORMAL_REMOVE,this._owner)):this._owner.animation.play("tile_powerup_remove_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this);else if(this._owner.moveTarget!=this._owner){var n=o(this._owner.node).to(.3,{position:this._owner.moveTarget.node.position}),t=o(this._owner.node).to(.3,{scale:new a(0,0,0)}),s=o(this._owner.node).to(.3,{angle:360});o(this._owner.node).parallel(n,t,s).call((function(){e._owner.moveTarget=null,e._owner.node.removeFromParent(),m.instance.score+=c.TILE_SCORE,e._record_max_score(),m.instance.progress+=c.TILE_SCORE,m.instance.progress>h.instance.total_score&&(m.instance.progress=h.instance.total_score),r.instance.emit(r.PROGRESS_CHANGE),r.instance.emit(r.TILE_REMOVED)})).start()}else this._owner.moveTarget=null,this._owner.animation.play("tile_powerup_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this)},s.exit=function(){},s.update=function(e){},s._record_max_score=function(){m.instance.score>m.instance.max_score&&h.instance.mode==_.NORMAL&&(m.instance.max_score=m.instance.score,m.instance.max_score_change=!0)},s._onAnimationFinished=function(e,n){"tile_powerup_animation"!=n.name&&(this._owner.node.removeFromParent(),m.instance.score+=c.TILE_SCORE*u.instance.double_score_ratio,this._record_max_score(),m.instance.progress+=c.TILE_SCORE*u.instance.double_score_ratio,m.instance.progress>h.instance.total_score&&(m.instance.progress=h.instance.total_score),r.instance.emit(r.PROGRESS_CHANGE)),this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),r.instance.emit(r.TILE_REMOVED)},t}(s)).stateName="TileStateRemove",t._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r,s,o,a,c,l,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Label,c=t.randomRangeInt,l=t.Color,p=t.tween,u=t.Component}],execute:function(){var h,f,g,y,d;s._RF.push({},"43f4cXH01VFgIx2EYqAx0yu","Tips",void 0);var v=o.ccclass,T=o.property;t("Tips",(h=v("Tips"),f=T(a),h((d=i((y=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,e(i,"tips",d,r(i)),i._list=[],i}n(i,t);var s=i.prototype;return s.start=function(){this._list.push("游戏还有神秘大招出现，出现时请尽快使用它吧！","技能：喵眼金睛，同颜色消除道具效果翻倍，首次授权登录解锁。","技能：喵吼功，","技能：猫咪翻滚，","技能：金刚喵爪，","技能：天喵散花，","技能：暖暖萌喵，","技能：肥猫大坐，","技能：唯我独喵，","技能：至尊喵，","每消除一个方块就可以增加一个黄色能量条哦，能量条满时可以使用技能。","快去完成所有成就吧，可以看到精美卡通画哦!","合理使用技能能帮助你更好的通关哦","积分模式只有在游戏结束时才会统计排行榜积分哦！","闯关模式每次进入下一关时都会统计排行榜关卡数哦!","闯关失败后进度会清空哦！","游戏菜单有个数据统计会显示一些你玩过的数据。","积分模式道具不会升级。","每消除一次就会新增一行哦，后面的关卡还会增加多行。","炸弹道具级别越高，爆炸的效果越激烈！","如果消除的方块中包含了道具方块，则这次消除不会产生道具哦！","方块到达顶端时，会出现红色的警告框。","听说在一次消除超多方块后会出现鼓掌欢呼的声音。","闯关失败后所有的猫猫都可怜的看着你...","行消除道具曾多次拯救过游戏哦。","游戏里总共有6种颜色的猫猫哦。","据说能达到100关的人不超过0.01%！","想要无敌吗？多升级《产生道具技能》吧！","只点击一个方块，也可以消除哦！","你问游戏加载界面中那个美少女是谁？我也不知道。","消除的越多，猫爪子就舞动的越欢快哦！","石头方块只能用道具消除哦！应该尽快消除它们！","为什么方块的形状是小猫？当然是因为可爱啦~","试一下多个道具一起消除，超刺激的哦！","砰！砰！砰！，喵~喵~喵~","超过50关已经是高手了！但是只有传奇才能达到100关！","小猫为什么会躲在冰块里？可能它想体验冬眠的感觉。","设置界面里面可以调节音量，也可以返回到主菜单哦！","点击设置按钮可以进入设置界面哦！","希望大家多多支持这个游戏！有什么建议可以留言哦~","总是弄混冰块步数升级和产生冰块升级，怎么办？","每种颜色的猫猫都有一个名字哦！","红色的猫猫叫番茄。","橙色的猫猫叫南瓜。","黄色的猫猫叫土豆。","绿色的猫猫叫韭菜。","蓝色的猫猫叫萝卜。","紫色的猫猫叫茄子。","听说猫咪有九条命？","列消除道具和行消除道具经常争论谁更厉害。","同色消除道具可以让其它颜色的方块堆叠在一起。","红色警报亮起时表示下一次新增的方块将会使游戏结束！","道具是随机产生的哦！","后面关卡会消除后会一次产生多行！记得升级《新行次数减少升级》技能哦！","某些道具升级到最高级别收就不能再升级了。"),this.showTips()},s.showTips=function(){var t=this;try{var i=this.tips;this.tips.string=this._list[c(0,this._list.length)];var n=new l(255,255,255,0);p(n).to(1,{r:255,g:255,b:255,a:255},{easing:"linear",onUpdate:function(t){i.color=t}}).delay(20).to(1,{r:255,g:255,b:255,a:0},{easing:"linear",onUpdate:function(t){i.color=t}}).call((function(){t.showTips()})).start()}catch(t){}},s.update=function(t){},i}(u)).prototype,"tips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/Trace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./AudioMananger.ts"],(function(e){var t,n,r,a,o,i,c,s,u,l,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.tween,u=e.Vec3,l=e.Color,p=e.Component},function(e){f=e.AudioIDs},function(e){d=e.AudioMananger}],execute:function(){var g,h,v,y,b;o._RF.push({},"3c520rDfg5LRZMXWJwUIgQ8","Trace",void 0);var w=i.ccclass,D=i.property;e("Trace",(g=w("Trace"),h=D(c),g((b=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"face",b,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;d.instance.playEffect(f.ERASE_EFFCT),this.node.setScale(1.5,.1),s(this.node).to(.5,{scale:new u(1.5,5,1)},{easing:"quintOut"}).start();var t=this.face,n=new l(255,255,255,255);s(n).to(.8,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(e){t.color=e}}).call((function(){e.node.removeFromParent()})).start()},o.update=function(e){},t}(p)).prototype,"face",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/TraceColor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,n,a,i,s,c,l,u,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.UITransform,l=t.tween,u=t.Vec3,h=t.Color,p=t.Component}],execute:function(){var f,d,g,v,y,b,m;a._RF.push({},"466abZtSIhOao2iBA7DuJu2","TraceColor",void 0);var w=i.ccclass,C=i.property;t("TraceColor",(f=w("TraceColor"),d=C(s),g=C(c),f((b=e((y=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"face",b,n(e)),o(e,"transform",m,n(e)),e.source=void 0,e.dest=void 0,e}r(e,t);var a=e.prototype;return a.start=function(){var t=this,e=this.dest.subtract(this.source),r=e.length()/this.transform.height*1.5,o=180*Math.atan2(e.y,e.x)/Math.PI-90;this.node.angle=o,this.node.setScale(1.5,.1),l(this.node).to(.5,{scale:new u(1.5,r,1)},{easing:"quintOut"}).start();var n=this.face,a=new h(255,255,255,255);l(a).to(1,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(t){n.color=t}}).call((function(){t.node.removeFromParent()})).start()},a.setPos=function(t,e){this.source=t,this.dest=e},a.update=function(t){},e}(p)).prototype,"face",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(y.prototype,"transform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/TraceExplode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./AudioMananger.ts","./GlobalData.ts","./UltimateManager.ts"],(function(e){var t,a,n,i,o,s,r,c,l,h,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Animation,c=e.randomRange,l=e.Component},function(e){h=e.UserData},function(e){u=e.AudioMananger},function(e){d=e.AudioIDs},function(e){p=e.UltimateManager}],execute:function(){var f,k,g,m,v;o._RF.push({},"f9146XKAY5N75GSdl3g6P1D","TraceExplode",void 0);var y=s.ccclass,x=s.property;e("TraceExplode",(f=y("TraceExplode"),k=x(r),f((v=t((m=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"animation",v,i(t)),t.shakeNode=void 0,t.shakePos=void 0,t.shakeCount=30,t}a(t,e);var o=t.prototype;return o.start=function(){u.instance.playEffect(d.STONE_BREAK);var e=h.instance.explodes*p.instance.explodes_ratio*1.5;this.node.setScale(e,e),this.animation.play("explode.animation")},o.setShake=function(e,t){this.shakeNode=e,this.shakePos=t.clone()},o.shaking=function(){if(this.shakeCount>0){var e=Math.min(1,h.instance.explodes*p.instance.explodes_ratio/5),t=c(-20*e,20*e),a=c(-20*e,20*e),n=c(-5*e,5*e);this.shakeNode.setPosition(this.shakePos.x+t,this.shakePos.y+a),this.shakeNode.angle=n,--this.shakeCount}else this.shakeNode.setPosition(this.shakePos),this.shakeNode.angle=0,this.node.removeFromParent()},o.update=function(e){this.shaking()},t}(l)).prototype,"animation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/TraceRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./AudioMananger.ts"],(function(e){var t,n,r,o,a,i,c,s,u,l,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.tween,u=e.Vec3,l=e.Color,p=e.Component},function(e){f=e.AudioIDs},function(e){d=e.AudioMananger}],execute:function(){var h,g,v,y,w;a._RF.push({},"06fb6MuiKtDfKJ1zpVNk3CF","TraceRow",void 0);var b=i.ccclass,R=i.property;e("TraceRow",(h=b("TraceRow"),g=R(c),h((w=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"face",w,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;d.instance.playEffect(f.ERASE_EFFCT),this.node.angle=90,this.node.setScale(1.5,.1),s(this.node).to(.5,{scale:new u(1.5,5,1)},{easing:"quintOut"}).start();var t=this.face,n=new l(255,255,255,255);s(n).to(.8,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(e){t.color=e}}).call((function(){e.node.removeFromParent()})).start()},a.update=function(e){},t}(p)).prototype,"face",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/Tutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./EventManager.ts","./AudioMananger.ts","./UserData.ts"],(function(t){var e,i,o,n,a,l,s,r,c,h,_,u,p,E,T,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){l=t.cclegacy,s=t._decorator,r=t.Animation,c=t.Node,h=t.log,_=t.Component},function(t){u=t.TutorialSteps,p=t.AudioIDs},function(t){E=t.EventManager},function(t){T=t.AudioMananger},function(t){m=t.UserData}],execute:function(){var O,I,R,N,L,S,d,g,f,A,y;l._RF.push({},"15c35UmLGNLuZzB2XdQrTeQ","Tutorial",void 0);var B=s.ccclass,P=s.property;t("Tutorial",(O=B("Tutorial"),I=P(r),R=P(c),N=P(c),L=P(c),O((g=e((d=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,o(e,"animation",g,n(e)),o(e,"background",f,n(e)),o(e,"content",A,n(e)),o(e,"exitBtn",y,n(e)),e._list=[],e._complete=[],e.curtStep=-1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){0==this._complete.length&&(h("Tutorital load completed..."),this._complete[u.ICE_TILE]=!1,this._complete[u.STONE_TILE]=!1,this._complete[u.INTRO_PLAY]=!1,this._complete[u.INTRO_NEW_LINE]=!1,this._complete[u.INTRO_GAME_OVER]=!1,this._complete[u.ERASE_COLS]=!1,this._complete[u.ERASE_ROWS]=!1,this._complete[u.BOMB]=!1,this._complete[u.SAME_COLOR]=!1,this._complete[u.INTRO_ULTIMATE]=!1)},l.start=function(){this._list[u.ICE_TILE]=this.content.getChildByPath("IceTile"),this._list[u.STONE_TILE]=this.content.getChildByPath("StoneTile"),this._list[u.INTRO_PLAY]=this.content.getChildByPath("IntroPlay"),this._list[u.INTRO_NEW_LINE]=this.content.getChildByPath("IntroNewLine"),this._list[u.INTRO_GAME_OVER]=this.content.getChildByPath("IntroGameOver"),this._list[u.ERASE_COLS]=this.content.getChildByPath("EraseColPowerup"),this._list[u.ERASE_ROWS]=this.content.getChildByPath("EraseRowPowerup"),this._list[u.BOMB]=this.content.getChildByPath("BombPowerup"),this._list[u.SAME_COLOR]=this.content.getChildByPath("SameColorPowerup"),this._list[u.INTRO_ULTIMATE]=this.content.getChildByPath("IntroUltimate"),this.exitBtn.on(E.BASE_BUTTON_TOUCH_END,this._onExitTutorial,this),E.instance.on(E.SHOW_TUTORIAL,this._onShowTutorial,this)},l.setCompleted=function(t){h("set completed..."),this._complete=t},l._onShowTutorial=function(t){if(this._checkStep(t)){this.curtStep=t,T.instance.playEffect(p.POPUP),this.background.active=!0,this.exitBtn.active=!0;for(var e,i=a(this._list);!(e=i()).done;){e.value.active=!1}this._list[t].active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")}},l._checkStep=function(t){return!this._complete[t]&&(!!(t!=u.ERASE_COLS&&t!=u.ERASE_ROWS&&t!=u.BOMB&&t!=u.SAME_COLOR&&t!=u.STONE_TILE&&t!=u.ICE_TILE||this._complete[u.INTRO_PLAY]&&this._complete[u.INTRO_NEW_LINE]&&this._complete[u.INTRO_ULTIMATE])&&(!(t==u.INTRO_NEW_LINE&&!this._complete[u.INTRO_PLAY])&&!!(t!=u.INTRO_ULTIMATE||this._complete[u.INTRO_PLAY]&&this._complete[u.INTRO_NEW_LINE])))},l.hide=function(){for(var t,e=a(this._list);!(t=e()).done;){t.value.active=!1}this.background.active=!1,this.exitBtn.active=!1},l._onExitTutorial=function(){this._complete[this.curtStep]=!0,console.log("UserData tutorials:",m.instance.tutorials),console.log("Tutorials Data:",this._complete),E.instance.emit(E.STORE_NETWORK_DATA,{tutorials:this._complete}),this.curtStep=-1,this.animation.play("popout_animation")},e}(_)).prototype,"animation",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(d.prototype,"background",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(d.prototype,"content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"exitBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=d))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/TypeProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts"],(function(e){var t,n,c,o;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,c=e.Color},function(e){o=e.TileType}],execute:function(){n._RF.push({},"e8e19QxfPBBWK/o7KpPXcUk","TypeProcessor",void 0),e("TypeProcessor",function(){function e(){this._list={}}return e.prototype.executeDot=function(e){switch(e.type){case o.STONE:e.setColor(c.BLACK)}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/TypeSteps.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d5a63o9B9MGLUgrbVX+nV1","TypeSteps",void 0);e("TypeSteps",function(){function e(){}return e.prototype.execute=function(e){},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TypeStone.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b3a8b9OPHhLvapEx3ItjMD3","TypeStone",void 0);t("TypeStone",function(){function t(){}return t.prototype.execute=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,l,a,s,c,u,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,a=t._decorator,s=t.CCInteger,c=t.Node,u=t.Sprite,b=t.Label,p=t.Component}],execute:function(){var h,f,y,g,m,B,L,d,v,w,z,k,S,T,C,_,G,U,A,D,I;l._RF.push({},"b91e059ELBHP6I7j/NES8Vg","Ultimate",void 0);var P=a.ccclass,j=a.property;t("Ultimate",(h=P("Ultimate"),f=j({type:s,step:1}),y=j({type:s,step:1}),g=j(c),m=j(c),B=j(u),L=j(c),d=j(c),v=j(c),w=j(b),h((S=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"id",S,r(e)),n(e,"type",T,r(e)),n(e,"clickArea",C,r(e)),n(e,"frame",_,r(e)),n(e,"icon",G,r(e)),n(e,"chooseBtn",U,r(e)),n(e,"btnBG1",A,r(e)),n(e,"btnBG2",D,r(e)),n(e,"buttonLB",I,r(e)),e.isLock=!1,e.isSelect=!1,e.isChoose=!1,e.brief="",e.detial="",e.unlockLabel="",e.cooldown=10,e._currentTiles=0,e.totalTiles=100,e}i(e,t);var l=e.prototype;return l.start=function(){},l.choose=function(){this.isChoose=!0,this.btnBG2.active=!0,this.buttonLB.string="当前选择"},l.unchoose=function(){this.isChoose=!1,this.btnBG2.active=!1,this.buttonLB.string="选择"},l.setLock=function(t){this.isLock=t,this.icon.grayscale=this.isLock,this.isLock?this.buttonLB.string="解锁":this.buttonLB.string="选择"},l.selected=function(){this.isSelect=!0,this.frame.active=this.isSelect},l.unselected=function(){this.isSelect=!1,this.frame.active=this.isSelect},l.update=function(t){},o(e,[{key:"currentTiles",get:function(){return this._currentTiles},set:function(t){this._currentTiles=t>this.totalTiles?this.totalTiles:t}}]),e}(p)).prototype,"id",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=e(k.prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(k.prototype,"clickArea",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(k.prototype,"frame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(k.prototype,"icon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(k.prototype,"chooseBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(k.prototype,"btnBG1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(k.prototype,"btnBG2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(k.prototype,"buttonLB",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=k))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,s,c,o,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){s=t.Ultimate},function(t){c=t.EventManager},function(t){o=t.UserData},function(t){a=t.RequestManager},function(t){r=t.RequestUpdateUserData}],execute:function(){var l;n._RF.push({},"9bfd4gFq7RHG5A6K+YXV1UG","Ultimate1",void 0);var u=i.ccclass;i.property,t("Ultimate1",u("Ultimate1")(l=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).brief="喵眼金睛",e.detial="同颜色消除道具效果翻倍\n首次授权登录解锁",e.unlockLabel="确定",e.cooldown=30,e.totalTiles=150,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(c.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(c.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){c.instance.emit(c.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),c.instance.emit(c.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&c.instance.on(c.ACHIEVEMENT_LOGIN,this.checkGet,this)},i.checkGet=function(){return!!o.instance.user_avatar&&(t.prototype.setLock.call(this,!1),c.instance.off(c.ACHIEVEMENT_LOGIN,this.checkGet,this),o.instance.addUnlockedUltimate(this.id),a.instance.request(r.REQUEST_NAME,{unlocked_ultimate:o.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,a,c,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){a=t.EventManager},function(t){c=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"1240a/5cjRLrKisdHBYyorH","Ultimate2",void 0);var f=i.ccclass;i.property,t("Ultimate2",f("Ultimate2")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="喵吼功",e.detial="炸弹消除道具效果翻倍\n通过关卡模式15关解锁",e.unlockLabel="确定",e.cooldown=20,e.totalTiles=220,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(a.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(a.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){a.instance.emit(a.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),a.instance.emit(a.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&a.instance.on(a.LEVEL_CHANGE,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.LEVEL&&c.instance.level>=16&&(a.instance.off(a.LEVEL_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),c.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:c.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,c,a,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){c=t.EventManager},function(t){a=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"ce3f09/1nVD9K9HMq9E+P5W","Ultimate3",void 0);var f=i.ccclass;i.property,t("Ultimate3",f("Ultimate3")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="猫咪翻滚",e.detial="竖排消除道具效果翻倍\n积分模式超过20000分解锁",e.unlockLabel="确定",e.cooldown=30,e.totalTiles=150,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(c.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(c.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){c.instance.emit(c.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),c.instance.emit(c.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&c.instance.on(c.SCORE_CHANGE,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.NORMAL&&a.instance.score>=2e4&&(c.instance.off(c.SCORE_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),a.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:a.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,a,c,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){a=t.EventManager},function(t){c=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"7edfafSGNRE35LolqU8T1wD","Ultimate4",void 0);var f=i.ccclass;i.property,t("Ultimate4",f("Ultimate4")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="金刚喵爪",e.detial="横排消除道具效果翻倍\n闯关模式通过40关解锁",e.unlockLabel="确定",e.cooldown=20,e.totalTiles=220,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(a.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(a.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){a.instance.emit(a.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),a.instance.emit(a.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&a.instance.on(a.ACHIEVEMENT_LOGIN,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.LEVEL&&c.instance.level>=41&&(a.instance.off(a.LEVEL_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),c.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:c.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./GlobalData.ts","./LevelManager.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,a,c,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){a=t.EventManager},function(t){c=t.UserData},function(t){s=t.GameMode},function(t){l=t.LevelManager},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"de214PjmklNWpygMKm/av1h","Ultimate5",void 0);var f=i.ccclass;i.property,t("Ultimate5",f("Ultimate5")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="天喵散花",e.detial="将若干个普通方块随机变成道具方块\n积分模式超过80000分解锁",e.unlockLabel="确定",e.cooldown=30,e.totalTiles=200,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(a.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(a.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){a.instance.emit(a.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),a.instance.emit(a.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&a.instance.on(a.SCORE_CHANGE,this.checkGet,this)},i.checkGet=function(){return l.instance.mode==s.NORMAL&&c.instance.score>=8e4&&(a.instance.off(a.SCORE_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),c.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:c.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestUpdateUserData.ts","./RequestManager.ts"],(function(t){var e,n,i,a,o,c,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.Ultimate},function(t){o=t.EventManager},function(t){c=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestUpdateUserData},function(t){u=t.RequestManager}],execute:function(){var h;n._RF.push({},"90e46ItJi9K96JJdY3taVPi","Ultimate6",void 0);var f=i.ccclass;i.property,t("Ultimate6",f("Ultimate6")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).brief="暖暖萌喵",e.detial="消除所有冰封方块\n闯关模式通过25关解锁",e.unlockLabel="确定",e.cooldown=30,e.totalTiles=150,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(o.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(o.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){o.instance.emit(o.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),o.instance.emit(o.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&o.instance.on(o.ACHIEVEMENT_LOGIN,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.LEVEL&&c.instance.level>=26&&(o.instance.off(o.LEVEL_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),c.instance.addUnlockedUltimate(this.id),u.instance.request(r.REQUEST_NAME,{unlocked_ultimate:c.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,c,a,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){c=t.EventManager},function(t){a=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"1cb08/0MZZEUIijlYC7Iy4d","Ultimate7",void 0);var f=i.ccclass;i.property,t("Ultimate7",f("Ultimate7")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="肥猫大坐",e.detial="消除所有石头方块\n积分模式超过60000分解锁",e.unlockLabel="确定",e.cooldown=20,e.totalTiles=150,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(c.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(c.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){c.instance.emit(c.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),c.instance.emit(c.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&c.instance.on(c.SCORE_CHANGE,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.NORMAL&&a.instance.score>=6e4&&(c.instance.off(c.SCORE_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),a.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:a.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./GlobalData.ts","./LevelManager.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,a,s,c,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){a=t.EventManager},function(t){s=t.UserData},function(t){c=t.GameMode},function(t){l=t.LevelManager},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"045faWs4f1PGZ1d9EjoSTH+","Ultimate8",void 0);var f=i.ccclass;i.property,t("Ultimate8",f("Ultimate8")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="唯我独喵",e.detial="减少一种方块的产生\n闯关模式通过50关解锁",e.unlockLabel="确定",e.cooldown=60,e.totalTiles=300,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(a.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(a.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){a.instance.emit(a.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),a.instance.emit(a.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&a.instance.on(a.ACHIEVEMENT_LOGIN,this.checkGet,this)},i.checkGet=function(){return l.instance.mode==c.LEVEL&&s.instance.level>=51&&(a.instance.off(a.LEVEL_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),s.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:s.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimate9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ultimate.ts","./EventManager.ts","./UserData.ts","./LevelManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(t){var e,n,i,o,c,a,s,l,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.Ultimate},function(t){c=t.EventManager},function(t){a=t.UserData},function(t){s=t.LevelManager},function(t){l=t.GameMode},function(t){r=t.RequestManager},function(t){u=t.RequestUpdateUserData}],execute:function(){var h;n._RF.push({},"89348+pCX1PBY9XwXcFVFv3","Ultimate9",void 0);var f=i.ccclass;i.property,t("Ultimate9",f("Ultimate9")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).brief="至尊喵",e.detial="不再产生冰封方块和石头方块, 并且每次消除后只新增一行\n积分模式超过100000分解锁",e.unlockLabel="确定",e.cooldown=60,e.totalTiles=300,e}e(n,t);var i=n.prototype;return i.start=function(){this.clickArea.on(c.BASE_BUTTON_TOUCH_END,this._onClickEnd,this),this.chooseBtn.on(c.BASE_BUTTON_TOUCH_END,this._onChooseBtnClick,this)},i._onChooseBtnClick=function(){c.instance.emit(c.ULTIMATE_CHOOSE_CLICK,this)},i._onClickEnd=function(){console.log("ultimate id:",this.id),c.instance.emit(c.ULTIMATE_CLICK,this)},i.setLock=function(e){t.prototype.setLock.call(this,e),this.isLock&&c.instance.on(c.SCORE_CHANGE,this.checkGet,this)},i.checkGet=function(){return s.instance.mode==l.NORMAL&&a.instance.score>=1e5&&(c.instance.off(c.SCORE_CHANGE,this.checkGet,this),t.prototype.setLock.call(this,!1),a.instance.addUnlockedUltimate(this.id),r.instance.request(u.REQUEST_NAME,{unlocked_ultimate:a.instance.unlocked_ultimate}),!0)},i.update=function(t){},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/UltimateDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){var i,n,e,o,l,a,r,c,u,s,p,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,c=t.Animation,u=t.Sprite,s=t.Label,p=t.Component},function(t){b=t.EventManager}],execute:function(){var f,h,m,g,y,_,B,v,T,U,d,k,z,C,D,E,L,w,x;l._RF.push({},"2ead0jCR4NGyreg6Kf2jM/c","UltimateDetail",void 0);var A=a.ccclass,I=a.property;t("UltimateDetail",(f=A("UltimateDetail"),h=I(r),m=I(c),g=I(u),y=I(s),_=I(s),B=I(r),v=I(r),T=I(s),f((k=i((d=function(t){function i(){for(var i,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,e(i,"content",k,o(i)),e(i,"animation",z,o(i)),e(i,"icon",C,o(i)),e(i,"title",D,o(i)),e(i,"intro",E,o(i)),e(i,"exitBtn",L,o(i)),e(i,"unlockBtn",w,o(i)),e(i,"buttonLabel",x,o(i)),i}n(i,t);var l=i.prototype;return l.start=function(){this.unlockBtn.on(b.BASE_BUTTON_TOUCH_END,this._onUnlockBtnClick,this),this.exitBtn.on(b.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this)},l._onUnlockBtnClick=function(){b.instance.emit(b.ULTIMATE_DETAIL_CLICK)},l._onExitBtnClick=function(){this.popout()},l.setIcon=function(t){this.icon.spriteFrame=t},l.setButtonLabel=function(t){this.buttonLabel.string=t},l.setIntro=function(t){this.intro.string=t},l.setTitle=function(t){this.title.string=t},l.popup=function(){this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},l.popout=function(){this.content.setScale(.5,.5),this.node.active=!1},l.update=function(t){},i}(p)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(d.prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(d.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(d.prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(d.prototype,"intro",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(d.prototype,"exitBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(d.prototype,"unlockBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(d.prototype,"buttonLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=d))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/UltimateIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./EventManager.ts","./UltimateManager.ts","./BreathNode.ts","./GlobalData.ts","./WXPlatformManager.ts"],(function(t){var e,n,i,a,r,o,c,l,s,u,h,p,b,f,m,_,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.SpriteFrame,l=t.Sprite,s=t.UITransform,u=t.Node,h=t.Component},function(t){p=t.UserData},function(t){b=t.EventManager},function(t){f=t.UltimateManager},function(t){m=t.BreathNode},function(t){_=t.RewardType},function(t){U=t.WXPlatformManager}],execute:function(){var I,d,g,T,y,A,B,v,S,E,C,k,w,H,z,M,N;r._RF.push({},"37f08rfXctNnZbmbq4WnyIs","UltimateIcon",void 0);var D=o.ccclass,L=o.property;t("UltimateIcon",(I=D("UltimateIcon"),d=L([c]),g=L(l),T=L(s),y=L(u),A=L(m),B=L(m),v=L(u),I((C=e((E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"icons",C,a(e)),i(e,"icon",k,a(e)),i(e,"iconTS",w,a(e)),i(e,"clickArea",H,a(e)),i(e,"breathIcon",z,a(e)),i(e,"adBtn",M,a(e)),i(e,"blocker",N,a(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.clickArea.on(b.BASE_BUTTON_TOUCH_END,this._onUltimateIconEnd,this),this.clickArea.on(b.BASE_BUTTON_TOUCH_START,this._onUltimateIconStart,this),this.clickArea.on(b.BASE_BUTTON_TOUCH_CANCEL,this._onUltimateIconCanel,this)},r._onUltimateIconEnd=function(){this.icon.grayscale?(b.instance.emit(b.ULTIMATE_ICON_AD_CLICK),this.blocker.active=!0,this.adBtn.stopHale(),p.instance.get_bonus=_.ULTIMATE_AD_USE,U.instance.showRewaredVideoAd()):b.instance.emit(b.ULTIMATE_USE)},r._onUltimateIconStart=function(){this.icon.grayscale||this.breathIcon.stopHale()},r._onUltimateIconCanel=function(){this.icon.grayscale||this.breathIcon.startHale()},r.checkAvailable=function(){this.icon.grayscale=!f.instance.checkCurrentAvailable(),this.blocker.active=!1,this.icon.grayscale?(this.adBtn.node.active=!0,this.adBtn.startHale(),this.breathIcon.stopHale()):(this.adBtn.node.active=!1,this.adBtn.stopHale(),this.breathIcon.startHale())},r.setIcon=function(){p.instance.current_ultimate&&(this.icon.spriteFrame=this.icons[p.instance.current_ultimate-1],this.iconTS.setContentSize(150,150))},r.update=function(t){},e}(h)).prototype,"icons",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(E.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(E.prototype,"iconTS",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(E.prototype,"clickArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(E.prototype,"breathIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(E.prototype,"adBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(E.prototype,"blocker",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=E))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/UltimateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts"],(function(t){var e,i,s,a,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy,a=t.instantiate},function(t){r=t.UserData}],execute:function(){s._RF.push({},"b2c623AqjtCaq6wklGEZl+0","UltimateManager",void 0),t("UltimateManager",function(){function t(){this.ultimates=null,this.map=null,this.total=[],this.isInUse=!1,this.same_colors_ratio=1,this.explodes_ratio=1,this.erase_cols_ratio=1,this.erase_rows_ratio=1,this.tile_color_types_reduce=0,this.new_line_reduce_ratio=1,this.stone_discount_ratio=1,this.limit_discount_ratio=1,this.double_score_ratio=1}var s=t.prototype;return s.initData=function(){this.isInUse=!1,this.same_colors_ratio=1,this.explodes_ratio=1,this.erase_cols_ratio=1,this.erase_rows_ratio=1,this.tile_color_types_reduce=0,this.new_line_reduce_ratio=1,this.stone_discount_ratio=1,this.limit_discount_ratio=1},s.initUltimates=function(){for(var t=0;t<this.ultimates.ultimates.length;++t){var e=a(this.ultimates.ultimates[t]).getComponent("Ultimate");r.instance.unlocked_ultimate.includes(e.id)?e.setLock(!1):e.setLock(!0),this.total.push(e)}},s.getCurrentUltimate=function(){for(var t,i=e(this.total);!(t=i()).done;){var s=t.value;if(s.id==r.instance.current_ultimate)return s}},s.checkCurrentAvailable=function(){if(this.isInUse)return!1;var e=t.instance.getCurrentUltimate();return!!e&&!(e.currentTiles<e.totalTiles)},s.ultimateStopUse=function(){switch(this.isInUse=!1,r.instance.current_ultimate){case 1:this.same_colors_ratio=1;break;case 2:this.explodes_ratio=1;break;case 3:this.erase_cols_ratio=1;break;case 4:this.erase_rows_ratio=1;break;case 8:this.tile_color_types_reduce=0;break;case 9:this.new_line_reduce_ratio=1,this.stone_discount_ratio=1,this.limit_discount_ratio=1}},s.ultimateUse=function(){switch(this.isInUse=!0,r.instance.current_ultimate){case 1:this.same_colors_ratio=2;break;case 2:this.explodes_ratio=2;break;case 3:this.erase_cols_ratio=2;break;case 4:this.erase_rows_ratio=2;break;case 5:this.map&&this.map.changeRandomTileToPowerup();break;case 6:this.map&&this.map.freeEveryIceTiles();break;case 7:this.map&&this.map.clearEveryStoneTiles();break;case 8:this.tile_color_types_reduce=1;break;case 9:this.new_line_reduce_ratio=0,this.stone_discount_ratio=0,this.limit_discount_ratio=0}},i(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/UltimatePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UltimateManager.ts","./EventManager.ts","./UltimateDetail.ts","./UserData.ts","./WXPlatformManager.ts"],(function(t){var i,e,n,r,a,l,o,s,c,u,h,p,f,m,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Animation,s=t.Node,c=t.Label,u=t.Component},function(t){h=t.UltimateManager},function(t){p=t.EventManager},function(t){f=t.UltimateDetail},function(t){m=t.UserData},function(t){_=t.WXPlatformManager}],execute:function(){var b,d,g,C,D,U,B,L,T,y,k,v,E,A,I,z,M;a._RF.push({},"3d69fiZlbRL1Z4oABVN5Bz2","UltimatePanel",void 0);var w=l.ccclass,O=l.property;t("UltimatePanel",(b=w("UltimatePanel"),d=O(o),g=O(s),C=O(s),D=O(c),U=O(s),B=O(s),L=O(f),b((k=i((y=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"animation",k,r(i)),n(i,"grids",v,r(i)),n(i,"content",E,r(i)),n(i,"brief",A,r(i)),n(i,"detailBtn",I,r(i)),n(i,"exitBtn",z,r(i)),n(i,"ultimateDetail",M,r(i)),i.current=void 0,i}e(i,t);var a=i.prototype;return a.start=function(){for(var t=0;t<h.instance.total.length;++t){var i=h.instance.total[t];this.grids.addChild(i.node),m.instance.current_ultimate==i.id?(i.choose(),this.current=i,this.current.selected(),this.brief.string=this.current.brief):!this.current&&i.isLock&&(this.current=i,this.current.selected(),this.brief.string=this.current.brief)}this.current||(this.current=h.instance.total[0],this.current.selected(),this.brief.string=this.current.brief),this.exitBtn.on(p.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this),this.detailBtn.on(p.BASE_BUTTON_TOUCH_END,this._onDetailBtnClick,this),p.instance.on(p.ULTIMATE_CLICK,this._onUltimateClick,this),p.instance.on(p.ULTIMATE_CHOOSE_CLICK,this._onUltimateChooseClick,this),p.instance.on(p.ULTIMATE_DETAIL_CLICK,this._onUltimateDetailClick,this)},a._onUltimateDetailClick=function(){this.current&&0==this.current.isLock&&this._setChooseItem(this.current),this.ultimateDetail.popout()},a._onUltimateClick=function(t){this.current&&this.current.unselected(),this.current=t,this.current.selected(),this.brief.string=this.current.brief},a._onUltimateChooseClick=function(t){t.isLock?(this._init_detail(t),this.ultimateDetail.popup()):this._setChooseItem(t)},a._unchooseAll=function(){for(var t=0;t<h.instance.total.length;++t){var i=h.instance.total[t];i.isLock||i.unchoose()}},a._setChooseItem=function(t){this._unchooseAll(),this.current.unselected(),this.current=t,this.current.selected(),this.brief.string=this.current.brief,t.choose(),m.instance.current_ultimate=t.id},a._init_detail=function(t){this.ultimateDetail.setIcon(t.icon.spriteFrame),this.ultimateDetail.setIntro(t.detial),this.ultimateDetail.setTitle(t.brief),t.isChoose?this.ultimateDetail.setButtonLabel("当前选择"):t.isLock?this.ultimateDetail.setButtonLabel("确定"):this.ultimateDetail.setButtonLabel("选择")},a._onExitBtnClick=function(){p.instance.emit(p.STORE_NETWORK_DATA,{current_ultimate:this.current.id}),this.popout()},a._onDetailBtnClick=function(){this.current&&(this._init_detail(this.current),this.ultimateDetail.popup())},a.popup=function(){_.instance.showInterstitialAd(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1},a.update=function(t){},i}(u)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(y.prototype,"grids",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(y.prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(y.prototype,"brief",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(y.prototype,"detailBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(y.prototype,"exitBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(y.prototype,"ultimateDetail",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=y))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ultimates.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,a,o,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Prefab,s=t.Component}],execute:function(){var l,u,p,f,m;a._RF.push({},"449a5ZfbNpIPqndduUzPVYS","Ultimates",void 0);var y=o.ccclass,d=o.property;t("Ultimates",(l=y("Ultimates"),u=d([c]),l((m=e((f=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"ultimates",m,n(e)),e}r(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){},e}(s)).prototype,"ultimates",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./RequestManager.ts","./RequestUpdateUserData.ts"],(function(e){var t,s,i,_,n,a;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy},function(e){i=e.EventManager},function(e){_=e.RewardType},function(e){n=e.RequestManager},function(e){a=e.RequestUpdateUserData}],execute:function(){s._RF.push({},"d669aQQT61C7JDs4AhngiQd","UserData",void 0),e("UserData",function(){function e(){this.user_name="",this.user_avatar="",this.open_id="",this.id="",this.current_ultimate=1,this.comleted_achieve=[],this.unlocked_ultimate=[],this.tutorials=[],this._score=0,this._progress=0,this._level=0,this.stone_discount=1,this.limit_discount=1,this.limit_step_discount=1,this.powerup_min=0,this.match_min=0,this.new_line_reduce=0,this.erase_rows=0,this.erase_cols=0,this.explodes=0,this.same_colors=0,this.reduce_init_row=0,this.skill_nums=2,this.is_music_on=!0,this.is_sound_on=!0,this._max_score=0,this._max_level=0,this._start_game_count=0,this._erase_tiles=0,this._extra_life=1,this.get_bonus=_.NONE,this.max_score_change=!1,console.log("UserData constructor"),i.instance.on(i.CHECK_USER_INFO_UPDATE,this._check_user_info,this)}var s=e.prototype;return s.addCompletedAchieve=function(e){this.comleted_achieve.includes(e)||this.comleted_achieve.push(e)},s.addUnlockedUltimate=function(e){this.unlocked_ultimate.includes(e)||(this.unlocked_ultimate.push(e),9==this.unlocked_ultimate.length&&i.instance.emit(i.UNLOCK_ALL_SKILLS))},s.set_user_info=function(e){e&&(this.user_name=e.user_name,this.user_avatar=e.user_avatar,this.open_id=e._openid,this.id=e._id,this.max_level=e.max_level,this.max_score=e.max_score,this.current_ultimate=e.current_ultimate,this.comleted_achieve=e.comleted_achieve,this.unlocked_ultimate=e.unlocked_ultimate,this.tutorials=e.tutorials)},s._check_user_info=function(e){this.check_user_info_update(e)},s.check_user_info_update=function(e){console.log("check_user_info_update:",e,"uname:",this.user_name);var t=e.nickName,s=e.avatarUrl,i=0;t!=this.user_name&&(this.user_name=t,i+=1),s!=this.user_avatar&&(this.user_avatar=s,i+=2),1==i?n.instance.request(a.REQUEST_NAME,{user_name:this.user_name}):2==i?n.instance.request(a.REQUEST_NAME,{user_avatar:this.user_avatar}):3==i&&n.instance.request(a.REQUEST_NAME,{user_name:this.user_name,user_avatar:this.user_avatar})},s.init_data=function(){this._score=0,this._level=0,this._progress=0,this.stone_discount=1,this.limit_discount=1,this.limit_step_discount=1,this.powerup_min=14,this.match_min=1,this.erase_rows=1,this.erase_cols=1,this.explodes=1,this.same_colors=5,this.new_line_reduce=0,this.reduce_init_row=0,this.extra_life=1},s.init_normal_data=function(){this._score=0,this._level=0,this._progress=0,this.stone_discount=1,this.limit_discount=1,this.limit_step_discount=1,this.powerup_min=4,this.match_min=1,this.erase_rows=4,this.erase_cols=4,this.explodes=3,this.same_colors=10,this.extra_life=1},t(e,[{key:"extra_life",get:function(){return this._extra_life},set:function(e){this._extra_life=e>0?e:0}},{key:"score",get:function(){return this._score},set:function(e){this._score=e,i.instance.emit(i.SCORE_CHANGE)}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e}},{key:"level",get:function(){return this._level},set:function(e){this._level=e,this._level>this._max_level&&(this.max_level=this._level,i.instance.emit(i.STORE_NETWORK_DATA,{max_level:this.max_level})),i.instance.emit(i.LEVEL_CHANGE)}},{key:"max_score",get:function(){return this._max_score},set:function(e){e>this._max_score&&(this._max_score=e)}},{key:"max_level",get:function(){return this._max_level},set:function(e){e>this._max_level&&(this._max_level=e)}},{key:"start_game_count",get:function(){return this._start_game_count},set:function(e){e>this._start_game_count&&(this._start_game_count=e)}},{key:"erase_tiles",get:function(){return this._erase_tiles},set:function(e){e>this._erase_tiles&&(this._erase_tiles=e)}}],[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/Warnning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts"],(function(n){var i,t,a,e,o,r,c,s,u,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,c=n.Animation,s=n.Component},function(n){u=n.AudioMananger},function(n){l=n.AudioIDs}],execute:function(){var p,f,h,d,g;o._RF.push({},"29336b9NahDbKgB+zO4obC3","Warnning",void 0);var y=r.ccclass,v=r.property;n("Warnning",(p=y("Warnning"),f=v(c),p((g=i((d=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=n.call.apply(n,[this].concat(o))||this,a(i,"animation",g,e(i)),i}t(i,n);var o=i.prototype;return o.start=function(){},o.show=function(){u.instance.playEffect(l.WARNNING),this.node.active||(this.node.active=!0,this.animation.play("warnning_animation"))},o.hide=function(){this.node.active=!1},o.update=function(n){},i}(s)).prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/WXPlatformManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserData.ts"],(function(i){var t,n,e,a,o;return{setters:[function(i){t=i.createClass},function(i){n=i.cclegacy,e=i.sys},function(i){a=i.EventManager},function(i){o=i.UserData}],execute:function(){n._RF.push({},"9b386vQh1pDoKl5Q+QmMsQC","WXPlatformManager",void 0),i("WXPlatformManager",function(){function i(){this.windowWidth=void 0,this.windowHeight=void 0,this.SDKVersion=void 0,this.bannerAd=void 0,this.bannerId="adunit-69ac21c1fbdca45e",this.bannerIntervals=30,this.bannerWidth=320,this.bannerHeight=100,this.rewardedVideoAd=void 0,this.rewardedVideoId="adunit-b3c30eb86a290f8a",this.interstitial_last=(new Date).getTime(),this.interstitialAd=void 0,this.interstitialId="adunit-a80138cdd49fcc80"}var n=i.prototype;return n.initInfo=function(){if("WECHAT_GAME"==e.platform){var i=window.wx.getSystemInfoSync();this.windowWidth=i.windowWidth,this.windowHeight=i.windowHeight,this.SDKVersion=i.SDKVersion}},n.shareInitiative=function(){"WECHAT_GAME"==e.platform&&(window.wx.showShareMenu({withShareTicket:!1,menus:["shareAppMessage","shareTimeline"],success:function(i){console.log("开启被动转发成功")},fail:function(i){console.log("开启被动转发失败")}}),window.wx.onShareAppMessage((function(){return{title:o.instance.user_name+" 推荐这个游戏: 登录就能获得可爱小猫咪成就, 快来一起玩吧!",imageUrlId:"WnvPXuCWRp2Uv7k8Bt6PiA==",imageUrl:"https://mmocgame.qpic.cn/wechatgame/EfEK2zWQLuqmltQ4kzNM7Yicia3WvUBW6yjIGickB8KtDIrFaUqZrqZqDgpM5iax2veX/0"}})),window.wx.onShareTimeline((function(){return{title:o.instance.user_name+" 推荐这个游戏: 这个游戏超解压!超好玩! 快来一起玩吧!",imageUrlId:"/HvY3ufEQYaaSdriiHn0fQ==",imageUrl:"https://mmocgame.qpic.cn/wechatgame/vA2oy43jBfWziaGLL1xroKnWia9UcDm2cLXicMyKcakxLFHh5d8GKwkpNic92rplOI48/0"}})))},n.activeShare=function(i){"WECHAT_GAME"==e.platform&&window.wx.shareAppMessage({title:i})},n.createBannerAd=function(){var i=this;"WECHAT_GAME"==e.platform&&(this.bannerAd&&this.bannerAd.destroy(),this.bannerAd=window.wx.createBannerAd({adUnitId:this.bannerId,adIntervals:this.bannerIntervals,style:{left:.5*(this.windowWidth-this.bannerWidth),top:this.windowHeight-this.bannerHeight,width:this.bannerWidth}}),this.bannerAd.onLoad((function(){console.log("Banner 广告加载成功"),a.instance.emit(a.BANNER_AD_LOAD_SUCCESS)})),this.bannerAd.onError((function(i){console.log("Banner 广告加载失败",i),a.instance.emit(a.BANNER_AD_LOAD_FAIL)})),this.bannerAd.onResize((function(t){i.bannerAd.style.top=i.windowHeight-i.bannerAd.style.realHeight,i.bannerAd.style.left=.5*(i.windowWidth-i.bannerAd.style.realWidth)})))},n.showBannerAd=function(){this.bannerAd&&this.bannerAd.show()},n.hideBannerAd=function(){this.bannerAd&&this.bannerAd.hide()},n.createRewaredVideoAd=function(){"WECHAT_GAME"==e.platform&&(this.rewardedVideoAd=window.wx.createRewardedVideoAd({adUnitId:this.rewardedVideoId}),this.rewardedVideoAd.onLoad((function(){console.log("激励视频侦听 广告加载成功"),a.instance.emit(a.REWARD_AD_LOAD_SUCCESS)})),this.rewardedVideoAd.onError((function(i){console.log("激励视频 错误:",i),a.instance.emit(a.REWARD_AD_LOAD_FAIL)})),this.rewardedVideoAd.onClose((function(i){i&&i.isEnded||void 0===i?a.instance.emit(a.REWARD_SUCCESS):a.instance.emit(a.REWARD_FAIL)})),this.rewardedVideoAd.load())},n.showRewaredVideoAd=function(){var i=this;this.rewardedVideoAd&&this.rewardedVideoAd.show().then((function(){console.log("激励广告显示")})).catch((function(t){i.rewardedVideoAd.load(),a.instance.emit(a.REWARD_FAIL),console.log("激励广告显示错误",t)}))},n.hideRewaredVideoAd=function(){this.rewardedVideoAd&&this.rewardedVideoAd.hide()},n.createInterstitialAd=function(){"WECHAT_GAME"==e.platform&&(this.interstitialAd&&this.interstitialAd.destroy(),this.interstitialAd=window.wx.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onLoad((function(){console.log("插屏广告加载成功"),a.instance.emit(a.INTERSTITIAL_AD_LOAD_SUCCESS)})),this.interstitialAd.onError((function(i){console.log("插屏广告 错误:",i),a.instance.emit(a.INTERSTITIAL_AD_LOAD_FAIL)})),this.interstitialAd.onClose((function(i){console.log("插屏 广告关闭")})),this.interstitialAd.load())},n.showInterstitialAd=function(){var i=this;if(this.interstitialAd){var t=(new Date).getTime(),n=t-this.interstitial_last;if(console.log("间隔为..",n),n<2e4)return;this.interstitial_last=t,this.interstitialAd.show().then((function(){console.log("插屏广告显示")})).catch((function(t){i.interstitialAd.load(),console.log("插屏广告显示错误",t)}))}},t(i,null,[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}())._instance=null,n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});