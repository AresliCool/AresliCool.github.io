System.register("chunks:///_virtual/AudioMananger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){var t,s,e,i;return{setters:[function(n){t=n.createClass},function(n){s=n.cclegacy,e=n.log},function(n){i=n.EventManager}],execute:function(){s._RF.push({},"08fab0wjiBK+LywDp2nY/uS","AudioMananger",void 0),n("AudioMananger",function(){function n(){this.sounds=null,this._enableMusic=!0,this._enableEffect=!0,e("Audio init..."),i.instance.on(i.ENABLE_BACKGROUND_MUSIC,this._onEnableBackgroundMusic,this),i.instance.on(i.ENABLE_EFFECT_SOUND,this._onEnableEffectSound,this)}var s=n.prototype;return s._onEnableBackgroundMusic=function(n){this._enableMusic=n,n?this.sounds.backgroundAudio.play():this.sounds.backgroundAudio.stop()},s._onEnableEffectSound=function(n){this._enableEffect=n,n||this.sounds.effectAudio.stop()},s.playBackground=function(n,t){void 0===t&&(t=!0),this.sounds&&this._enableMusic&&this.sounds.playMusic(n,t)},s.playEffect=function(n){this.sounds&&this._enableEffect&&this.sounds.playEffect(n)},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/CatPow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,a,s,c,l,p,u,d,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Sprite,c=t.Color,l=t.Tween,p=t.randomRangeInt,u=t.tween,d=t.random,h=t.Component}],execute:function(){var w,f,g,_,y;i._RF.push({},"f818cCogohJCb96OoI1sHX+","CatPow",void 0);var v=a.ccclass,C=a.property;t("CatPow",(w=v("CatPow"),f=C(s),w((y=o((_=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o=t.call.apply(t,[this].concat(i))||this,n(o,"pow",y,r(o)),o._dest=void 0,o._origi=new c(255,255,255,0),o._colors=[new c("#FF63E6"),new c("#4B8CFF"),new c("##4ADDDD")],o}e(o,t);var i=o.prototype;return i.start=function(){},i.dance=function(t,o){var e=this;l.stopAllByTarget(this._dest);var n=this.pow,r=this._colors[p(0,this._colors.length)];this._dest=n.color.clone(),u(this._dest).to(t,{r:r.r,g:r.g,b:r.b,a:r.a},{easing:"linear",onUpdate:function(t){n.color=t}}).call((function(){d()<o?e.dance(t,o):e.pow.color=e._origi})).start()},i.stopTween=function(){l.stopAllByTarget(this._dest)},i.update=function(t){},o}(h)).prototype,"pow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ColorProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./ResourceManager.ts"],(function(t){var e,s,i,n,l;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,i=t.Color},function(t){n=t.TileColorTypes},function(t){l=t.ResourceManager}],execute:function(){s._RF.push({},"353e9wqvT9FVIbu685FhHca","ColorProcessor",void 0),t("ColorProcessor",function(){function t(){this._tile_list={},this._dot_list={},this._tile_list[n.BLACK]=l.instance.getAsset("textures/obs_stone/texture"),this._tile_list[n.RED]=l.instance.getAsset("textures/tile_red/texture"),this._tile_list[n.YELLOW]=l.instance.getAsset("textures/tile_yellow/texture"),this._tile_list[n.BLUE]=l.instance.getAsset("textures/tile_blue/texture"),this._tile_list[n.GREEN]=l.instance.getAsset("textures/tile_green/texture"),this._tile_list[n.PURPLE]=l.instance.getAsset("textures/tile_purple/texture"),this._tile_list[n.ORANGE]=l.instance.getAsset("textures/tile_orange/texture"),this._dot_list[n.BLACK]=new i("949297"),this._dot_list[n.RED]=new i("f42a65"),this._dot_list[n.YELLOW]=new i("fbf74c"),this._dot_list[n.BLUE]=new i("42a6fe"),this._dot_list[n.GREEN]=new i("85eb48"),this._dot_list[n.PURPLE]=new i("a91ffc"),this._dot_list[n.ORANGE]=new i("ff8022")}var s=t.prototype;return s.execute=function(t){t.setFace(this._tile_list[t.colorType])},s.executeDot=function(t){t.setColor(this._dot_list[t.colorType])},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,o,s,n,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,a=t.UITransform,l=t.Label,u=t.Component}],execute:function(){var c,h,p,g,f,b,L;s._RF.push({},"5be7fD2fFxDwLhDOO1RLvbe","CustomProgress",void 0);var v=n.ccclass,m=n.property;t("CustomProgress",(c=v("CustomProgress"),h=m(a),p=m(l),c((b=e((f=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,i(e,"bar",b,o(e)),i(e,"progressLB",L,o(e)),e.totalLen=void 0,e.totalHeight=void 0,e}r(e,t);var s=e.prototype;return s.start=function(){this.totalLen=490,this.totalHeight=33},s.setValue=function(t,e){if(0!=e){var r=Math.min(t/e,1);this.bar.setContentSize(r*this.totalLen,this.totalHeight),this.progressLB.string=t+"/"+e}else this.progressLB.string="0"},s.setPercent=function(t,e){t>e&&(t=e);var r=Math.min(t/e,1);this.bar.setContentSize(r*this.totalLen,this.totalHeight),this.progressLB.string=Math.floor(100*r)+"%"},s.update=function(t){},e}(u)).prototype,"bar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(f.prototype,"progressLB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/DancePows.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts"],(function(n){var t,o,c,a,s,e,i,r,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,c=n._decorator,a=n.log,s=n.randomRangeInt,e=n.Component},function(n){i=n.EventManager},function(n){r=n.AudioMananger},function(n){u=n.AudioIDs}],execute:function(){var l;o._RF.push({},"c8503nOcUVKkofZU5xn3ALo","DancePows",void 0);var h=c.ccclass;c.property,n("DancePows",h("DancePows")(l=function(n){function o(){for(var t,o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(t=n.call.apply(n,[this].concat(c))||this).count=0,t.coolDown=1,t.pows=[],t}t(o,n);var c=o.prototype;return c.start=function(){var n=this;this.node.children.forEach((function(t){var o=t.getComponent("CatPow");n.pows.push(o)})),i.instance.on(i.DANCE_COUNT,this._onDanceCount,this)},c._onDanceCount=function(n){this.count+=n,0==n&&(this.count=0),a("Dance:",this.count),this.count>40?(r.instance.playEffect(u.CLAP),this.allStart(.1,.99)):this.count>30?(r.instance.playEffect(u.EXCELLENT),this.allStart(.2,.95)):this.count>20?(r.instance.playEffect(u.GREAT),this.allStart(.3,.92)):this.count>10&&(r.instance.playEffect(u.GOOD),this.allStart(.5,.9))},c.allStart=function(n,t){this.pows.forEach((function(o){o.dance(n,t)}))},c.randomOne=function(n,t){var o=s(0,this.pows.length);this.pows[o].dance(n,t)},c.stopAllTween=function(){this.pows.forEach((function(n){n.stopTween()}))},c.update=function(n){this.coolDown<0?(this.coolDown=2,this.randomOne(2,.9)):this.coolDown-=n},o}(e))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DesireButtonBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts"],(function(t){var e,i,n,o,a,r,s,c,l,h,u,_,f,T,g,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.CCFloat,l=t.Vec3,h=t.Vec2,u=t.NodeEventType,_=t.log,f=t.tween,T=t.Component},function(t){g=t.EventManager},function(t){d=t.AudioMananger},function(t){p=t.AudioIDs}],execute:function(){var C,y,D,S,E,B,A,m,O;a._RF.push({},"77cc0XlqTdPILW7hWIpPVQ3","DesireButtonBase",void 0);var U=r.ccclass,b=r.property;t("DesireButtonBase",(C=U("DesireButtonBase"),y=b(s),D=b({type:c}),S=b({type:c}),C((A=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"target",A,o(e)),n(e,"magnify",m,o(e)),n(e,"duration",O,o(e)),e._originalScale=new l,e._scaleDir=new h(1,1),e}i(e,t);var a=e.prototype;return a.start=function(){this.node.on(u.TOUCH_START,this._onTouchStart,this),this.node.on(u.TOUCH_END,this._onTouchEnd,this),this.node.on(u.TOUCH_CANCEL,this._onTouchCancel,this),this.target.getScale().x<0&&(this._scaleDir.x=-1),this.target.getScale(this._originalScale)},a.onDestroy=function(){this.node.off(u.TOUCH_START,this._onTouchStart,this),this.node.off(u.TOUCH_END,this._onTouchEnd,this),this.node.off(u.TOUCH_CANCEL,this._onTouchCancel,this)},a._onTouchStart=function(t){_("touch start..."),d.instance.playEffect(p.CLICK),f(this.target).to(this.duration,{scale:new l(this.magnify*this._scaleDir.x,this.magnify,1)}).start(),this.node.emit(g.BASE_BUTTON_TOUCH_START)},a._onTouchEnd=function(t){_("touch end..."),f(this.target).to(this.duration,{scale:new l(this._originalScale.x*this._scaleDir.x,this._originalScale.y,1)}).start(),this.node.emit(g.BASE_BUTTON_TOUCH_END)},a._onTouchCancel=function(t){_("touch cancel..."),f(this.target).to(this.duration,{scale:new l(this._originalScale.x*this._scaleDir.x,this._originalScale.y,1)}).start(),this.node.emit(g.BASE_BUTTON_TOUCH_CANCEL)},e}(T)).prototype,"target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(B.prototype,"magnify",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),O=e(B.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),E=B))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./DotStateNormal.ts","./DotStateEnter.ts","./GlobalData.ts"],(function(t){var e,i,n,o,a,s,c,r,l,u,h,f,p,D,_,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.Sprite,r=t.Animation,l=t.Node,u=t.NodeEventType,h=t.log,f=t.Component},function(t){p=t.StateMachine},function(t){D=t.DotStateNormal},function(t){_=t.DotStateEnter},function(t){b=t.GlobalData}],execute:function(){var d,y,S,m,M,T,v,g,k;a._RF.push({},"fe607DtkS1PTIUi3b0kX1Mo","Dot",void 0);var C=s.ccclass,w=s.property;t("Dot",(d=C("Dot"),y=w(c),S=w(r),m=w(l),d((v=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"face",v,o(e)),n(e,"animation",g,o(e)),n(e,"content",k,o(e)),e.type=0,e.colorType=0,e.col=0,e.steps=0,e._stateMachine=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){},a.preload=function(){this._stateMachine=new p(this),this._stateMachine.states[D.stateName]=new D(this._stateMachine),this._stateMachine.states[_.stateName]=new _(this._stateMachine)},a.changeState=function(t){var e=this._stateMachine.states[t];this._stateMachine.setState(e)},a.setClickable=function(t){t?this.face.node.on(u.TOUCH_START,this.onDotClick,this):this.face.node.off(u.TOUCH_START,this.onDotClick,this)},a.setPos=function(){this.node.setPosition(this.col*b.TILE_WIDTH,0)},a.setColor=function(t){this.face.color=t},a.onDotClick=function(){h("Dot clicked...")},a.update=function(t){},e}(f)).prototype,"face",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(T.prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(T.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=T))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dots.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorProcessor.ts","./DotStateEnter.ts","./GlobalData.ts","./LevelManager.ts"],(function(t){var e,n,o,i,a,r,s,c,l,p,u,f,h,y,D,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.instantiate,l=t.randomRange,p=t.randomRangeInt,u=t.Component},function(t){f=t.ColorProcessor},function(t){h=t.DotStateEnter},function(t){y=t.GlobalData,D=t.TileType,d=t.TileColorTypes},function(t){m=t.LevelManager}],execute:function(){var g,v,_,b,P;a._RF.push({},"11fd0DPQl9Ira4AXt9EfV9b","Dots",void 0);var C=r.ccclass,L=r.property;t("Dots",(g=C("Dots"),v=L(s),g((P=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"DotPrefab",P,i(e)),e.list=[],e}n(e,t);var a=e.prototype;return a.start=function(){},a.clearList=function(){for(;this.list.length>0;){this.list.pop().node.removeFromParent()}},a.createDots=function(){this.clearList();for(var t=0;t<y.COLS;++t){var e=c(this.DotPrefab).getComponent("Dot");if(e.preload(),this.node.addChild(e.node),e.node.setScale(0,0),e.col=t,e.setPos(),m.instance.stone_chance>0)l(0,1)<m.instance.stone_chance&&(e.type=1);if(0==e.type)if(m.instance.limit_chance>0)l(0,1)<m.instance.limit_chance&&(e.type=2,e.steps=p(m.instance.min_limit,m.instance.max_limit+1));e.type==D.STONE?e.colorType=d.BLACK:e.colorType=p(1,m.instance.tile_color_types+1),f.instance.executeDot(e),this.list.push(e),e.changeState(h.stateName)}},a.update=function(t){},e}(u)).prototype,"DotPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=b))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"20a7c23W9BL7LKNVzIRYE9n","DotStateEnter",void 0),t("DotStateEnter",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){var t=this;this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){t._owner.animation.play("dot_enter_animation")}),.2)},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateEnter",n._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"674f8yVcg1Dh4Qtgx6v2d77","DotStateNormal",void 0),t("DotStateNormal",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(E){var _,T,L;return{setters:[function(E){_=E.createClass},function(E){T=E.cclegacy,L=E.EventTarget}],execute:function(){T._RF.push({},"ade77tgTfxD97CQiyRrnk2X","EventManager",void 0);var A=E("EventManager",function(){function E(){this.on=void 0,this.off=void 0,this.emit=void 0,this._event=void 0,this._event=new L,this.on=this._event.on.bind(this._event),this.off=this._event.off.bind(this._event),this.emit=this._event.emit.bind(this._event)}return _(E,null,[{key:"instance",get:function(){return E._instance||(E._instance=new E),E._instance}}]),E}());A._instance=null,A.TILE_ENTERED="TILE_ENTERED",A.TILE_DEAD="TILE_DEAD",A.TILES_ALL_DEAD="TILES_ALL_DEAD",A.TILE_CLICK="TILE_CLICK",A.TILE_REMOVED="TILE_REMOVED",A.TILE_MOVE_TO_DEST="TILE_MOVE_TO_DEST",A.ALL_TILE_TO_DEST="ALL_TILE_TO_DEST",A.EXECUTE_POWERUP="EXECUTE_POWERUP",A.NEW_LINE_END="NEW_LINE_END",A.GAME_REPLAY="GAME_REPLAY",A.SCORE_CHANGE="SCORE_CHANGE",A.PROGRESS_CHANGE="PROGRESS_CHANGE",A.LEVEL_CHANGE="LEVEL_CHANGE",A.SHOW_SKILL="SHOW_SKILL",A.NEXT_LEVEL="NEXT_LEVEL",A.SKILL_UPGRADE="SKILL_UPGRADE",A.TILE_NORMAL_REMOVE="TILE_NORMAL_REMOVE",A.SAME_COLOR_EFFECT="SAME_COLOR_EFFECT",A.SNOW_EFFECT="SNOW_EFFECT",A.BASE_BUTTON_TOUCH_START="BASE_BUTTON_TOUCH_START",A.BASE_BUTTON_TOUCH_END="BASE_BUTTON_TOUCH_END",A.BASE_BUTTON_TOUCH_CANCEL="BASE_BUTTON_TOUCH_CANCEL",A.ENABLE_BACKGROUND_MUSIC="ENABLE_BACKGROUND_MUSIC",A.ENABLE_EFFECT_SOUND="ENABLE_EFFECT_SOUND",A.SHOW_TUTORIAL="SHOW_TUTORIAL",A.DANCE_COUNT="DANCE_COUNT",A.SHOW_WARNNING="SHOW_WARNNING",A.START_MATCH="START_MATCH",A.POWERUP_CREATED="POWERUP_CREATED",A.STONE_CREATED="STONE_CREATED",A.ICE_CREATED="ICE_CREATED",A.NEWLINE_MULTI_ADD="NEWLINE_MULTI_ADD",A.REMOVE_SKILL="REMOVE_SKILL",A.RETURN_TO_MENU="RETURN_TO_MENU",T._RF.pop()}}}));

System.register("chunks:///_virtual/ExplodeParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./ResourceManager.ts","./AudioMananger.ts"],(function(e){var t,r,a,n,s,i,c,o,l,u,p,g,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,i=e._decorator,c=e.ParticleSystem2D,o=e.SpriteFrame,l=e.Component},function(e){u=e.AudioIDs,p=e.TileColorTypes},function(e){g=e.ResourceManager},function(e){x=e.AudioMananger}],execute:function(){var f,_,d,y,A;s._RF.push({},"16c4blJoNNKSq6NZ5jCRXO7","ExplodeParticle",void 0);var b=i.ccclass,E=i.property;e("ExplodeParticle",(f=b("ExplodeParticle"),_=E(c),f((A=t((y=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,a(t,"particle",A,n(t)),t}r(t,e);var s=t.prototype;return s.start=function(){x.instance.playEffect(u.BREAK)},s.setFace=function(e){var t=this.getFace(e),r=new o;r.texture=t,this.particle.spriteFrame=r},s.getFace=function(e){var t;switch(e.colorType){case p.BLACK:t=g.instance.getAsset("textures/stone3/texture");break;case p.RED:t=g.instance.getAsset("textures/power_tile_red/texture");break;case p.YELLOW:t=g.instance.getAsset("textures/power_tile_yellow/texture");break;case p.BLUE:t=g.instance.getAsset("textures/power_tile_blue/texture");break;case p.GREEN:t=g.instance.getAsset("textures/power_tile_green/texture");break;case p.PURPLE:t=g.instance.getAsset("textures/power_tile_red/texture");break;case p.ORANGE:t=g.instance.getAsset("textures/power_tile_orange/texture")}return t},s.update=function(e){},t}(l)).prototype,"particle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLevelPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dots.ts","./Map.ts","./EventManager.ts","./LevelManager.ts","./GameOver.ts","./UserData.ts","./SkillBoard.ts","./GlobalData.ts","./CustomProgress.ts","./AudioMananger.ts","./StorageDataManager.ts","./ResourceManager.ts","./GameWin.ts","./Warnning.ts","./Settings.ts","./DancePows.ts"],(function(e){var t,n,i,o,a,s,r,l,c,u,h,p,d,f,g,_,b,m,w,E,T,v,P,L,C,S,y,k,D,R,W,B,M,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,u=e.Prefab,h=e.instantiate,p=e.Tween,d=e.director,f=e.log,g=e.Component},function(e){_=e.Dots},function(e){b=e.Map},function(e){m=e.EventManager},function(e){w=e.LevelManager},function(e){E=e.GameOver},function(e){T=e.UserData},function(e){v=e.SkillBoard},function(e){P=e.AudioIDs,L=e.TilePowerupTypes,C=e.GlobalData,S=e.TutorialSteps},function(e){y=e.CustomProgress},function(e){k=e.AudioMananger},function(e){D=e.StorageDataManager},function(e){R=e.ResourceManager},function(e){W=e.GameWin},function(e){B=e.Warnning},function(e){M=e.Settings},function(e){O=e.DancePows}],execute:function(){var N,A,z,x,I,G,H,U,F,V,X,K,j,q,Y,J,Q,Z,$,ee,te,ne,ie,oe,ae,se,re,le,ce,ue,he,pe,de,fe,ge,_e,be,me,we,Ee,Te,ve,Pe,Le,Ce;s._RF.push({},"1092bdGUhBET4cHxioqvc4F","GameLevelPlay",void 0);var Se=r.ccclass,ye=r.property;e("GameLevelPlay",(N=Se("GameLevelPlay"),A=ye(l),z=ye(B),x=ye(c),I=ye(O),G=ye(y),H=ye(c),U=ye(b),F=ye(l),V=ye(u),X=ye(u),K=ye(u),j=ye(u),q=ye(u),Y=ye(u),J=ye(_),Q=ye(E),Z=ye(W),$=ye(v),ee=ye(l),te=ye(M),ne=ye(l),N((ae=t((oe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"blocker",ae,o(t)),i(t,"warnning",se,o(t)),i(t,"scoreLB",re,o(t)),i(t,"dancePows",le,o(t)),i(t,"progress",ce,o(t)),i(t,"levelLB",ue,o(t)),i(t,"map",he,o(t)),i(t,"effects",pe,o(t)),i(t,"ExplodePrefab",de,o(t)),i(t,"SnowPrefab",fe,o(t)),i(t,"TracePrefab",ge,o(t)),i(t,"TraceRowPrefab",_e,o(t)),i(t,"TraceColorPrefab",be,o(t)),i(t,"TraceExplodePrefab",me,o(t)),i(t,"dots",we,o(t)),i(t,"gameOver",Ee,o(t)),i(t,"gameWin",Te,o(t)),i(t,"skillBoard",ve,o(t)),i(t,"settingsBtn",Pe,o(t)),i(t,"settings",Le,o(t)),i(t,"tutorials",Ce,o(t)),t.newLines=0,t}n(t,e);var s=t.prototype;return s.start=function(){k.instance.playBackground(P.MUSIC),this.settingsBtn.on(m.BASE_BUTTON_TOUCH_END,this._onSettingsBtnClick,this),m.instance.on(m.TILE_CLICK,this._onTileClick,this),m.instance.on(m.ALL_TILE_TO_DEST,this._onAllTileToDest,this),m.instance.on(m.NEW_LINE_END,this._onNewLineEnd,this),m.instance.on(m.GAME_REPLAY,this._onReplay,this),m.instance.on(m.LEVEL_CHANGE,this._onLevelChange,this),m.instance.on(m.PROGRESS_CHANGE,this._onProgressChange,this),m.instance.on(m.SCORE_CHANGE,this._onScoreChange,this),m.instance.on(m.SHOW_SKILL,this._onShowSkill,this),m.instance.on(m.NEXT_LEVEL,this._onNextLevel,this),m.instance.on(m.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),m.instance.on(m.EXECUTE_POWERUP,this._onExecutePowerup,this),m.instance.on(m.SAME_COLOR_EFFECT,this._onSameColorEffect,this),m.instance.on(m.SNOW_EFFECT,this._onSnowEffect,this),m.instance.on(m.TILES_ALL_DEAD,this._onTileAllDead,this),m.instance.on(m.SHOW_WARNNING,this._onShowWarnnig,this),m.instance.on(m.RETURN_TO_MENU,this._onReturnToMenu,this),w.instance.isRestart?(this.skillBoard.init_new(),w.instance.level_id=0,T.instance.init_data(),++T.instance.start_game_count):D.instance.restoreProgress(this.skillBoard),this.skillBoard.preload(),this.initData(),this.blocker.active=!1,this._checkNeedTutorial(),this.dancePows.node.active=!0},s._onShowWarnnig=function(e){e?this.warnning.show():this.warnning.hide()},s._checkNeedTutorial=function(){for(var e,t=D.instance.getData("tutorials"),n=!1,i=a(t);!(e=i()).done;){if(!e.value){n=!0;break}}if(n){var o=R.instance.getAsset("solo/Tutorial"),s=h(o);s.getComponent("Tutorial").setCompleted(t),this.tutorials.addChild(s)}},s._onReturnToMenu=function(){p.stopAll(),this.dancePows.stopAllTween(),this.dancePows.node.active=!1,d.loadScene("GameMenu")},s._onSettingsBtnClick=function(){this.settings.popup()},s.initData=function(){f("game level play init data..."),k.instance.playBackground(P.MUSIC,!0),w.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance(),this.scoreLB.string=T.instance.score.toString(),this.progress.setValue(T.instance.progress,w.instance.total_score)},s._onExecutePowerup=function(e){switch(f("_onExecutePowerup "+e.powerupType),e.powerupType){case L.ERASE_COLS:for(var t=e.col-Math.floor(T.instance.erase_cols/2),n=t+T.instance.erase_cols-1,i=e.node.getWorldPosition(),o=i.clone(),a=Math.max(0,t);a<=Math.min(C.COLS-1,n);++a){var s=a-e.col;o.x=i.x+s*C.TILE_WIDTH;var r=h(this.TracePrefab).getComponent("Trace");this.effects.addChild(r.node),r.node.setWorldPosition(o)}break;case L.ERASE_ROWS:for(var l=e.row-Math.floor(T.instance.erase_rows/2),c=l+T.instance.erase_rows-1,u=e.node.getWorldPosition(),p=u.clone(),d=Math.max(l,0);d<=Math.min(C.ROWS-1,c);++d){var g=d-e.row;p.y=u.y+g*C.TILE_HEIGHT;var _=h(this.TraceRowPrefab).getComponent("TraceRow");this.effects.addChild(_.node),_.node.setWorldPosition(p)}break;case L.EXPLODE:var b=h(this.TraceExplodePrefab).getComponent("TraceExplode");this.effects.addChild(b.node),b.setShake(this.map.node),b.node.setWorldPosition(e.node.getWorldPosition())}},s._onSnowEffect=function(e){var t=h(this.SnowPrefab).getComponent("SnowParticle");this.effects.addChild(t.node),t.node.setWorldPosition(e)},s._onSameColorEffect=function(e,t){var n=h(this.TraceColorPrefab).getComponent("TraceColor");n.setPos(e,t),this.effects.addChild(n.node),n.node.setWorldPosition(e)},s._onTileNormalRemove=function(e){var t=h(this.ExplodePrefab).getComponent("ExplodeParticle");this.effects.addChild(t.node),t.setFace(e),t.node.setWorldPosition(e.node.getWorldPosition())},s._onShowSkill=function(){T.instance.progress=0,this.progress.setValue(T.instance.progress,w.instance.total_score),w.instance.level_id>1&&this.skillBoard.popup()},s._onProgressChange=function(){this.progress.setValue(T.instance.progress,w.instance.total_score)},s._onScoreChange=function(){this.scoreLB.string=""+T.instance.score},s._onLevelChange=function(){this.levelLB.string=""+T.instance.level},s._onReplay=function(){w.instance.level_id=0,++T.instance.start_game_count,T.instance.init_data(),this.initData(),this.skillBoard.init_new()},s._onTileClick=function(e){this.map.isOver?f("游戏已经结束了..."):this.map.match(e)&&(this.blocker.active=!0)},s._onAllTileToDest=function(){T.instance.progress==w.instance.total_score?(this.blocker.active=!1,this.gameWin.popup(),D.instance.saveProgress(this.skillBoard.list,this.skillBoard.removes)):(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots())},s._onNextLevel=function(){k.instance.playBackground(P.MUSIC,!0),w.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance()},s._onTileAllDead=function(){f("游戏结束..."),this.gameOver.popup()},s._onNewLineEnd=function(){if(this.map.isOver)return this.map.tilesGoDie(),this.warnning.hide(),this.blocker.active=!1,void D.instance.setData("progress",null);this.newLines<w.instance.new_line_nums?(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()):(this.newLines=0,this.map.checkWarnning(),m.instance.emit(m.SHOW_TUTORIAL,S.INTRO_NEW_LINE),this.blocker.active=!1)},s.update=function(e){},t}(g)).prototype,"blocker",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(oe.prototype,"warnning",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(oe.prototype,"scoreLB",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(oe.prototype,"dancePows",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(oe.prototype,"progress",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(oe.prototype,"levelLB",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(oe.prototype,"map",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(oe.prototype,"effects",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(oe.prototype,"ExplodePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(oe.prototype,"SnowPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(oe.prototype,"TracePrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(oe.prototype,"TraceRowPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(oe.prototype,"TraceColorPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(oe.prototype,"TraceExplodePrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(oe.prototype,"dots",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(oe.prototype,"gameOver",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(oe.prototype,"gameWin",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(oe.prototype,"skillBoard",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(oe.prototype,"settingsBtn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(oe.prototype,"settings",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=t(oe.prototype,"tutorials",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=oe))||ie));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./CustomProgress.ts","./StatisticsPanel.ts","./LevelManager.ts","./StorageDataManager.ts"],(function(t){var e,n,i,a,r,o,s,l,c,u,p,h,f,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Node,l=t.director,c=t.Component},function(t){u=t.EventManager},function(t){p=t.GameMode},function(t){h=t.CustomProgress},function(t){f=t.StatisticsPanel},function(t){y=t.LevelManager},function(t){g=t.StorageDataManager}],execute:function(){var m,v,P,B,_,b,d,C,M,S,L,O,D,E,N;r._RF.push({},"e946eQX9qVL9Iy0hbZ3FyUC","GameMenu",void 0);var T=o.ccclass,k=o.property;t("GameMenu",(m=T("GameMenu"),v=k(s),P=k(s),B=k(s),_=k(s),b=k(h),d=k(f),m((S=e((M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"levelPlayBtn",S,a(e)),i(e,"normalPlayBtn",L,a(e)),i(e,"statisticBtn",O,a(e)),i(e,"content",D,a(e)),i(e,"progress",E,a(e)),i(e,"statisticsPanel",N,a(e)),e.current=0,e.total=1,e.top=1,e.isOver=!1,e}n(e,t);var r=e.prototype;return r.start=function(){this.levelPlayBtn.on(u.BASE_BUTTON_TOUCH_END,this._onLevelPlayBtnClick,this),this.normalPlayBtn.on(u.BASE_BUTTON_TOUCH_END,this._onNormalPlayBtnClick,this),this.statisticBtn.on(u.BASE_BUTTON_TOUCH_END,this._onStatisticBtnClick,this)},r._onLevelPlayBtnClick=function(){y.instance.mode=p.LEVEL;var t=g.instance.getData("progress");y.instance.isRestart=!t,l.loadScene("GamePlay")},r._onNormalPlayBtnClick=function(){y.instance.mode=p.NORMAL,l.loadScene("GamePlay")},r._onStatisticBtnClick=function(){this.statisticsPanel.popup()},r._onSceneLoaded=function(){this.top+=1},r._checkPercent=function(t){if(this.top==this.total+1)this.current+=.1,this.current>=this.total&&(this.current=this.total,this.isOver=!0);else{var e=this.top-this.current;e<0&&(e=0),this.current+=e*t}this.progress.setPercent(this.current,this.total),this.isOver&&(this.content.active=!0,this.progress.node.active=!1)},r.update=function(t){this.isOver||this._checkPercent(t)},e}(c)).prototype,"levelPlayBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"normalPlayBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"statisticBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(M.prototype,"content",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(M.prototype,"progress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(M.prototype,"statisticsPanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=M))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameNormalOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserData.ts"],(function(t){var e,n,i,a,o,r,l,c,p,s,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,c=t.Animation,p=t.Label,s=t.Component},function(t){u=t.EventManager},function(t){m=t.UserData}],execute:function(){var f,h,y,b,v,g,_,B,d,z,L;o._RF.push({},"ba58736p79I2pgrzVSiJ21l","GameNormalOver",void 0);var N=r.ccclass,D=r.property;t("GameNormalOver",(f=N("GameNormalOver"),h=D(l),y=D(c),b=D(l),v=D(p),f((B=e((_=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"replayBtn",B,a(e)),i(e,"animation",d,a(e)),i(e,"content",z,a(e)),i(e,"scoreLB",L,a(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.content.setScale(.5,.5),this.replayBtn.on(u.BASE_BUTTON_TOUCH_END,this._onReplayBtnClick,this)},o._onReplayBtnClick=function(){this.popout()},o.popup=function(){this.scoreLB.string=m.instance.score.toString(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},o.popout=function(){this.animation.play("popout_animation")},o.hide=function(){this.node.active=!1,u.instance.emit(u.GAME_REPLAY)},o.update=function(t){},e}(s)).prototype,"replayBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(_.prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(_.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(_.prototype,"scoreLB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameNormalPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Warnning.ts","./Map.ts","./Dots.ts","./GlobalData.ts","./AudioMananger.ts","./EventManager.ts","./UserData.ts","./StorageDataManager.ts","./ResourceManager.ts","./LevelManager.ts","./Settings.ts","./DancePows.ts","./GameNormalOver.ts"],(function(e){var t,n,i,o,a,r,s,l,c,u,f,p,h,d,b,g,_,m,T,w,E,P,v,C,S,y,L,D,N,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Label,u=e.Prefab,f=e.instantiate,p=e.director,h=e.log,d=e.Component},function(e){b=e.Warnning},function(e){g=e.Map},function(e){_=e.Dots},function(e){m=e.AudioIDs,T=e.TutorialSteps,w=e.TilePowerupTypes,E=e.GlobalData},function(e){P=e.AudioMananger},function(e){v=e.EventManager},function(e){C=e.UserData},function(e){S=e.StorageDataManager},function(e){y=e.ResourceManager},function(e){L=e.LevelManager},function(e){D=e.Settings},function(e){N=e.DancePows},function(e){M=e.GameNormalOver}],execute:function(){var O,R,A,W,I,k,z,x,B,G,U,H,F,X,j,J,K,V,Y,q,Q,Z,$,ee,te,ne,ie,oe,ae,re,se,le,ce,ue,fe,pe,he;r._RF.push({},"439afsidJNOTrSP1AtSHvIU","GameNormalPlay",void 0);var de=s.ccclass,be=s.property;e("GameNormalPlay",(O=de("GameNormalPlay"),R=be(l),A=be(b),W=be(c),I=be(N),k=be(g),z=be(l),x=be(u),B=be(u),G=be(u),U=be(u),H=be(u),F=be(u),X=be(_),j=be(M),J=be(l),K=be(D),V=be(l),O((Q=t((q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"blocker",Q,o(t)),i(t,"warnning",Z,o(t)),i(t,"scoreLB",$,o(t)),i(t,"dancePows",ee,o(t)),i(t,"map",te,o(t)),i(t,"effects",ne,o(t)),i(t,"ExplodePrefab",ie,o(t)),i(t,"SnowPrefab",oe,o(t)),i(t,"TracePrefab",ae,o(t)),i(t,"TraceRowPrefab",re,o(t)),i(t,"TraceColorPrefab",se,o(t)),i(t,"TraceExplodePrefab",le,o(t)),i(t,"dots",ce,o(t)),i(t,"gameOver",ue,o(t)),i(t,"settingsBtn",fe,o(t)),i(t,"settings",pe,o(t)),i(t,"tutorials",he,o(t)),t.newLines=0,t}n(t,e);var r=t.prototype;return r.start=function(){P.instance.playBackground(m.MUSIC),this.settingsBtn.on(v.BASE_BUTTON_TOUCH_END,this._onSettingsBtnClick,this),v.instance.on(v.TILE_CLICK,this._onTileClick,this),v.instance.on(v.ALL_TILE_TO_DEST,this._onAllTileToDest,this),v.instance.on(v.NEW_LINE_END,this._onNewLineEnd,this),v.instance.on(v.GAME_REPLAY,this._onReplay,this),v.instance.on(v.TILE_NORMAL_REMOVE,this._onTileNormalRemove,this),v.instance.on(v.EXECUTE_POWERUP,this._onExecutePowerup,this),v.instance.on(v.SAME_COLOR_EFFECT,this._onSameColorEffect,this),v.instance.on(v.SNOW_EFFECT,this._onSnowEffect,this),v.instance.on(v.SHOW_WARNNING,this._onShowWarnnig,this),v.instance.on(v.TILES_ALL_DEAD,this._onTileAllDead,this),v.instance.on(v.SCORE_CHANGE,this._onScoreChange,this),v.instance.on(v.RETURN_TO_MENU,this._onReturnToMenu,this),L.instance.init_normal_data(),C.instance.init_normal_data(),this.initData(),this._checkNeedTutorial(),this.blocker.active=!1,this.dancePows.node.active=!0},r._checkNeedTutorial=function(){for(var e,t=S.instance.getData("tutorials"),n=!1,i=a(t);!(e=i()).done;){if(!e.value){n=!0;break}}if(n){var o=y.instance.getAsset("solo/Tutorial"),r=f(o);r.getComponent("Tutorial").setCompleted(t),this.tutorials.addChild(r)}},r._onReturnToMenu=function(){this.dancePows.stopAllTween(),this.dancePows.node.active=!1,p.loadScene("GameMenu")},r._onSettingsBtnClick=function(){this.settings.popup()},r._onScoreChange=function(){this.scoreLB.string=""+C.instance.score},r._onTileClick=function(e){this.map.isOver?h("游戏已经结束了..."):this.map.match(e)&&(this.blocker.active=!0)},r._onAllTileToDest=function(){++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()},r._onNewLineEnd=function(){if(this.map.isOver)return this.map.tilesGoDie(),this.warnning.hide(),void(this.blocker.active=!1);v.instance.emit(v.SHOW_TUTORIAL,T.INTRO_NEW_LINE),this.blocker.active=!1},r._onReplay=function(){C.instance.init_normal_data(),this.initData()},r.initData=function(){h("game normal play init data..."),P.instance.playBackground(m.MUSIC,!0),this.scoreLB.string="0",this.map.init_data(),this.dots.createDots(),this.map.entrance()},r._onTileNormalRemove=function(e){var t=f(this.ExplodePrefab).getComponent("ExplodeParticle");this.effects.addChild(t.node),t.setFace(e),t.node.setWorldPosition(e.node.getWorldPosition())},r._onExecutePowerup=function(e){switch(h("_onExecutePowerup "+e.powerupType),e.powerupType){case w.ERASE_COLS:for(var t=e.col-Math.floor(C.instance.erase_cols/2),n=t+C.instance.erase_cols-1,i=e.node.getWorldPosition(),o=i.clone(),a=Math.max(0,t);a<=Math.min(E.COLS-1,n);++a){var r=a-e.col;o.x=i.x+r*E.TILE_WIDTH;var s=f(this.TracePrefab).getComponent("Trace");this.effects.addChild(s.node),s.node.setWorldPosition(o)}break;case w.ERASE_ROWS:for(var l=e.row-Math.floor(C.instance.erase_rows/2),c=l+C.instance.erase_rows-1,u=e.node.getWorldPosition(),p=u.clone(),d=Math.max(l,0);d<=Math.min(E.ROWS-1,c);++d){var b=d-e.row;p.y=u.y+b*E.TILE_HEIGHT;var g=f(this.TraceRowPrefab).getComponent("TraceRow");this.effects.addChild(g.node),g.node.setWorldPosition(p)}break;case w.EXPLODE:var _=f(this.TraceExplodePrefab).getComponent("TraceExplode");this.effects.addChild(_.node),_.setShake(this.map.node),_.node.setWorldPosition(e.node.getWorldPosition())}},r._onSameColorEffect=function(e,t){var n=f(this.TraceColorPrefab).getComponent("TraceColor");n.setPos(e,t),this.effects.addChild(n.node),n.node.setWorldPosition(e)},r._onSnowEffect=function(e){var t=f(this.SnowPrefab).getComponent("SnowParticle");this.effects.addChild(t.node),t.node.setWorldPosition(e)},r._onShowWarnnig=function(e){e?this.warnning.show():this.warnning.hide()},r._onTileAllDead=function(){h("游戏结束..."),this.gameOver.popup()},r.update=function(e){},t}(d)).prototype,"blocker",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(q.prototype,"warnning",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(q.prototype,"scoreLB",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(q.prototype,"dancePows",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(q.prototype,"map",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(q.prototype,"effects",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(q.prototype,"ExplodePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(q.prototype,"SnowPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(q.prototype,"TracePrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(q.prototype,"TraceRowPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(q.prototype,"TraceColorPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(q.prototype,"TraceExplodePrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(q.prototype,"dots",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(q.prototype,"gameOver",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(q.prototype,"settingsBtn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(q.prototype,"settings",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(q.prototype,"tutorials",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=q))||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){var n,e,i,a,o,r,l,c,p,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,c=t.Animation,p=t.Component},function(t){u=t.EventManager}],execute:function(){var s,y,f,h,m,v,b,_,d;o._RF.push({},"11a55Sg01NOubb0mqCHyQob","GameOver",void 0);var g=r.ccclass,B=r.property;t("GameOver",(s=g("GameOver"),y=B(l),f=B(c),h=B(l),s((b=n((v=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"replayBtn",b,a(n)),i(n,"animation",_,a(n)),i(n,"content",d,a(n)),n}e(n,t);var o=n.prototype;return o.start=function(){this.content.setScale(.5,.5),this.replayBtn.on(u.BASE_BUTTON_TOUCH_END,this._onReplayBtnClick,this)},o._onReplayBtnClick=function(){this.popout()},o.popup=function(){this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},o.popout=function(){this.animation.play("popout_animation")},o.hide=function(){this.node.active=!1,u.instance.emit(u.GAME_REPLAY)},o.update=function(t){},n}(p)).prototype,"replayBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(v.prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=n(v.prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./GlobalData.ts","./ResourceManager.ts"],(function(e){var a,t,n,r,i,o,s,l,c,u,p,f;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,l=e.instantiate,c=e.Component},function(e){u=e.LevelManager},function(e){p=e.GameMode},function(e){f=e.ResourceManager}],execute:function(){var m,g,y,d,v;i._RF.push({},"bed25Jq6p9EYLrse7gMMuK7","GamePlay",void 0);var h=o.ccclass,L=o.property;e("GamePlay",(m=h("GamePlay"),g=L(s),m((v=a((d=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,n(a,"gameContainer",v,r(a)),a}t(a,e);var i=a.prototype;return i.start=function(){var e;if(u.instance.mode==p.LEVEL){var a=f.instance.getAsset("prefabs/GameLevelPlay");e=l(a)}else if(u.instance.mode==p.NORMAL){var t=f.instance.getAsset("prefabs/GameNormalPlay");e=l(t)}this.gameContainer.addChild(e)},i.update=function(e){},a}(c)).prototype,"gameContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts","./EventManager.ts","./UserData.ts"],(function(t){var n,i,e,o,a,s,r,c,u,l,p,h,f,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.ParticleSystem2D,c=t.Animation,u=t.Node,l=t.Component},function(t){p=t.AudioMananger},function(t){h=t.AudioIDs},function(t){f=t.EventManager},function(t){m=t.UserData}],execute:function(){var y,d,g,b,w,v,_,D,S;a._RF.push({},"d1b0fg8R5BG/o7RrBJ/eIr4","GameWin",void 0);var E=s.ccclass,G=s.property;t("GameWin",(y=E("GameWin"),d=G(r),g=G(c),b=G(u),y((_=n((v=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"stars",_,o(n)),e(n,"animation",D,o(n)),e(n,"content",S,o(n)),n.showCount=2,n.isShow=!1,n}i(n,t);var a=n.prototype;return a.start=function(){},a.popup=function(){this.showCount=2,this.isShow=!0,this.stars.resetSystem(),m.instance.is_music_on?p.instance.playBackground(h.WIN,!1):p.instance.playEffect(h.WIN),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1,f.instance.emit(f.NEXT_LEVEL)},a.update=function(t){this.isShow&&(this.showCount<0?(this.isShow=!1,this.popout()):this.showCount-=t)},n}(l)).prototype,"stars",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(v.prototype,"animation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(v.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(E){var O;return{setters:[function(E){O=E.cclegacy}],execute:function(){O._RF.push({},"7548cN90TBO7aGQBomzutVG","GlobalData",void 0);E("TileType",function(E){return E[E.NORMAL=0]="NORMAL",E[E.STONE=1]="STONE",E[E.STEPS=2]="STEPS",E}({})),E("TileColorTypes",function(E){return E[E.BLACK=0]="BLACK",E[E.RED=1]="RED",E[E.YELLOW=2]="YELLOW",E[E.BLUE=3]="BLUE",E[E.GREEN=4]="GREEN",E[E.PURPLE=5]="PURPLE",E[E.ORANGE=6]="ORANGE",E}({})),E("TilePowerupTypes",function(E){return E[E.NORMAL=0]="NORMAL",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR",E}({})),E("LoadAssetType",function(E){return E[E.Texture2D=0]="Texture2D",E[E.Prefab=1]="Prefab",E[E.Data=2]="Data",E[E.Scence=3]="Scence",E}({})),E("SkillType",function(E){return E[E.POWERUP_MIN=0]="POWERUP_MIN",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR",E[E.STONE_CHANCE=5]="STONE_CHANCE",E[E.LIMIT_CHANCE=6]="LIMIT_CHANCE",E[E.LIMIT_STEP_CHANCE=7]="LIMIT_STEP_CHANCE",E[E.NEW_LINE_REDUCE=8]="NEW_LINE_REDUCE",E}({})),E("AudioIDs",function(E){return E[E.CLICK=0]="CLICK",E[E.SOO=1]="SOO",E[E.BREAK=2]="BREAK",E[E.ICE_BREAK=3]="ICE_BREAK",E[E.STONE_BREAK=4]="STONE_BREAK",E[E.ERASE_EFFCT=5]="ERASE_EFFCT",E[E.WIN=6]="WIN",E[E.MOVE_TO_DEST=7]="MOVE_TO_DEST",E[E.ENTER=8]="ENTER",E[E.UPGRADE=9]="UPGRADE",E[E.POPUP=10]="POPUP",E[E.MUSIC=11]="MUSIC",E[E.ERROR=12]="ERROR",E[E.LOSE=13]="LOSE",E[E.GOOD=14]="GOOD",E[E.GREAT=15]="GREAT",E[E.EXCELLENT=16]="EXCELLENT",E[E.CLAP=17]="CLAP",E[E.WARNNING=18]="WARNNING",E}({})),E("TutorialSteps",function(E){return E[E.ICE_TILE=0]="ICE_TILE",E[E.STONE_TILE=1]="STONE_TILE",E[E.INTRO_PLAY=2]="INTRO_PLAY",E[E.INTRO_NEW_LINE=3]="INTRO_NEW_LINE",E[E.INTRO_GAME_OVER=4]="INTRO_GAME_OVER",E[E.ERASE_COLS=5]="ERASE_COLS",E[E.ERASE_ROWS=6]="ERASE_ROWS",E[E.BOMB=7]="BOMB",E[E.SAME_COLOR=8]="SAME_COLOR",E}({})),E("GameMode",function(E){return E[E.NORMAL=0]="NORMAL",E[E.LEVEL=1]="LEVEL",E}({}));var R=E("GlobalData",(function(){}));R.ROWS=13,R.COLS=11,R.TILE_WIDTH=86,R.TILE_HEIGHT=86,R.TILE_SCORE=10,R.MAX_SKILL_ERASE_COL=8,R.MAX_SKILL_ERASE_ROW=8,R.MAX_SKILL_EXPLODE=8,R.MIN_SKILL_POWERUP_MIN=2,R.MIN_SKILL_NEWLINE=1,O._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./EventManager.ts","./GlobalData.ts"],(function(i){var t,e,s,n,_;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy},function(i){s=i.UserData},function(i){n=i.EventManager},function(i){_=i.GameMode}],execute:function(){e._RF.push({},"d96bdWyl/9JmafPo0yT90h6","LevelManager",void 0),i("LevelManager",function(){function i(){this.isRestart=!0,this.mode=_.NORMAL,this.level_id=0,this.total_score=0,this.tile_color_types=2,this.init_row=4,this.stone_chance=0,this.limit_chance=0,this.max_limit=9,this.min_limit=1,this.new_line_nums=1,this.is_new_level=!1}var e=i.prototype;return e.set_total_score=function(){var i=1e3*this.level_id;i>6e3&&(i=6e3),this.total_score=i},e.set_color_types=function(){this.level_id<=20?this.tile_color_types=2:this.level_id<=45?this.tile_color_types=3:this.level_id<=70?this.tile_color_types=4:this.level_id<=90?this.tile_color_types=5:(this.tile_color_types,this.tile_color_types=6)},e.set_init_row=function(){this.level_id<=10?this.init_row=4:this.level_id<=30?this.init_row=5:this.level_id<=60?this.init_row=6:(this.level_id,this.init_row=7)},e.set_stone_chance=function(){this.level_id<=21?this.stone_chance=0:this.level_id<=22?this.stone_chance=.01:this.level_id<=36?this.stone_chance=.05:this.level_id<55?this.stone_chance=.1:this.level_id<75&&(this.stone_chance=.2),this.stone_chance*=s.instance.stone_discount},e.set_limit_change=function(){this.level_id<=32?this.limit_chance=0:this.level_id<=33?(this.limit_chance=.01,this.max_limit=3,this.min_limit=1):this.level_id<=65?(this.limit_chance=.05,this.max_limit=3,this.min_limit=1):this.level_id<=80?(this.limit_chance=.1,this.max_limit=5,this.min_limit=2):(this.level_id,this.limit_chance=.2,this.max_limit=7,this.min_limit=3),this.limit_chance*=s.instance.limit_discount,this.max_limit*=s.instance.limit_step_discount,this.min_limit*=s.instance.limit_step_discount},e.set_new_line_nums=function(){this.level_id<=10?this.new_line_nums=1:this.level_id<=20?(this.new_line_nums=2,n.instance.emit(n.NEWLINE_MULTI_ADD)):this.level_id<=50?this.new_line_nums=3:(this.level_id,this.new_line_nums=4),this.new_line_nums-=s.instance.new_line_reduce,this.new_line_nums<1&&(this.new_line_nums=1)},e.init_normal_data=function(){this.init_row=5,this.stone_chance=.01,this.limit_chance=.01,this.tile_color_types=4,this.max_limit=5,this.min_limit=1},e.next_level=function(){this.is_new_level=!0,this.level_id+=1,s.instance.level=this.level_id,this.set_total_score(),this.set_color_types(),this.set_init_row(),this.set_stone_chance(),this.set_limit_change(),this.set_new_line_nums()},t(i,null,[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./CatPow.ts","./ColorProcessor.ts","./CustomProgress.ts","./DancePows.ts","./DesireButtonBase.ts","./Dot.ts","./DotStateEnter.ts","./DotStateNormal.ts","./Dots.ts","./ExplodeParticle.ts","./GameLevelPlay.ts","./GameMenu.ts","./GameNormalOver.ts","./GameNormalPlay.ts","./GameOver.ts","./GamePlay.ts","./GameWin.ts","./LevelManager.ts","./Map.ts","./PowerupEraseCol.ts","./PowerupEraseRow.ts","./PowerupExplode.ts","./PowerupProcessor.ts","./PowerupSameColor.ts","./Preload.ts","./Settings.ts","./Skill.ts","./SkillBoard.ts","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillProcesser.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./SnowParticle.ts","./Sounds.ts","./StatisticsPanel.ts","./StorageDataManager.ts","./Tile.ts","./TileStateDie.ts","./TileStateEnter.ts","./TileStateMoveToDest.ts","./TileStateNormal.ts","./TileStateRemove.ts","./Tips.ts","./Trace.ts","./TraceColor.ts","./TraceExplode.ts","./TraceRow.ts","./Tutorial.ts","./TypeProcessor.ts","./TypeSteps.ts","./TypeStone.ts","./UserData.ts","./Warnning.ts","./AudioMananger.ts","./EventManager.ts","./GlobalData.ts","./ResourceManager.ts","./StateBase.ts","./StateMachine.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./GlobalData.ts","./TileStateEnter.ts","./ColorProcessor.ts","./EventManager.ts","./TileStateNormal.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts","./UserData.ts","./AudioMananger.ts","./TileStateDie.ts"],(function(e){var t,i,s,n,o,a,r,l,c,h,_,p,u,f,T,v,m,E,d,O,S,w,L,g,R,y,N,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,l=e.Prefab,c=e.instantiate,h=e.randomRangeInt,_=e.log,p=e.Component},function(e){u=e.LevelManager},function(e){f=e.GlobalData,T=e.AudioIDs,v=e.TileType,m=e.TutorialSteps,E=e.TilePowerupTypes},function(e){d=e.TileStateEnter},function(e){O=e.ColorProcessor},function(e){S=e.EventManager},function(e){w=e.TileStateNormal},function(e){L=e.TileStateRemove},function(e){g=e.TileStateMoveToDest},function(e){R=e.PowerupProcessor},function(e){y=e.UserData},function(e){N=e.AudioMananger},function(e){D=e.TileStateDie}],execute:function(){var A,M,I,C,P;a._RF.push({},"3f0eeyiQ55DYp3kgVjHQDeU","Map",void 0);var b=r.ccclass,W=r.property;e("Map",(A=b("Map"),M=W(l),A((P=t((C=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,s(t,"TilePrefab",P,n(t)),t.colsList=void 0,t.availbles=void 0,t._moves=void 0,t._normals=void 0,t._powerups=void 0,t._enters=0,t._dies=0,t._removes=0,t._dests=0,t._isCreateNew=!1,t.isOver=!1,t}i(t,e);var a=t.prototype;return a.start=function(){S.instance.on(S.TILE_ENTERED,this._onTileEntered,this),S.instance.on(S.TILE_DEAD,this._onTileDead,this),S.instance.on(S.TILE_REMOVED,this._onTileRemoved,this),S.instance.on(S.TILE_MOVE_TO_DEST,this._onMoveToDest,this),S.instance.on(S.EXECUTE_POWERUP,this._executePowerup,this)},a.init_data=function(){this.clearAll(),this.colsList=[];for(var e=0;e<f.COLS;++e){this.colsList.push([]);for(var t=0;t<f.ROWS;++t)this.colsList[e].push(null)}this.isOver=!1,this._isCreateNew=!1,this._enters=0,this._dies=0,this._removes=0,this._dests=0,this.availbles=[],this._normals=[],this._moves=[],this._powerups=[]},a.clearAll=function(){this.node.removeAllChildren()},a.entrance=function(){N.instance.playEffect(T.ENTER);for(var e=0;e<u.instance.init_row;++e)for(var t=0;t<f.COLS;++t){++this._enters;var i=c(this.TilePrefab).getComponent("Tile");i.preload(),this.node.addChild(i.node),i.node.setScale(0,0),i.row=e,i.col=t,i.colorType=h(1,u.instance.tile_color_types+1),i.setPos(),O.instance.execute(i),this.colsList[t][e]=i,this.availbles.push(i),i.changeState(d.stateName)}},a.newLine=function(e){var t=this;this._isCreateNew=!0,this.colsList.forEach((function(e){for(var i=e.length-1;i>-1;--i){var s=e[i];s&&(s.row+=1,s.row==f.ROWS-1&&(t.isOver=!0),e[i+1]=s,e[i]=null,t._moves.push(s))}}));var i=!1,s=!1;e.forEach((function(e){var n=c(t.TilePrefab).getComponent("Tile");n.preload(),t.node.addChild(n.node),n.node.setScale(0,0),n.col=e.col,n.row=0,n.node.setPosition(n.col*f.TILE_WIDTH,-1*f.TILE_HEIGHT),n.type=e.type,n.type==v.STONE&&(i=!0,S.instance.emit(S.STONE_CREATED)),n.steps=e.steps,n.steps>0&&(n.setSteps(),s=!0,S.instance.emit(S.ICE_CREATED)),n.colorType=e.colorType,O.instance.execute(n),t.colsList[n.col][0]=n,t._moves.push(n),t.availbles.push(n),n.changeState(d.stateName)})),i?S.instance.emit(S.SHOW_TUTORIAL,m.STONE_TILE):s&&S.instance.emit(S.SHOW_TUTORIAL,m.ICE_TILE),this._recomposition()},a._clearNormals=function(){for(;this._normals.length>0;)this._normals.pop()},a._clearPowerups=function(){for(;this._powerups.length>0;)this._powerups.pop()},a._clearMoves=function(){for(;this._moves.length>0;)this._moves.pop()},a._removeNormalTiles=function(e){var t=this;this._removes=this._normals.length,this._normals.forEach((function(i){if(i==e);else if(0==i.steps){t.colsList[i.col][i.row]=null;var s=t.availbles.indexOf(i);s>-1&&t.availbles.splice(s,1)}else--t._removes;0==i.steps&&(i.moveTarget=e),i.changeState(L.stateName)})),this._clearNormals()},a._removePowerup=function(){var e=this;this._removes+=this._powerups.length,this._powerups.forEach((function(t){e.colsList[t.col][t.row]=null;var i=e.availbles.indexOf(t);i>-1&&e.availbles.splice(i,1),t.changeState(L.stateName)})),this._clearPowerups()},a._executePowerup=function(e){_("处理powerup...",e.powerupType),R.instance.execute(e,this)},a._tidyUp=function(){var e=this;this._clearMoves(),this.colsList.forEach((function(t){for(var i=0;i<t.length;++i){var s=t[i];if(null!=s){for(var n=-1,o=0;o<i;++o)if(null==t[o]){n=o;break}-1!=n&&(t[n]=s,s.row=n,t[i]=null,e._moves.push(s))}}})),_("moves:",this._moves.length)},a._recomposition=function(){var e=this;N.instance.playEffect(T.MOVE_TO_DEST),this._dests=0,0==this._moves.length?this._checkMoveToDest():(this._moves.forEach((function(t){++e._dests,t.changeState(g.stateName)})),this._clearMoves())},a.match=function(e){var t=!1;if(e.type==v.STONE||e.steps>0)return _("播放tile出错动画..."),e.animation.play("tile_error_animation"),N.instance.playEffect(T.ERROR),t;this._findMatch(e);var i=this._normals.length+this._powerups.length;return this._normals.length+this._powerups.length<y.instance.match_min?(this._clearNormals(),this._clearPowerups()):(t=!0,this._powerups.length>0?(this._removeNormalTiles(null),this._removePowerup()):this._normals.length<y.instance.powerup_min?this._removeNormalTiles(null):(e.powerupType=h(1,5),S.instance.emit(S.POWERUP_CREATED,e.powerupType),e.powerupType==E.ERASE_ROWS?S.instance.emit(S.SHOW_TUTORIAL,m.ERASE_ROWS):e.powerupType==E.ERASE_COLS?S.instance.emit(S.SHOW_TUTORIAL,m.ERASE_COLS):e.powerupType==E.EXPLODE?S.instance.emit(S.SHOW_TUTORIAL,m.BOMB):e.powerupType==E.SAME_COLOR&&S.instance.emit(S.SHOW_TUTORIAL,m.SAME_COLOR),this._removeNormalTiles(e),N.instance.playEffect(T.ERASE_EFFCT)),S.instance.emit(S.DANCE_COUNT,i)),t},a._findMatch=function(e){e.type!=v.STONE&&(e.powerupType==E.NORMAL?this._normals.includes(e)||this._normals.push(e):this._powerups.includes(e)||this._powerups.push(e),this._findUp(e),this._findDown(e),this._findLeft(e),this._findRight(e))},a._findUp=function(e){if(!(e.row+1>=f.ROWS)){var t=this.colsList[e.col][e.row+1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findDown=function(e){if(!(e.row-1<0)){var t=this.colsList[e.col][e.row-1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findLeft=function(e){if(!(e.col-1<0)){var t=this.colsList[e.col-1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a._findRight=function(e){if(!(e.col+1>=f.COLS)){var t=this.colsList[e.col+1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},a.tilesGoDie=function(){y.instance.is_music_on?N.instance.playBackground(T.LOSE,!1):N.instance.playEffect(T.LOSE),this._dies=this.availbles.length,this.availbles.forEach((function(e){e.changeState(D.stateName)}))},a._onTileDead=function(){--this._dies,0==this._dies&&(_("所有tile变成灰色..."),S.instance.emit(S.TILES_ALL_DEAD))},a._onTileEntered=function(){if(--this._enters,0==this._enters){for(var e=0;e<this.availbles.length;++e){this.availbles[e].changeState(w.stateName)}u.instance.is_new_level&&S.instance.emit(S.SHOW_SKILL),S.instance.emit(S.SHOW_TUTORIAL,m.INTRO_PLAY)}},a._onTileRemoved=function(){--this._removes,0==this._removes&&(_("all removed..."),this._tidyUp(),this._recomposition())},a._onMoveToDest=function(){--this._dests,0==this._dests&&(_("all to dest..., "+this.availbles.length),this._checkMoveToDest())},a.checkWarnning=function(){for(var e,t=o(this.availbles);!(e=t()).done;){if(e.value.row+u.instance.new_line_nums==f.ROWS-1&&!this.isOver)return S.instance.emit(S.SHOW_WARNNING,!0),void S.instance.emit(S.SHOW_TUTORIAL,m.INTRO_GAME_OVER)}S.instance.emit(S.SHOW_WARNNING,!1)},a._checkMoveToDest=function(){this.availbles.forEach((function(e){e.changeState(w.stateName)})),this._isCreateNew?(this._isCreateNew=!1,S.instance.emit(S.NEW_LINE_END)):(_("一次消除结束..."),S.instance.emit(S.DANCE_COUNT,0),S.instance.emit(S.ALL_TILE_TO_DEST))},a.update=function(e){},t}(p)).prototype,"TilePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseCol.ts",["cc","./TileStateRemove.ts","./UserData.ts","./GlobalData.ts","./ResourceManager.ts","./EventManager.ts"],(function(e){var t,a,n,s,o,r;return{setters:[function(e){t=e.cclegacy},function(e){a=e.TileStateRemove},function(e){n=e.UserData},function(e){s=e.GlobalData},function(e){o=e.ResourceManager},function(e){r=e.EventManager}],execute:function(){t._RF.push({},"c6fa2G1g5dBpo7nYNdQjEzK","PowerupEraseCol",void 0);e("PowerupEraseCol",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=o.instance.getAsset("textures/icon_list/texture");e.setPowerup(t)},t.execute=function(e,t){for(var o=e.col-Math.floor(n.instance.erase_cols/2),c=o+n.instance.erase_cols-1,i=null,u=Math.max(0,o);u<=Math.min(s.COLS-1,c);++u)for(var l=0;l<t.colsList[u].length;++l)if(i=t.colsList[u][l]){if(0==i.steps){t._removes+=1;var f=t.availbles.indexOf(i);t.availbles.splice(f,1),t.colsList[u][l]=null}i.changeState(a.stateName)}r.instance.emit(r.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseRow.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts"],(function(e){var t,a,n,s,o,r;return{setters:[function(e){t=e.cclegacy},function(e){a=e.ResourceManager},function(e){n=e.GlobalData},function(e){s=e.TileStateRemove},function(e){o=e.UserData},function(e){r=e.EventManager}],execute:function(){t._RF.push({},"41b40mzZ6xCtpE6403aV7/J","PowerupEraseRow",void 0);e("PowerupEraseRow",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/icon_line/texture");e.setPowerup(t)},t.execute=function(e,t){for(var a=e.row-Math.floor(o.instance.erase_rows/2),i=a+o.instance.erase_rows-1,c=null,u=0;u<t.colsList.length;++u)for(var l=Math.max(a,0);l<=Math.min(n.ROWS-1,i);++l)if(c=t.colsList[u][l]){if(0==c.steps){t._removes+=1;var f=t.availbles.indexOf(c);t.availbles.splice(f,1),t.colsList[u][l]=null}c.changeState(s.stateName)}r.instance.emit(r.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupExplode.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts"],(function(e){var t,n,a,o,s,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ResourceManager},function(e){a=e.GlobalData},function(e){o=e.TileStateRemove},function(e){s=e.UserData},function(e){c=e.EventManager}],execute:function(){t._RF.push({},"22b83NBz0lNuIU2GD2yCKe+","PowerupExplode",void 0);e("PowerupExplode",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=n.instance.getAsset("textures/icon_bomb/texture");e.setPowerup(t)},t.execute=function(e,t){for(var n=e.row+s.instance.explodes,i=e.row-s.instance.explodes,r=e.col-s.instance.explodes,u=e.col+s.instance.explodes,l=null,p=Math.max(r,0);p<=Math.min(a.COLS-1,u);++p)for(var f=Math.max(i,0);f<=Math.min(a.ROWS-1,n);++f)if(l=t.colsList[p][f]){if(0==l.steps){t._removes+=1;var v=t.availbles.indexOf(l);t.availbles.splice(v,1),t.colsList[p][f]=null}l.changeState(o.stateName)}c.instance.emit(c.DANCE_COUNT,t._removes)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PowerupEraseRow.ts","./GlobalData.ts","./PowerupEraseCol.ts","./PowerupExplode.ts","./PowerupSameColor.ts","./ResourceManager.ts"],(function(e){var t,s,r,n,o,u,c,i,a;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy},function(e){r=e.PowerupEraseRow},function(e){n=e.TileColorTypes,o=e.TilePowerupTypes},function(e){u=e.PowerupEraseCol},function(e){c=e.PowerupExplode},function(e){i=e.PowerupSameColor},function(e){a=e.ResourceManager}],execute:function(){s._RF.push({},"be3ecyGynRLGIZrCjS8uVRF","PowerupProcessor",void 0),e("PowerupProcessor",function(){function e(){this._list={},this._list[o.ERASE_ROWS]=new r,this._list[o.ERASE_COLS]=new u,this._list[o.EXPLODE]=new c,this._list[o.SAME_COLOR]=new i}var s=e.prototype;return s.setFace=function(e){this._list[e.powerupType].setFace(e);var t=this.getFace(e);e.setFace(t)},s.getFace=function(e){var t;switch(e.colorType){case n.RED:t=a.instance.getAsset("textures/power_tile_red/texture");break;case n.YELLOW:t=a.instance.getAsset("textures/power_tile_yellow/texture");break;case n.BLUE:t=a.instance.getAsset("textures/power_tile_blue/texture");break;case n.GREEN:t=a.instance.getAsset("textures/power_tile_green/texture");break;case n.PURPLE:t=a.instance.getAsset("textures/power_tile_red/texture");break;case n.ORANGE:t=a.instance.getAsset("textures/power_tile_orange/texture")}return t},s.execute=function(e,t){this._list[e.powerupType].execute(e,t)},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupSameColor.ts",["cc","./ResourceManager.ts","./TileStateRemove.ts","./UserData.ts","./EventManager.ts"],(function(e){var t,n,o,a,r,s;return{setters:[function(e){t=e.cclegacy,n=e.randomRangeInt},function(e){o=e.ResourceManager},function(e){a=e.TileStateRemove},function(e){r=e.UserData},function(e){s=e.EventManager}],execute:function(){t._RF.push({},"3e79fkYq7lDUZGqfST5lDYI","PowerupSameColor",void 0);e("PowerupSameColor",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=o.instance.getAsset("textures/icon_same/texture");e.setPowerup(t)},t.execute=function(e,t){for(var o=[],i=0;i<t.availbles.length;++i){var c=t.availbles[i];c.colorType==e.colorType&&o.push(c)}if(0!=o.length){for(var l=0;l<r.instance.same_colors&&o.length>0;){var u=n(0,o.length),v=o.splice(u,1)[0];if(0==v.steps){t._removes+=1;var f=t.availbles.indexOf(v);t.availbles.splice(f,1),t.colsList[v.col][v.row]=null}s.instance.emit(s.SAME_COLOR_EFFECT,e.node.getWorldPosition(),v.node.getWorldPosition()),v.changeState(a.stateName),++l}s.instance.emit(s.DANCE_COUNT,t._removes)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Preload.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./EventManager.ts","./AudioMananger.ts","./StorageDataManager.ts","./UserData.ts","./GlobalData.ts","./CustomProgress.ts"],(function(t){var e,n,a,s,o,i,r,c,u,l,d,h,_,p,f,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,r=t._decorator,c=t.director,u=t.instantiate,l=t.Component},function(t){d=t.ResourceManager},function(t){h=t.EventManager},function(t){_=t.AudioMananger},function(t){p=t.StorageDataManager},function(t){f=t.UserData},function(t){g=t.AudioIDs},function(t){v=t.CustomProgress}],execute:function(){var m,D,L,b,P;i._RF.push({},"b0918YCUu9Aibz83SE40ASV","Preload",void 0);var M=r.ccclass,S=r.property;t("Preload",(m=M("Preload"),D=S(v),m((P=e((b=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"progress",P,s(e)),e.total=0,e.current=0,e.top=1,e.isOver=!1,e}n(e,t);var i=e.prototype;return i.start=function(){h.instance.on("TexturesLoaded",this._onTextureLoaded,this),h.instance.on("PrefabsLoaded",this._onPrefabLoaded,this),h.instance.on("TutorialLoaded",this._onTutorialLoaded,this),c.preloadScene("GameMenu",this._onSceneLoaded.bind(this)),this.total+=1,p.instance.loadData();var t=p.instance.getData("music_on"),e=p.instance.getData("sound_on"),n=p.instance.getData("max_score"),a=p.instance.getData("max_level"),s=p.instance.getData("start_game_count"),i=p.instance.getData("erase_tiles");f.instance.is_music_on=null==t||t,f.instance.is_sound_on=null==e||e,f.instance.max_score=n||0,f.instance.max_level=a||0,f.instance.start_game_count=s||0,f.instance.erase_tiles=i||0,d.instance.loadResources("prefabs","PrefabsLoaded",h.instance,["dir"]),d.instance.loadResources("textures","TexturesLoaded",h.instance,["dir"]),this.total+=2;for(var r,u=p.instance.getData("tutorials"),l=o(u);!(r=l()).done;){if(!r.value){d.instance.loadResources("solo/Tutorial","TutorialLoaded",h.instance),this.total+=1;break}}d.instance.start()},i._onTutorialLoaded=function(){this.top+=1},i._onPrefabLoaded=function(){var t=d.instance.getAsset("prefabs/Sounds");_.instance.sounds=u(t).getComponent("Sounds"),_.instance.sounds.setMusicClip(g.MUSIC),h.instance.emit(h.ENABLE_BACKGROUND_MUSIC,f.instance.is_music_on),h.instance.emit(h.ENABLE_EFFECT_SOUND,f.instance.is_sound_on),this.top+=1},i._onTextureLoaded=function(){this.top+=1},i._onSceneLoaded=function(){this.top+=1},i._checkPercent=function(t){if(this.top==this.total+1)this.current+=.1,this.current>=this.total&&(this.current=this.total,this.isOver=!0);else{var e=this.top-this.current;e<0&&(e=0),this.current+=e*t}this.progress.setPercent(this.current,this.total),this.isOver&&c.loadScene("GameMenu")},i.update=function(t){this.isOver||this._checkPercent(t)},e}(l)).prototype,"progress",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=b))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,s,n,i;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.resources,i=t.log}],execute:function(){s._RF.push({},"a3ea9LzJr1A6KXBymncUe6I","ResourceManager",void 0),t("ResourceManager",function(){function t(){this._total=0,this._list=[],this._isStart=!1}var s=t.prototype;return s.loadResources=function(t,e,s,n){void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=[]),this._total+=1,this._list.push({path:t,event:e,target:s,args:n})},s.start=function(){this._isStart=!0,this._process()},s.getAsset=function(t){return n.get(t)},s._process=function(){if(this._isStart)for(;this._list.length>0;){var t=this._list.pop();t.args&&"dir"==t.args[0]?"preload"==t.args[1]?n.preloadDir(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.loadDir(t.path,this._onAssetLoaded.bind(this,t.event,t.target)):"preload"==t.args[1]?n.preload(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.load(t.path,this._onAssetLoaded.bind(this,t.event,t.target))}},s._checkLoadCompleted=function(){this._total-=1,0==this._total&&(this._isStart=!1,i("当前批次加载完毕..."))},s._onAssetLoaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},s._onAssetPreloaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserData.ts","./StorageDataManager.ts"],(function(n){var t,i,e,o,a,s,c,u,r,l,_,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,c=n.Node,u=n.Animation,r=n.NodeEventType,l=n.Component},function(n){_=n.EventManager},function(n){p=n.UserData},function(n){f=n.StorageDataManager}],execute:function(){var m,h,d,b,O,g,B,C,y,E,v,S,D,k,N,A,T,U,z,w,M,x,R;a._RF.push({},"d752dOeQ9dFFbMGBO7x0NVW","Settings",void 0);var F=s.ccclass,I=s.property;n("Settings",(m=F("Settings"),h=I(c),d=I(c),b=I(c),O=I(c),g=I(c),B=I(c),C=I(c),y=I(c),E=I(c),v=I(u),m((k=t((D=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"exitBtn",k,o(t)),e(t,"returnBtn",N,o(t)),e(t,"musicOn",A,o(t)),e(t,"musicOff",T,o(t)),e(t,"musicClickArea",U,o(t)),e(t,"soundOn",z,o(t)),e(t,"soundOff",w,o(t)),e(t,"soundClickArea",M,o(t)),e(t,"content",x,o(t)),e(t,"animation",R,o(t)),t}i(t,n);var a=t.prototype;return a.start=function(){this.exitBtn.on(_.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this),this.returnBtn.on(_.BASE_BUTTON_TOUCH_END,this._onReturnBtnClick,this),this.soundClickArea.on(r.TOUCH_END,this._onSoundBtnClick,this),this.musicClickArea.on(r.TOUCH_END,this._onMusicBtnClick,this)},a._setIconState=function(){this.soundOn.active=p.instance.is_sound_on,this.soundOff.active=!this.soundOn.active,this.musicOn.active=p.instance.is_music_on,this.musicOff.active=!this.musicOn.active},a._onExitBtnClick=function(){f.instance.setData("music_on",p.instance.is_music_on),f.instance.setData("sound_on",p.instance.is_sound_on),this.popout()},a._onReturnBtnClick=function(){f.instance.setData("music_on",p.instance.is_music_on),f.instance.setData("sound_on",p.instance.is_sound_on),this.popout(),_.instance.emit(_.RETURN_TO_MENU)},a._onSoundBtnClick=function(){p.instance.is_sound_on=!p.instance.is_sound_on,_.instance.emit(_.ENABLE_EFFECT_SOUND,p.instance.is_sound_on),this._setIconState()},a._onMusicBtnClick=function(){p.instance.is_music_on=!p.instance.is_music_on,_.instance.emit(_.ENABLE_BACKGROUND_MUSIC,p.instance.is_music_on),this._setIconState()},a.popup=function(){this.node.active=!0,this._setIconState(),this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1},a.update=function(n){},t}(l)).prototype,"exitBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"returnBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"musicOn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(D.prototype,"musicOff",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(D.prototype,"musicClickArea",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(D.prototype,"soundOn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"soundOff",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(D.prototype,"soundClickArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"animation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=D))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillProcesser.ts","./EventManager.ts"],(function(e){var t,i,n,r,l,o,a,c,s,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,c=e.Sprite,s=e.Node,u=e.SpriteFrame,p=e.Component},function(e){f=e.SkillProcesser},function(e){h=e.EventManager}],execute:function(){var b,g,y,k,v,m,d,S,_,w,A,L,z,B,I;l._RF.push({},"1c2af6u265AJ4xiAnLbY+p3","Skill",void 0);var T=o.ccclass,D=o.property;e("Skill",(b=T("Skill"),g=D(a),y=D(a),k=D(c),v=D(c),m=D(c),d=D(s),b((w=t((_=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"introLB",w,r(t)),n(t,"title",A,r(t)),n(t,"icon",L,r(t)),n(t,"faceBG",z,r(t)),n(t,"other",B,r(t)),n(t,"clickArea",I,r(t)),t.type=void 0,t}i(t,e);var l=t.prototype;return l.start=function(){f.instance.setIntro(this),f.instance.setTitle(this),f.instance.setIcon(this),this.clickArea.on(h.BASE_BUTTON_TOUCH_END,this._onUpgradeClick,this)},l._onUpgradeClick=function(){this.clickArea.active=!1,f.instance.upgrade(this),h.instance.emit(h.SKILL_UPGRADE)},l.setIntro=function(e){this.introLB.string=e},l.setTile=function(e){this.title.string=e},l.setIcon=function(e){var t=new u;t.texture=e,this.icon.spriteFrame=t},l.setOther=function(e){var t=new u;t.texture=e,this.other.spriteFrame=t},l.update=function(e){},t}(p)).prototype,"introLB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(_.prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"faceBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"other",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(_.prototype,"clickArea",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=_))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./LevelManager.ts","./EventManager.ts","./AudioMananger.ts","./GlobalData.ts"],(function(t){var i,e,n,o,a,l,r,s,c,u,h,d,_,p,f,E,S,v,b,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.Node,u=t.Animation,h=t.randomRangeInt,d=t.instantiate,_=t.Component},function(t){p=t.UserData},function(t){f=t.LevelManager},function(t){E=t.EventManager},function(t){S=t.AudioMananger},function(t){v=t.SkillType,b=t.TilePowerupTypes,m=t.AudioIDs}],execute:function(){var k,g,C,y,A,L,D,P,I,R,w,M,N;l._RF.push({},"a055dDgQPtFwaVgwgE0SyJv","SkillBoard",void 0);var T=r.ccclass,O=r.property;t("SkillBoard",(k=T("SkillBoard"),g=O(s),C=O(c),y=O(c),A=O(c),L=O(u),k((I=i((P=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return i=t.call.apply(t,[this].concat(a))||this,n(i,"SkillPrefab",I,o(i)),n(i,"board",R,o(i)),n(i,"content",w,o(i)),n(i,"blocker",M,o(i)),n(i,"animation",N,o(i)),i._list=[],i._removes=[],i._current=void 0,i}e(i,t);var l=i.prototype;return l.start=function(){this.content.setScale(.5,.5)},l.preload=function(){E.instance.on(E.SKILL_UPGRADE,this._onSkillUpgrade,this),E.instance.on(E.POWERUP_CREATED,this._onPowerupCreated,this),E.instance.on(E.ICE_CREATED,this._onIceCreated,this),E.instance.on(E.STONE_CREATED,this._onStoneCreated,this),E.instance.on(E.NEWLINE_MULTI_ADD,this._onNewLineMultiAdd,this),E.instance.on(E.NEWLINE_MULTI_ADD,this._onNewLineMultiAdd,this),E.instance.on(E.REMOVE_SKILL,this._onRemoveSkill,this)},l.init_new=function(){this._list=[0],this._removes=[]},l.restore=function(t,i){this._list=t,this._removes=i},l._onIceCreated=function(){this.addSkill(v.LIMIT_CHANCE),this.addSkill(v.LIMIT_STEP_CHANCE)},l._onStoneCreated=function(){this.addSkill(v.STONE_CHANCE)},l._onNewLineMultiAdd=function(){this.addSkill(v.NEW_LINE_REDUCE)},l._onPowerupCreated=function(t){var i;t==b.ERASE_ROWS?i=1:t==b.ERASE_COLS?i=2:t==b.EXPLODE?i=3:t==b.SAME_COLOR&&(i=4),this._removes.includes(i)||this.addSkill(i)},l.addSkill=function(t){-1==this._list.indexOf(t)&&this._list.push(t)},l.removeSkill=function(t){var i=this._list.indexOf(t);i>-1&&this._list.splice(i,1),this._removes.includes(t)||this._removes.push(t)},l._onRemoveSkill=function(t){this.removeSkill(t)},l.init_data=function(){f.instance.is_new_level=!1,this.board.removeAllChildren(),this._current=this._list.concat();for(var t=0;t<p.instance.skill_nums&&this._current.length>0;++t){var i=h(0,this._current.length),e=this._current.splice(i,1)[0],n=d(this.SkillPrefab).getComponent("Skill");n.type=e,this.board.addChild(n.node)}},l._onSkillUpgrade=function(){S.instance.playEffect(m.UPGRADE),this.popout()},l.popup=function(){this.init_data(),0!=this.board.children.length&&(this.blocker.active=!1,S.instance.playEffect(m.POPUP),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation"))},l.popout=function(){this.blocker.active=!0,this.animation.play("popout_animation")},l.hide=function(){this.node.active=!1},l.update=function(t){},a(i,[{key:"list",get:function(){return this._list}},{key:"removes",get:function(){return this._removes}}]),i}(_)).prototype,"SkillPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(P.prototype,"board",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(P.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(P.prototype,"blocker",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(P.prototype,"animation",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=P))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseCols.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(e){var t,n,s,a,c,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){s=e.ResourceManager},function(e){a=e.GlobalData,c=e.SkillType},function(e){o=e.EventManager}],execute:function(){t._RF.push({},"5a726ZTWmdIf62g5BH7+6sg","SkillEraseCols",void 0);e("SkillEraseCols",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加列消除道具的消除范围。\n当前：消除 "+n.instance.erase_cols+" 列\n升级：消除 "+(n.instance.erase_cols+1)+" 列")},t.setTitle=function(e){e.setTile("列消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=s.instance.getAsset("textures/icon_list/texture");e.setIcon(t)},t.upgrade=function(){n.instance.erase_cols+=1,n.instance.erase_cols>a.MAX_SKILL_ERASE_COL&&(n.instance.erase_cols=a.MAX_SKILL_ERASE_COL,o.instance.emit(o.REMOVE_SKILL,c.ERASE_COLS))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseRows.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(e){var t,n,s,a,r,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){s=e.ResourceManager},function(e){a=e.GlobalData,r=e.SkillType},function(e){o=e.EventManager}],execute:function(){t._RF.push({},"ff98eaAFgJLwZnbzptuM9Kw","SkillEraseRows",void 0);e("SkillEraseRows",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加行消除道具的消除范围。\n当前：消除 "+n.instance.erase_rows+" 行\n升级：消除 "+(n.instance.erase_rows+1)+" 行")},t.setTitle=function(e){e.setTile("行消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=s.instance.getAsset("textures/icon_line/texture");e.setIcon(t)},t.upgrade=function(){n.instance.erase_rows+=1,n.instance.erase_rows>a.MAX_SKILL_ERASE_ROW&&(n.instance.erase_rows=a.MAX_SKILL_ERASE_ROW,o.instance.emit(o.REMOVE_SKILL,r.ERASE_ROWS))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillExplode.ts",["cc","./UserData.ts","./ResourceManager.ts","./EventManager.ts","./GlobalData.ts"],(function(e){var t,n,o,s,c,a;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){o=e.ResourceManager},function(e){s=e.EventManager},function(e){c=e.GlobalData,a=e.SkillType}],execute:function(){t._RF.push({},"567df3erw9O2Kx4+Nij5mWO","SkillExplode",void 0);e("SkillExplode",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加炸弹道具的消除范围。\n当前：消除 "+n.instance.explodes+" 圈\n升级：消除 "+(n.instance.explodes+1)+" 圈")},t.setTitle=function(e){e.setTile("炸弹道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=o.instance.getAsset("textures/icon_bomb/texture");e.setIcon(t)},t.upgrade=function(){n.instance.explodes+=1,n.instance.explodes>c.MAX_SKILL_EXPLODE&&(n.instance.explodes=c.MAX_SKILL_EXPLODE,s.instance.emit(s.REMOVE_SKILL,a.EXPLODE))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UserData},function(t){i=t.ResourceManager},function(t){c=t.LevelManager}],execute:function(){n._RF.push({},"a9f208ix2pGNa8Kpu9FTEqi","SkillLimitChance",void 0);t("SkillLimitChance",function(){function t(){}var n=t.prototype;return n.setIntro=function(t){t.setIntro("出现冰块的几率减少。\n当前：出现几率为 "+100*e.instance.limit_discount+"%\n升级：出现几率为 "+.9*e.instance.limit_discount*100+"%")},n.setTitle=function(t){t.setTile("冰块几率减少升级")},n.setIcon=function(t){t.faceBG.node.active=!0,t.other.node.active=!1;var n=i.instance.getAsset("textures/obs_ice/texture");t.setIcon(n)},n.upgrade=function(){e.instance.limit_discount*=.9,c.instance.limit_chance*=e.instance.limit_discount},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitStepChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(t){var e,n,i,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UserData},function(t){i=t.ResourceManager},function(t){c=t.LevelManager}],execute:function(){e._RF.push({},"1b4b2gYK1ZEJZxKMC9C3BHY","SkillLimitStepChance",void 0);t("SkillLimitStepChance",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("减少消除冰块所需的步数。\n当前：减少的百分比为 "+100*n.instance.limit_step_discount+"%\n升级：减少的百分比为 "+.9*n.instance.limit_step_discount*100+"%")},e.setTitle=function(t){t.setTile("冰块步数减少升级")},e.setIcon=function(t){t.faceBG.node.active=!0,t.other.node.active=!1;var e=i.instance.getAsset("textures/skill_ice_step/texture");t.setIcon(e)},e.upgrade=function(){n.instance.limit_step_discount*=.9,c.instance.max_limit*=n.instance.limit_step_discount,c.instance.min_limit*=n.instance.limit_step_discount},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillNewLineReduce.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./LevelManager.ts","./EventManager.ts"],(function(e){var n,t,i,c,a,s,u;return{setters:[function(e){n=e.cclegacy},function(e){t=e.UserData},function(e){i=e.ResourceManager},function(e){c=e.GlobalData,a=e.SkillType},function(e){s=e.LevelManager},function(e){u=e.EventManager}],execute:function(){n._RF.push({},"02243ImRhJP8YivinAxf8hZ","SkillNewLineReduce",void 0);e("SkillNewLineReduce",function(){function e(){}var n=e.prototype;return n.setIntro=function(e){e.setIntro("减少每次消除后产生的新行次数。\n当前：每次减少 "+t.instance.new_line_reduce+" 行\n升级：每次减少 "+(t.instance.new_line_reduce+1)+" 行")},n.setTitle=function(e){e.setTile("新行次数减少升级")},n.setIcon=function(e){e.faceBG.node.active=!1,e.other.node.active=!0;var n=i.instance.getAsset("textures/skill_new_line/texture");e.setOther(n)},n.upgrade=function(){t.instance.new_line_reduce+=1,s.instance.new_line_nums-=t.instance.new_line_reduce,s.instance.new_line_nums<1&&(s.instance.new_line_nums=1),s.instance.new_line_nums-t.instance.new_line_reduce<=c.MIN_SKILL_NEWLINE&&u.instance.emit(u.REMOVE_SKILL,a.NEW_LINE_REDUCE)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillPowerupMin.ts",["cc","./UserData.ts","./ResourceManager.ts","./GlobalData.ts","./EventManager.ts"],(function(n){var e,t,i,a,o,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.UserData},function(n){i=n.ResourceManager},function(n){a=n.GlobalData,o=n.SkillType},function(n){r=n.EventManager}],execute:function(){e._RF.push({},"031f9WFitlFLavWKYOpR5Lt","SkillPowerupMin",void 0);n("SkillPowerupMin",function(){function n(){}var e=n.prototype;return e.setIntro=function(n){n.setIntro("产生道具所需要消除的方块数量。\n当前："+t.instance.powerup_min+"个方块\n升级："+(t.instance.powerup_min-1)+"个方块")},e.setTitle=function(n){n.setTile("道具产生升级")},e.setIcon=function(n){n.faceBG.node.active=!1,n.other.node.active=!0;var e=i.instance.getAsset("textures/skill_min/texture");n.setOther(e)},e.upgrade=function(){t.instance.powerup_min-=1,t.instance.powerup_min<a.MIN_SKILL_POWERUP_MIN&&(t.instance.powerup_min=a.MIN_SKILL_POWERUP_MIN,r.instance.emit(r.REMOVE_SKILL,o.NEW_LINE_REDUCE))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillProcesser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./GlobalData.ts"],(function(t){var i,n,e,l,s,o,c,u,S,r,_,a;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.SkillEraseCols},function(t){l=t.SkillEraseRows},function(t){s=t.SkillExplode},function(t){o=t.SkillLimitChance},function(t){c=t.SkillLimitStepChance},function(t){u=t.SkillNewLineReduce},function(t){S=t.SkillPowerupMin},function(t){r=t.SkillSameColor},function(t){_=t.SkillStoneChance},function(t){a=t.SkillType}],execute:function(){n._RF.push({},"125dabVd2RBro+9d0gxvp1K","SkillProcesser",void 0),t("SkillProcesser",function(){function t(){this._list={},this._list[a.POWERUP_MIN]=new S,this._list[a.ERASE_ROWS]=new l,this._list[a.ERASE_COLS]=new e,this._list[a.EXPLODE]=new s,this._list[a.SAME_COLOR]=new r,this._list[a.STONE_CHANCE]=new _,this._list[a.LIMIT_CHANCE]=new o,this._list[a.LIMIT_STEP_CHANCE]=new c,this._list[a.NEW_LINE_REDUCE]=new u}var n=t.prototype;return n.setIntro=function(t){this._list[t.type].setIntro(t)},n.setTitle=function(t){this._list[t.type].setTitle(t)},n.setIcon=function(t){this._list[t.type].setIcon(t)},n.upgrade=function(t){this._list[t.type].upgrade()},i(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillSameColor.ts",["cc","./UserData.ts","./ResourceManager.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserData},function(e){o=e.ResourceManager}],execute:function(){t._RF.push({},"c8ca9+neoFMA4xcmrZYXyFQ","SkillSameColor",void 0);e("SkillSameColor",function(){function e(){}var t=e.prototype;return t.setIntro=function(e){e.setIntro("增加同色消除道具的消除个数。\n当前：消除 "+n.instance.same_colors+" 个\n升级：消除 "+(n.instance.same_colors+1)+" 个")},t.setTitle=function(e){e.setTile("同色消除道具升级")},t.setIcon=function(e){e.faceBG.node.active=!0,e.other.node.active=!1;var t=o.instance.getAsset("textures/icon_same/texture");e.setIcon(t)},t.upgrade=function(){n.instance.same_colors+=1},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillStoneChance.ts",["cc","./UserData.ts","./ResourceManager.ts","./LevelManager.ts"],(function(n){var e,t,c,s;return{setters:[function(n){e=n.cclegacy},function(n){t=n.UserData},function(n){c=n.ResourceManager},function(n){s=n.LevelManager}],execute:function(){e._RF.push({},"0cba9/ElORPUb3JL9ImCfgl","SkillStoneChance",void 0);n("SkillStoneChance",function(){function n(){}var e=n.prototype;return e.setIntro=function(n){n.setIntro("出现石头的几率减少。\n当前：出现几率为 "+100*t.instance.stone_discount+"%\n升级：出现几率为 "+.9*t.instance.stone_discount*100+"%")},e.setTitle=function(n){n.setTile("石头几率减少升级")},e.setIcon=function(n){n.faceBG.node.active=!0,n.other.node.active=!1;var e=c.instance.getAsset("textures/obs_stone/texture");n.setIcon(e)},e.upgrade=function(){t.instance.stone_discount*=.9,s.instance.stone_chance*=t.instance.stone_discount},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SnowParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts"],(function(t){var e,n,r,i,o,a,c,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.ParticleSystem2D,l=t.Component},function(t){s=t.AudioMananger},function(t){u=t.AudioIDs}],execute:function(){var p,f,y,d,w;o._RF.push({},"d260eEqFMVAaLAcwmyBDq9a","SnowParticle",void 0);var g=a.ccclass,h=a.property;t("SnowParticle",(p=g("SnowParticle"),f=h(c),p((w=e((d=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"snow",w,i(e)),e}n(e,t);var o=e.prototype;return o.start=function(){s.instance.playEffect(u.ICE_BREAK)},o.update=function(t){},e}(l)).prototype,"snow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Sounds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,t,u,e,n,r,a,c,s,d;return{setters:[function(i){o=i.applyDecoratedDescriptor,t=i.inheritsLoose,u=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){n=i.cclegacy,r=i._decorator,a=i.AudioClip,c=i.AudioSource,s=i.tween,d=i.Component}],execute:function(){var l,p,f,h,b,g,A,y,k;n._RF.push({},"6a684ngGDhMW58aGfJtEdfj","Sounds",void 0);var v=r.ccclass,m=r.property;i("Sounds",(l=v("Sounds"),p=m({type:a}),f=m({type:c}),h=m({type:c}),l((A=o((g=function(i){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=i.call.apply(i,[this].concat(n))||this,u(o,"audios",A,e(o)),u(o,"backgroundAudio",y,e(o)),u(o,"effectAudio",k,e(o)),o}t(o,i);var n=o.prototype;return n.start=function(){this.backgroundAudio.loop=!0},n.setMusicClip=function(i){this.backgroundAudio.clip=this.audios[i]},n.setEffectClip=function(i){this.effectAudio.clip=this.audios[i]},n.playMusic=function(i,o){var t=this;if(void 0===o&&(o=!0),this.backgroundAudio.clip)if(this.backgroundAudio.playing){if(this.backgroundAudio.clip==this.audios[i])return;this.backgroundAudio.loop=o,s(this.backgroundAudio).to(.3,{volume:0}).call((function(){t.backgroundAudio.stop(),t.backgroundAudio.clip=t.audios[i],t.backgroundAudio.play(),s(t.backgroundAudio).to(.3,{volume:1}).start()})).start()}else this.backgroundAudio.loop=o,this.backgroundAudio.clip=this.audios[i],this.backgroundAudio.play()},n.playEffect=function(i){this.effectAudio.playOneShot(this.audios[i])},o}(d)).prototype,"audios",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(g.prototype,"backgroundAudio",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(g.prototype,"effectAudio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/StateBase.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"56945njGh1KmKj61HGWcpBM","StateBase",void 0);t("StateBase",function(){function t(){this.name=""}var e=t.prototype;return e.enter=function(){},e.exit=function(){},e.update=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"58aa419oZRA7rDDz5G0AJyx","StateMachine",void 0);t("StateMachine",function(){function t(t){this.states={},this._current=void 0,this._previous=void 0,this._owner=void 0,this._owner=t}var r=t.prototype;return r.setState=function(t,e){void 0===e&&(e=!1),(e||t!=this._current)&&(this._current&&this._current.exit(),this._previous=this._current,this._current=t,this._current.enter())},r.update=function(t){this._current&&this._current.update(t)},e(t,[{key:"owner",get:function(){return this._owner}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./EventManager.ts"],(function(t){var e,i,n,a,r,o,l,s,c,u,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Animation,s=t.Node,c=t.Label,u=t.Component},function(t){p=t.UserData},function(t){m=t.EventManager}],execute:function(){var f,b,g,h,B,L,y,_,v,x,S,d,z,E,w,C,D;r._RF.push({},"5a14fThA5RKzrUe+3kL8+T2","StatisticsPanel",void 0);var P=o.ccclass,T=o.property;t("StatisticsPanel",(f=P("StatisticsPanel"),b=T(l),g=T(s),h=T(c),B=T(c),L=T(c),y=T(c),_=T(s),f((S=e((x=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"animation",S,a(e)),n(e,"content",d,a(e)),n(e,"maxLevelLB",z,a(e)),n(e,"maxScoreLB",E,a(e)),n(e,"tileEraseLB",w,a(e)),n(e,"startGameCountLB",C,a(e)),n(e,"exitBtn",D,a(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.exitBtn.on(m.BASE_BUTTON_TOUCH_END,this._onExitBtnClick,this)},r._onExitBtnClick=function(){this.popout()},r.popup=function(){this.maxLevelLB.string=p.instance.max_level.toString(),this.maxScoreLB.string=p.instance.max_score.toString(),this.tileEraseLB.string=p.instance.erase_tiles.toString(),this.startGameCountLB.string=p.instance.start_game_count.toString(),this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},r.popout=function(){this.animation.play("popout_animation")},r.hide=function(){this.node.active=!1},r.update=function(t){},e}(u)).prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(x.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(x.prototype,"maxLevelLB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(x.prototype,"maxScoreLB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(x.prototype,"tileEraseLB",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(x.prototype,"startGameCountLB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(x.prototype,"exitBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=x))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./LevelManager.ts"],(function(s){var t,e,a,i,n;return{setters:[function(s){t=s.createClass},function(s){e=s.cclegacy,a=s.sys},function(s){i=s.UserData},function(s){n=s.LevelManager}],execute:function(){e._RF.push({},"841ecPvatJE66TsH4e704Tv","StorageDataManager",void 0),s("StorageDataManager",function(){function s(){this._data={},this._dataKey="poppit_data",this.remove=void 0}var e=s.prototype;return e.setData=function(s,t){this._data[s]=t,this.saveData()},e.saveProgress=function(s,t){this._data.progress||(this._data.progress={}),this._data.progress.score=i.instance.score,this._data.progress.level=i.instance.level,this._data.progress.stone_discount=i.instance.stone_discount,this._data.progress.limit_discount=i.instance.limit_discount,this._data.progress.limit_step_discount=i.instance.limit_step_discount,this._data.progress.powerup_min=i.instance.powerup_min,this._data.progress.new_line_reduce=i.instance.new_line_reduce,this._data.progress.erase_rows=i.instance.erase_rows,this._data.progress.erase_cols=i.instance.erase_cols,this._data.progress.explodes=i.instance.explodes,this._data.progress.same_colors=i.instance.same_colors,this._data.progress.tile_color_types=n.instance.tile_color_types,this._data.progress.init_row=n.instance.init_row,this._data.progress.stone_chance=n.instance.stone_chance,this._data.progress.limit_chance=n.instance.limit_chance,this._data.progress.max_limit=n.instance.max_limit,this._data.progress.min_limit=n.instance.min_limit,this._data.progress.new_line_nums=n.instance.new_line_nums,this._data.progress.skill_list=s,this._data.progress.skill_removes=t,this.saveData()},e.restoreProgress=function(s){i.instance.score=this._data.progress.score,i.instance.level=this._data.progress.level,n.instance.level_id=i.instance.level,i.instance.stone_discount=this._data.progress.stone_discount,i.instance.limit_discount=this._data.progress.limit_discount,i.instance.limit_step_discount=this._data.progress.limit_step_discount,i.instance.powerup_min=this._data.progress.powerup_min,i.instance.new_line_reduce=this._data.progress.new_line_reduce,i.instance.erase_rows=this._data.progress.erase_rows,i.instance.erase_cols=this._data.progress.erase_cols,i.instance.explodes=this._data.progress.explodes,i.instance.same_colors=this._data.progress.same_colors,n.instance.tile_color_types=this._data.progress.tile_color_types,n.instance.init_row=this._data.progress.init_row,n.instance.stone_chance=this._data.progress.stone_chance,n.instance.limit_chance=this._data.progress.limit_chance,n.instance.max_limit=this._data.progress.max_limit,n.instance.min_limit=this._data.progress.min_limit,n.instance.new_line_nums=this._data.progress.new_line_nums,s.restore(this._data.progress.skill_list,this._data.progress.skill_removes)},e.saveData=function(){a.localStorage.setItem(this._dataKey,JSON.stringify(this._data))},e.getData=function(s){return this._data[s]},e.loadData=function(){var s=a.localStorage.getItem(this._dataKey);this._data=JSON.parse(s),null==this._data&&(this._data={tutorials:[!1,!1,!1,!1,!1,!1,!1,!1,!1],progress:null})},e.removeData=function(s){a.localStorage.removeItem(s)},e.clear=function(){a.localStorage.clear()},t(s,null,[{key:"instance",get:function(){return s._instance||(s._instance=new s),s._instance}}]),s}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./TileStateNormal.ts","./TileStateEnter.ts","./GlobalData.ts","./EventManager.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts","./ResourceManager.ts","./TileStateDie.ts"],(function(e){var t,i,n,s,a,o,r,c,l,h,u,p,f,w,S,m,T,d,g,v,P,b,k,M,_,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Sprite,c=e.Animation,l=e.Node,h=e.NodeEventType,u=e.SpriteFrame,p=e.randomRange,f=e.Component},function(e){w=e.StateMachine},function(e){S=e.TileStateNormal},function(e){m=e.TileStateEnter},function(e){T=e.TileType,d=e.TileColorTypes,g=e.TilePowerupTypes,v=e.GlobalData},function(e){P=e.EventManager},function(e){b=e.TileStateRemove},function(e){k=e.TileStateMoveToDest},function(e){M=e.PowerupProcessor},function(e){_=e.ResourceManager},function(e){y=e.TileStateDie}],execute:function(){var F,C,E,R,A,N,z,D,x,L,I,H,O,U,B,G,J,W,j;a._RF.push({},"7d4a1U9CWRB7JRJJj4nxlYY","Tile",void 0);var K=o.ccclass,Y=o.property;e("Tile",(F=K("Tile"),C=Y(r),E=Y(r),R=Y(r),A=Y(r),N=Y(r),z=Y(r),D=Y(c),x=Y(l),F((H=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"face",H,s(t)),n(t,"die",O,s(t)),n(t,"clickArea",U,s(t)),n(t,"stepsSP",B,s(t)),n(t,"stepFrame",G,s(t)),n(t,"powerup",J,s(t)),n(t,"animation",W,s(t)),n(t,"content",j,s(t)),t.row=0,t.col=0,t.type=T.NORMAL,t.steps=0,t.colorType=d.BLACK,t.powerupType=g.NORMAL,t.moveTarget=null,t.shakeSnowPos=void 0,t.shakeSnowCount=30,t.startSnowShaking=!1,t._stateMachine=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){this.clickArea.node.on(h.TOUCH_START,this.onTileClick,this)},a.preload=function(){this._stateMachine=new w(this),this._stateMachine.states[S.stateName]=new S(this._stateMachine),this._stateMachine.states[m.stateName]=new m(this._stateMachine),this._stateMachine.states[b.stateName]=new b(this._stateMachine),this._stateMachine.states[k.stateName]=new k(this._stateMachine),this._stateMachine.states[y.stateName]=new y(this._stateMachine)},a.changeState=function(e){var t=this._stateMachine.states[e];this._stateMachine.setState(t)},a.setClickable=function(e){this.clickArea.node.active=!!e},a.onTileClick=function(){P.instance.emit(P.TILE_CLICK,this)},a.setSteps=function(){var e=new u;e.texture=_.instance.getAsset("textures/obs_ice_"+this.steps+"/texture"),this.stepsSP.spriteFrame=e,0==this.steps?(this.stepsSP.node.active=!1,this.stepFrame.node.active=!1,this.stepFrame.node.removeFromParent(),this.stepsSP.node.removeFromParent()):(this.stepsSP.node.active=!0,this.stepFrame.node.active=!0,this.setSnowShake())},a.setSnowShake=function(){this.shakeSnowPos=this.stepFrame.node.getPosition(),this.shakeSnowCount=30},a.shaking=function(){if(this.startSnowShaking&&0!=this.steps&&this.stepFrame.node.active)if(this.shakeSnowCount>0){var e=p(-3,3),t=p(-3,3),i=p(-2,2);this.stepFrame.node.setPosition(this.shakeSnowPos.x+e,this.shakeSnowPos.y+t),this.stepFrame.node.angle=i,--this.shakeSnowCount}else this.startSnowShaking=!1,this.shakeSnowCount=30,this.stepFrame.node.setPosition(this.shakeSnowPos),this.stepFrame.node.angle=0},a.setColor=function(e){this.face.color=e},a.changeToPowerup=function(){M.instance.setFace(this)},a.setPowerup=function(e){var t=new u;t.texture=e,this.powerup.spriteFrame=t},a.setFace=function(e){var t=new u;t.texture=e,this.face.spriteFrame=t},a.executePowerup=function(){P.instance.emit(P.EXECUTE_POWERUP,this)},a.setPos=function(){this.node.setPosition(this.col*v.TILE_WIDTH,this.row*v.TILE_HEIGHT)},a.toString=function(){return"[Tile("+this.row+", "+this.col+")]"},a.update=function(e){this.shaking()},t}(f)).prototype,"face",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(I.prototype,"die",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(I.prototype,"clickArea",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(I.prototype,"stepsSP",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(I.prototype,"stepFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(I.prototype,"powerup",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(I.prototype,"animation",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(I.prototype,"content",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateDie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GlobalData.ts","./StateBase.ts"],(function(e){var t,n,i,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.EventManager},function(e){a=e.GlobalData},function(e){o=e.StateBase}],execute:function(){n._RF.push({},"30bd225kxRH8b3OUw89kHq9","TileStateDie",void 0),e("TileStateDie",function(e){function n(t){var n;return(n=e.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=t,n._owner=t.owner,n}t(n,e);var o=n.prototype;return o.enter=function(){var e=this;this._owner.setClickable(!1),this._owner.scheduleOnce((function(){e._owner.face.node.active=!1,e._owner.die.node.active=!0,i.instance.emit(i.TILE_DEAD)}),.1*(a.ROWS-this._owner.row))},o.exit=function(){},o.update=function(e){},n}(o)).stateName="TileStateDie",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts"],(function(e){var n,t,i,o,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Animation},function(e){o=e.StateBase},function(e){a=e.EventManager}],execute:function(){t._RF.push({},"e8003g4SB5IbbzvGb8jQdy0","TileStateEnter",void 0),e("TileStateEnter",function(e){function t(n){var t;return(t=e.call(this)||this)._stateMachine=void 0,t._owner=void 0,t._stateMachine=n,t._owner=n.owner,t}n(t,e);var o=t.prototype;return o.enter=function(){var e=this;this._owner.setClickable(!1),this._owner.face.node.active=!0,this._owner.die.node.active=!1,this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){e._owner.animation.on(i.EventType.FINISHED,e._onAnimationFinished,e),e._owner.animation.play("tile_enter_animation")}),.2*(this._owner.row+1))},o.exit=function(){},o.update=function(e){},o._onAnimationFinished=function(e,n){this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),a.instance.emit(a.TILE_ENTERED)},t}(o)).stateName="TileStateEnter",t._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateMoveToDest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./GlobalData.ts","./EventManager.ts"],(function(t){var e,n,o,i,s,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.tween,i=t.Vec3},function(t){s=t.StateBase},function(t){a=t.GlobalData},function(t){c=t.EventManager}],execute:function(){n._RF.push({},"0dc3d5dUjlPhoNvVXWzmg/g","TileStateMoveToDest",void 0),t("TileStateMoveToDest",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._dest=new i,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var s=n.prototype;return s.enter=function(){this._dest.x=this._owner.col*a.TILE_WIDTH,this._dest.y=this._owner.row*a.TILE_HEIGHT,o(this._owner.node).to(.5,{position:this._dest},{easing:"bounceOut"}).call((function(){c.instance.emit(c.TILE_MOVE_TO_DEST)})).start()},s.exit=function(){},s.update=function(t){},n}(s)).stateName="TileStateMoveToDest",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.StateBase}],execute:function(){n._RF.push({},"2d57cVZ1XhPzacFindpwhew","TileStateNormal",void 0),t("TileStateNormal",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var i=n.prototype;return i.enter=function(){this._owner.setClickable(!0)},i.exit=function(){},i.update=function(t){},n}(i)).stateName="TileStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateRemove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts","./GlobalData.ts","./TileStateNormal.ts","./UserData.ts"],(function(e){var t,n,i,o,a,s,r,_,l,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Animation,o=e.tween,a=e.Vec3},function(e){s=e.StateBase},function(e){r=e.EventManager},function(e){_=e.GlobalData},function(e){l=e.TileStateNormal},function(e){h=e.UserData}],execute:function(){n._RF.push({},"b0ec1s8ijlLgbrK8C2lsxxJ","TileStateRemove",void 0),e("TileStateRemove",function(e){function n(t){var n;return(n=e.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=t,n._owner=t.owner,n}t(n,e);var s=n.prototype;return s.enter=function(){var e=this;if(this._owner.setClickable(!1),this._owner.steps>0)return this._owner.steps-=1,this._owner.setSteps(),this._owner.startSnowShaking=!0,this._owner.changeState(l.stateName),void r.instance.emit(r.SNOW_EFFECT,this._owner.node.getWorldPosition());if(++h.instance.erase_tiles,null==this._owner.moveTarget)0==this._owner.powerupType?(this._owner.animation.play("tile_normal_remove_animation"),r.instance.emit(r.TILE_NORMAL_REMOVE,this._owner)):this._owner.animation.play("tile_powerup_remove_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this);else if(this._owner.moveTarget!=this._owner){var t=o(this._owner.node).to(.3,{position:this._owner.moveTarget.node.position}),n=o(this._owner.node).to(.3,{scale:new a(0,0,0)}),s=o(this._owner.node).to(.3,{angle:360});o(this._owner.node).parallel(t,n,s).call((function(){e._owner.moveTarget=null,e._owner.node.removeFromParent(),h.instance.score+=_.TILE_SCORE,h.instance.progress+=_.TILE_SCORE,r.instance.emit(r.TILE_REMOVED)})).start()}else this._owner.moveTarget=null,this._owner.animation.play("tile_powerup_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this)},s.exit=function(){},s.update=function(e){},s._onAnimationFinished=function(e,t){"tile_powerup_animation"!=t.name&&(this._owner.node.removeFromParent(),h.instance.score+=_.TILE_SCORE,h.instance.progress+=_.TILE_SCORE),this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),r.instance.emit(r.TILE_REMOVED)},n}(s)).stateName="TileStateRemove",n._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r,s,o,a,l,c,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Label,l=t.randomRangeInt,c=t.Color,p=t.tween,u=t.Component}],execute:function(){var h,f,g,y,d;s._RF.push({},"43f4cXH01VFgIx2EYqAx0yu","Tips",void 0);var v=o.ccclass,T=o.property;t("Tips",(h=v("Tips"),f=T(a),h((d=i((y=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,e(i,"tips",d,r(i)),i._list=[],i}n(i,t);var s=i.prototype;return s.start=function(){this._list.push("闯关失败后进度会清空哦！","游戏菜单有个数据统计会显示一些你玩过的数据。","休闲模式道具不会升级。","闯关模式每一关都会保存一下进度哦！","每消除一次就会新增一行哦，后面的关卡还会增加多行。","炸弹道具级别越高，爆炸的效果越激烈！","如果消除的方块中包含了道具方块，则这次消除不会产生道具哦！","方块到达顶端时，会出现红色的警告框。","听说在一次消除超多方块后会出现鼓掌欢呼的声音。","闯关失败后所有的猫猫都可怜的看着你...","行消除道具曾多次拯救过游戏哦。","游戏里总共有6种颜色的猫猫哦。","据说能达到100关的人不超过0.01%！","想要无敌吗？多升级《产生道具技能》吧！","只点击一个方块，也可以消除哦！","你问游戏加载界面中那个美少女是谁？我也不知道。","消除的越多，猫爪子就舞动的越欢快哦！","石头方块只能用道具消除哦！应该尽快消除它们！","为什么方块的形状是小猫？当然是因为可爱啦~","试一下多个道具一起消除，超刺激的哦！","砰！砰！砰！，喵~喵~喵~","超过50关已经是高手了！但是只有传奇才能达到100关！","小猫为什么会躲在冰块里？可能它想体验冬眠的感觉。","设置界面里面可以调节音量，也可以返回到主菜单哦！","点击设置按钮可以进入设置界面哦！","希望大家多多支持这个游戏！有什么建议可以留言哦~","总是弄混冰块步数升级和产生冰块升级，怎么办？","每种颜色的猫猫都有一个名字哦！","红色的猫猫叫番茄。","橙色的猫猫叫南瓜。","黄色的猫猫叫土豆。","绿色的猫猫叫韭菜。","蓝色的猫猫叫萝卜。","紫色的猫猫叫茄子。","听说猫咪有九条命？","列消除道具和行消除道具经常争论谁更厉害。","同色消除道具可以让其它颜色的方块堆叠在一起。","红色警报亮起时表示下一次新增的方块将会使游戏结束！"),this.showTips()},s.showTips=function(){var t=this,i=this.tips;this.tips.string=this._list[l(0,this._list.length)];var n=new c(255,255,255,0);p(n).to(1,{r:255,g:255,b:255,a:255},{easing:"linear",onUpdate:function(t){i.color=t}}).delay(20).to(1,{r:255,g:255,b:255,a:0},{easing:"linear",onUpdate:function(t){i.color=t}}).call((function(){t.showTips()})).start()},s.update=function(t){},i}(u)).prototype,"tips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/Trace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./AudioMananger.ts"],(function(e){var t,n,r,a,o,i,c,s,u,l,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.tween,u=e.Vec3,l=e.Color,p=e.Component},function(e){f=e.AudioIDs},function(e){d=e.AudioMananger}],execute:function(){var g,h,v,y,b;o._RF.push({},"3c520rDfg5LRZMXWJwUIgQ8","Trace",void 0);var w=i.ccclass,D=i.property;e("Trace",(g=w("Trace"),h=D(c),g((b=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"face",b,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;d.instance.playEffect(f.ERASE_EFFCT),this.node.setScale(1.5,.1),s(this.node).to(.5,{scale:new u(1.5,5,1)},{easing:"quintOut"}).start();var t=this.face,n=new l(255,255,255,255);s(n).to(.8,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(e){t.color=e}}).call((function(){e.node.removeFromParent()})).start()},o.update=function(e){},t}(p)).prototype,"face",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/TraceColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts"],(function(t){var e,r,n,o,a,i,s,c,l,u,f,p,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.UITransform,l=t.tween,u=t.Vec3,f=t.Color,p=t.Component},function(t){h=t.AudioMananger},function(t){d=t.AudioIDs}],execute:function(){var g,v,y,b,m,w,C;a._RF.push({},"466abZtSIhOao2iBA7DuJu2","TraceColor",void 0);var D=i.ccclass,T=i.property;t("TraceColor",(g=D("TraceColor"),v=T(s),y=T(c),g((w=e((m=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,n(e,"face",w,o(e)),n(e,"transform",C,o(e)),e.source=void 0,e.dest=void 0,e}r(e,t);var a=e.prototype;return a.start=function(){var t=this;h.instance.playEffect(d.SOO);var e=this.dest.subtract(this.source),r=e.length()/this.transform.height*1.5,n=180*Math.atan2(e.y,e.x)/Math.PI-90;this.node.angle=n,this.node.setScale(1.5,.1),l(this.node).to(.5,{scale:new u(1.5,r,1)},{easing:"quintOut"}).start();var o=this.face,a=new f(255,255,255,255);l(a).to(1,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(t){o.color=t}}).call((function(){t.node.removeFromParent()})).start()},a.setPos=function(t,e){this.source=t,this.dest=e},a.update=function(t){},e}(p)).prototype,"face",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"transform",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/TraceExplode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./AudioMananger.ts","./GlobalData.ts"],(function(e){var t,n,a,i,o,s,r,h,c,l,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Animation,h=e.randomRange,c=e.Component},function(e){l=e.UserData},function(e){u=e.AudioMananger},function(e){d=e.AudioIDs}],execute:function(){var p,f,k,g,m;o._RF.push({},"f9146XKAY5N75GSdl3g6P1D","TraceExplode",void 0);var v=s.ccclass,y=s.property;e("TraceExplode",(p=v("TraceExplode"),f=y(r),p((m=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,a(t,"animation",m,i(t)),t.shakeNode=void 0,t.shakePos=void 0,t.shakeCount=30,t}n(t,e);var o=t.prototype;return o.start=function(){u.instance.playEffect(d.STONE_BREAK);var e=1.5*l.instance.explodes;this.node.setScale(e,e),this.animation.play("explode.animation")},o.setShake=function(e){this.shakeNode=e,this.shakePos=this.shakeNode.getPosition().clone()},o.shaking=function(){if(this.shakeCount>0){var e=Math.min(1,l.instance.explodes/5),t=h(-20*e,20*e),n=h(-20*e,20*e),a=h(-5*e,5*e);this.shakeNode.setPosition(this.shakePos.x+t,this.shakePos.y+n),this.shakeNode.angle=a,--this.shakeCount}else this.shakeNode.setPosition(this.shakePos.clone()),this.shakeNode.angle=0,this.node.removeFromParent()},o.update=function(e){this.shaking()},t}(c)).prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=g))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/TraceRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./AudioMananger.ts"],(function(e){var t,n,r,o,a,i,c,s,u,l,p,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.tween,u=e.Vec3,l=e.Color,p=e.Component},function(e){f=e.AudioIDs},function(e){d=e.AudioMananger}],execute:function(){var h,g,v,y,w;a._RF.push({},"06fb6MuiKtDfKJ1zpVNk3CF","TraceRow",void 0);var b=i.ccclass,R=i.property;e("TraceRow",(h=b("TraceRow"),g=R(c),h((w=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"face",w,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;d.instance.playEffect(f.ERASE_EFFCT),this.node.angle=90,this.node.setScale(1.5,.1),s(this.node).to(.5,{scale:new u(1.5,5,1)},{easing:"quintOut"}).start();var t=this.face,n=new l(255,255,255,255);s(n).to(.8,{r:255,g:255,b:255,a:0},{easing:"quintOut",onUpdate:function(e){t.color=e}}).call((function(){e.node.removeFromParent()})).start()},a.update=function(e){},t}(p)).prototype,"face",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/Tutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./EventManager.ts","./AudioMananger.ts","./StorageDataManager.ts"],(function(t){var e,i,o,n,a,l,s,r,c,h,_,u,p,E,m,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){l=t.cclegacy,s=t._decorator,r=t.Animation,c=t.Node,h=t.log,_=t.Component},function(t){u=t.TutorialSteps,p=t.AudioIDs},function(t){E=t.EventManager},function(t){m=t.AudioMananger},function(t){O=t.StorageDataManager}],execute:function(){var T,S,d,g,I,f,L,R,N,y,B;l._RF.push({},"15c35UmLGNLuZzB2XdQrTeQ","Tutorial",void 0);var C=s.ccclass,P=s.property;t("Tutorial",(T=C("Tutorial"),S=P(r),d=P(c),g=P(c),I=P(c),T((R=e((L=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,o(e,"animation",R,n(e)),o(e,"background",N,n(e)),o(e,"content",y,n(e)),o(e,"exitBtn",B,n(e)),e._list=[],e._complete=[],e.curtStep=-1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){0==this._complete.length&&(h("load completed..."),this._complete[u.ICE_TILE]=!1,this._complete[u.STONE_TILE]=!1,this._complete[u.INTRO_PLAY]=!1,this._complete[u.INTRO_NEW_LINE]=!1,this._complete[u.INTRO_GAME_OVER]=!1,this._complete[u.ERASE_COLS]=!1,this._complete[u.ERASE_ROWS]=!1,this._complete[u.BOMB]=!1,this._complete[u.SAME_COLOR]=!1)},l.start=function(){this._list[u.ICE_TILE]=this.content.getChildByPath("IceTile"),this._list[u.STONE_TILE]=this.content.getChildByPath("StoneTile"),this._list[u.INTRO_PLAY]=this.content.getChildByPath("IntroPlay"),this._list[u.INTRO_NEW_LINE]=this.content.getChildByPath("IntroNewLine"),this._list[u.INTRO_GAME_OVER]=this.content.getChildByPath("IntroGameOver"),this._list[u.ERASE_COLS]=this.content.getChildByPath("EraseColPowerup"),this._list[u.ERASE_ROWS]=this.content.getChildByPath("EraseRowPowerup"),this._list[u.BOMB]=this.content.getChildByPath("BombPowerup"),this._list[u.SAME_COLOR]=this.content.getChildByPath("SameColorPowerup"),this.exitBtn.on(E.BASE_BUTTON_TOUCH_END,this._onExitTutorial,this),E.instance.on(E.SHOW_TUTORIAL,this._onShowTutorial,this)},l.setCompleted=function(t){h("set completed..."),this._complete=t},l._onShowTutorial=function(t){if(this._checkStep(t)){this.curtStep=t,m.instance.playEffect(p.POPUP),this.background.active=!0,this.exitBtn.active=!0;for(var e,i=a(this._list);!(e=i()).done;){e.value.active=!1}this._list[t].active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")}},l._checkStep=function(t){return!this._complete[t]&&(!!(t!=u.ERASE_COLS&&t!=u.ERASE_ROWS&&t!=u.BOMB&&t!=u.SAME_COLOR&&t!=u.STONE_TILE&&t!=u.ICE_TILE||this._complete[u.INTRO_PLAY]&&this._complete[u.INTRO_NEW_LINE])&&!(t==u.INTRO_NEW_LINE&&!this._complete[u.INTRO_PLAY]))},l.hide=function(){for(var t,e=a(this._list);!(t=e()).done;){t.value.active=!1}this.background.active=!1,this.exitBtn.active=!1,this._complete[this.curtStep]=!0,O.instance.setData("tutorials",this._complete),this.curtStep=-1},l._onExitTutorial=function(){this.animation.play("popout_animation")},e}(_)).prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(L.prototype,"background",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(L.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(L.prototype,"exitBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=L))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/TypeProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts"],(function(e){var t,n,c,o;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,c=e.Color},function(e){o=e.TileType}],execute:function(){n._RF.push({},"e8e19QxfPBBWK/o7KpPXcUk","TypeProcessor",void 0),e("TypeProcessor",function(){function e(){this._list={}}return e.prototype.executeDot=function(e){switch(e.type){case o.STONE:e.setColor(c.BLACK)}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/TypeSteps.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d5a63o9B9MGLUgrbVX+nV1","TypeSteps",void 0);e("TypeSteps",function(){function e(){}return e.prototype.execute=function(e){},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TypeStone.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b3a8b9OPHhLvapEx3ItjMD3","TypeStone",void 0);t("TypeStone",function(){function t(){}return t.prototype.execute=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./StorageDataManager.ts","./EventManager.ts"],(function(t){var s,e,i,n,_;return{setters:[function(t){s=t.createClass},function(t){e=t.cclegacy},function(t){i=t.LevelManager},function(t){n=t.StorageDataManager},function(t){_=t.EventManager}],execute:function(){e._RF.push({},"d669aQQT61C7JDs4AhngiQd","UserData",void 0),t("UserData",function(){function t(){this._score=0,this._progress=0,this._level=0,this.stone_discount=0,this.limit_discount=0,this.limit_step_discount=0,this.powerup_min=0,this.match_min=0,this.new_line_reduce=0,this.erase_rows=0,this.erase_cols=0,this.explodes=0,this.same_colors=0,this.skill_nums=2,this.is_music_on=!0,this.is_sound_on=!0,this._max_score=0,this._max_level=0,this._start_game_count=0,this._erase_tiles=0}var e=t.prototype;return e.init_data=function(){this._score=0,this._level=0,this._progress=0,this.stone_discount=0,this.limit_discount=0,this.limit_step_discount=0,this.powerup_min=15,this.match_min=1,this.erase_rows=1,this.erase_cols=1,this.explodes=1,this.same_colors=5},e.init_normal_data=function(){this._score=0,this._level=0,this._progress=0,this.stone_discount=0,this.limit_discount=0,this.limit_step_discount=0,this.powerup_min=4,this.match_min=1,this.erase_rows=4,this.erase_cols=4,this.explodes=4,this.same_colors=12},s(t,[{key:"score",get:function(){return this._score},set:function(t){this._score=t,this._score>this._max_score&&(this.max_score=this._score),_.instance.emit(_.SCORE_CHANGE)}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this._progress>i.instance.total_score&&(this._progress=i.instance.total_score),_.instance.emit(_.PROGRESS_CHANGE)}},{key:"level",get:function(){return this._level},set:function(t){this._level=t,this._level>this._max_level&&(this.max_level=this._level),_.instance.emit(_.LEVEL_CHANGE)}},{key:"max_score",get:function(){return this._max_score},set:function(t){t>this._max_score&&(this._max_score=t,n.instance.setData("max_score",t))}},{key:"max_level",get:function(){return this._max_level},set:function(t){t>this._max_level&&(this._max_level=t,n.instance.setData("max_level",t))}},{key:"start_game_count",get:function(){return this._start_game_count},set:function(t){t>this._start_game_count&&(this._start_game_count=t,n.instance.setData("start_game_count",t))}},{key:"erase_tiles",get:function(){return this._erase_tiles},set:function(t){t>this._erase_tiles&&(this._erase_tiles=t,n.instance.setData("erase_tiles",t))}}],[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Warnning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMananger.ts","./GlobalData.ts"],(function(n){var i,t,a,e,o,r,c,s,u,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,c=n.Animation,s=n.Component},function(n){u=n.AudioMananger},function(n){l=n.AudioIDs}],execute:function(){var p,f,h,d,g;o._RF.push({},"29336b9NahDbKgB+zO4obC3","Warnning",void 0);var y=r.ccclass,v=r.property;n("Warnning",(p=y("Warnning"),f=v(c),p((g=i((d=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=n.call.apply(n,[this].concat(o))||this,a(i,"animation",g,e(i)),i}t(i,n);var o=i.prototype;return o.start=function(){},o.show=function(){u.instance.playEffect(l.WARNNING),this.node.active||(this.node.active=!0,this.animation.play("warnning_animation"))},o.hide=function(){this.node.active=!1},o.update=function(n){},i}(s)).prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});