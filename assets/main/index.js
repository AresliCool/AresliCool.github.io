System.register("chunks:///_virtual/ColorProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts"],(function(t){"use strict";var e,s,n,o;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.Color},function(t){o=t.TileColorTypes}],execute:function(){s._RF.push({},"353e9wqvT9FVIbu685FhHca","ColorProcessor",void 0),t("ColorProcessor",function(){function t(){this._list={},this._list[o.BLACK]=new n("000000"),this._list[o.RED]=new n("ff317a"),this._list[o.YELLOW]=new n("f4c138"),this._list[o.BLUE]=new n("84f054"),this._list[o.GREEN]=new n("2f9bff"),this._list[o.PURPLE]=new n("983dff")}var s=t.prototype;return s.execute=function(t){t.setColor(this._list[t.colorType])},s.executeDot=function(t){t.setColor(this._list[t.colorType])},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Dot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./DotStateNormal.ts","./DotStateEnter.ts","./GlobalData.ts"],(function(t){"use strict";var e,i,n,o,a,s,c,r,l,u,h,f,p,D,_,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.Sprite,r=t.Animation,l=t.Node,u=t.NodeEventType,h=t.log,f=t.Component},function(t){p=t.StateMachine},function(t){D=t.DotStateNormal},function(t){_=t.DotStateEnter},function(t){b=t.GlobalData}],execute:function(){var d,y,S,m,M,T,v,g,k;a._RF.push({},"fe607DtkS1PTIUi3b0kX1Mo","Dot",void 0);var C=s.ccclass,w=s.property;t("Dot",(d=C("Dot"),y=w(c),S=w(r),m=w(l),d((v=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"face",v,o(e)),n(e,"animation",g,o(e)),n(e,"content",k,o(e)),e.type=0,e.colorType=0,e.col=0,e.steps=0,e._stateMachine=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){},a.preload=function(){this._stateMachine=new p(this),this._stateMachine.states[D.stateName]=new D(this._stateMachine),this._stateMachine.states[_.stateName]=new _(this._stateMachine)},a.changeState=function(t){var e=this._stateMachine.states[t];this._stateMachine.setState(e)},a.setClickable=function(t){t?this.face.node.on(u.TOUCH_START,this.onDotClick,this):this.face.node.off(u.TOUCH_START,this.onDotClick,this)},a.setPos=function(){this.node.setPosition(this.col*b.TILE_WIDTH,0)},a.setColor=function(t){this.face.color=t},a.onDotClick=function(){h("Dot clicked...")},a.update=function(t){},e}(f)).prototype,"face",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(T.prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(T.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=T))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/Dots.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorProcessor.ts","./DotStateEnter.ts","./GlobalData.ts","./LevelManager.ts"],(function(t){"use strict";var e,n,o,i,a,r,s,c,l,p,u,f,h,y,D,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.instantiate,l=t.randomRange,p=t.randomRangeInt,u=t.Component},function(t){f=t.ColorProcessor},function(t){h=t.DotStateEnter},function(t){y=t.GlobalData,D=t.TileType,d=t.TileColorTypes},function(t){m=t.LevelManager}],execute:function(){var g,v,_,b,P;a._RF.push({},"11fd0DPQl9Ira4AXt9EfV9b","Dots",void 0);var C=r.ccclass,L=r.property;t("Dots",(g=C("Dots"),v=L(s),g((P=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"DotPrefab",P,i(e)),e.list=[],e}n(e,t);var a=e.prototype;return a.start=function(){},a.clearList=function(){for(;this.list.length>0;){this.list.pop().node.removeFromParent()}},a.createDots=function(){this.clearList();for(var t=0;t<y.COLS;++t){var e=c(this.DotPrefab).getComponent("Dot");if(e.preload(),this.node.addChild(e.node),e.node.setScale(0,0),e.col=t,e.setPos(),m.instance.stone_chance>0)l(0,1)<m.instance.stone_chance&&(e.type=1);if(0==e.type)if(m.instance.limit_chance>0)l(0,1)<m.instance.limit_chance&&(e.type=2,e.steps=p(m.instance.min_limit,m.instance.max_limit+1));e.type==D.STONE?e.colorType=d.BLACK:e.colorType=p(1,m.instance.tile_color_types+1),f.instance.executeDot(e),this.list.push(e),e.changeState(h.stateName)}},a.update=function(t){},e}(u)).prototype,"DotPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=b))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"20a7c23W9BL7LKNVzIRYE9n","DotStateEnter",void 0),t("DotStateEnter",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){var t=this;this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){t._owner.animation.play("dot_enter_animation")}),.2)},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateEnter",n._RF.pop()}}}));

System.register("chunks:///_virtual/DotStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.StateBase}],execute:function(){n._RF.push({},"674f8yVcg1Dh4Qtgx6v2d77","DotStateNormal",void 0),t("DotStateNormal",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var o=n.prototype;return o.enter=function(){},o.exit=function(){},o.update=function(t){},n}(o)).stateName="DotStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(E){"use strict";var t,e,n;return{setters:[function(E){t=E.createClass},function(E){e=E.cclegacy,n=E.EventTarget}],execute:function(){e._RF.push({},"ade77tgTfxD97CQiyRrnk2X","EventManager",void 0);var _=E("EventManager",function(){function E(){this.on=void 0,this.off=void 0,this.emit=void 0,this._event=void 0,this._event=new n,this.on=this._event.on.bind(this._event),this.off=this._event.off.bind(this._event),this.emit=this._event.emit.bind(this._event)}return t(E,null,[{key:"instance",get:function(){return E._instance||(E._instance=new E),E._instance}}]),E}());_._instance=null,_.TILE_ENTERED="TILE_ENTERED",_.TILE_CLICK="TILE_CLICK",_.TILE_REMOVED="TILE_REMOVED",_.TILE_MOVE_TO_DEST="TILE_MOVE_TO_DEST",_.ALL_TILE_TO_DEST="ALL_TILE_TO_DEST",_.EXECUTE_POWERUP="EXECUTE_POWERUP",_.NEW_LINE_END="NEW_LINE_END",_.GAME_REPLAY="GAME_REPLAY",_.SCORE_CHANGE="SCORE_CHANGE",_.PROGRESS_CHANGE="PROGRESS_CHANGE",_.LEVEL_CHANGE="LEVEL_CHANGE",_.NEW_LEVEL="NEW_LEVEL",_.SKILL_UPGRADE="SKILL_UPGRADE",e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o,a,c,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Button,l=e.NodeEventType,u=e.director,s=e.Component}],execute:function(){var p,y,f,h,d;o._RF.push({},"e946eQX9qVL9Iy0hbZ3FyUC","GameMenu",void 0);var m=a.ccclass,v=a.property;e("GameMenu",(p=m("GameMenu"),y=v(c),p((d=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"playBtn",d,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.playBtn.node.on(l.TOUCH_END,this._onPlayBtnClick,this)},o._onPlayBtnClick=function(){u.loadScene("GamePlay")},o.update=function(e){},t}(s)).prototype,"playBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var n,e,i,o,a,r,c,l,p,u,s,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Button,l=t.Animation,p=t.Node,u=t.NodeEventType,s=t.Component},function(t){y=t.EventManager}],execute:function(){var f,h,m,v,b,d,g,_,B;a._RF.push({},"11a55Sg01NOubb0mqCHyQob","GameOver",void 0);var E=r.ccclass,O=r.property;t("GameOver",(f=E("GameOver"),h=O(c),m=O(l),v=O(p),f((g=n((d=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"replayBtn",g,o(n)),i(n,"animation",_,o(n)),i(n,"content",B,o(n)),n}e(n,t);var a=n.prototype;return a.start=function(){this.content.setScale(.5,.5),this.replayBtn.node.on(u.TOUCH_END,this._onReplayBtnClick,this)},a._onReplayBtnClick=function(){this.popout()},a.popup=function(){this.node.active=!0,this.content.setScale(.5,.5),this.animation.play("popup_animation")},a.popout=function(){this.animation.play("popout_animation")},a.hide=function(){this.node.active=!1,y.instance.emit(y.GAME_REPLAY)},a.update=function(t){},n}(s)).prototype,"replayBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(d.prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(d.prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dots.ts","./Map.ts","./EventManager.ts","./LevelManager.ts","./GameOver.ts","./UserData.ts","./SkillBoard.ts"],(function(e){"use strict";var n,t,i,s,a,o,r,l,c,u,p,h,_,L,g,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Label,l=e.log,c=e.Component},function(e){u=e.Dots},function(e){p=e.Map},function(e){h=e.EventManager},function(e){_=e.LevelManager},function(e){L=e.GameOver},function(e){g=e.UserData},function(e){f=e.SkillBoard}],execute:function(){var v,d,m,b,E,y,w,D,B,C,G,T,N,O,P,k,z;a._RF.push({},"1092bdGUhBET4cHxioqvc4F","GamePlay",void 0);var A=o.ccclass,S=o.property;e("GamePlay",(v=A("GamePlay"),d=S(r),m=S(r),b=S(r),E=S(p),y=S(u),w=S(L),D=S(f),v((G=n((C=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"scoreLB",G,s(n)),i(n,"progressLB",T,s(n)),i(n,"levelLB",N,s(n)),i(n,"map",O,s(n)),i(n,"dots",P,s(n)),i(n,"gameOver",k,s(n)),i(n,"skillBoard",z,s(n)),n.newLines=0,n}t(n,e);var a=n.prototype;return a.start=function(){h.instance.on(h.TILE_CLICK,this._onTileClick,this),h.instance.on(h.ALL_TILE_TO_DEST,this._onAllTileToDest,this),h.instance.on(h.NEW_LINE_END,this._onNewLineEnd,this),h.instance.on(h.GAME_REPLAY,this._onReplay,this),h.instance.on(h.LEVEL_CHANGE,this._onLevelChange,this),h.instance.on(h.PROGRESS_CHANGE,this._onProgressChange,this),h.instance.on(h.SCORE_CHANGE,this._onScoreChange,this),h.instance.on(h.NEW_LEVEL,this._onNewLevel,this),this.skillBoard.preload(),_.instance.level_id=0,g.instance.init_data(),this.initData()},a.initData=function(){_.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance()},a._onNewLevel=function(){this.skillBoard.popup()},a._onProgressChange=function(){this.progressLB.string="下一关:"+g.instance.progress+"/"+_.instance.total_score,g.instance.progress==_.instance.total_score&&(_.instance.next_level(),this.map.init_data(),this.dots.createDots(),this.map.entrance(),g.instance.progress=0)},a._onScoreChange=function(){this.scoreLB.string="分数:"+g.instance.score},a._onLevelChange=function(){this.levelLB.string="关\n卡\n"+g.instance.level},a._onReplay=function(){_.instance.level_id=0,g.instance.init_data(),this.initData()},a._onTileClick=function(e){this.map.isOver?l("游戏已经结束了, 请勿乱点..."):this.map.match(e)},a._onAllTileToDest=function(){++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()},a._onNewLineEnd=function(){if(this.map.isOver)return l("游戏结束..."),void this.gameOver.popup();this.newLines<_.instance.new_line_nums?(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()):this.newLines=0},a.update=function(e){},n}(c)).prototype,"scoreLB",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(C.prototype,"progressLB",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(C.prototype,"levelLB",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(C.prototype,"map",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(C.prototype,"dots",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(C.prototype,"gameOver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(C.prototype,"skillBoard",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=C))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(E){"use strict";var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){var L,S,O,T,R;E({LoadAssetType:void 0,SkillType:void 0,TileColorTypes:void 0,TilePowerupTypes:void 0,TileType:void 0}),e._RF.push({},"7548cN90TBO7aGQBomzutVG","GlobalData",void 0),function(E){E[E.NORMAL=0]="NORMAL",E[E.STONE=1]="STONE",E[E.STEPS=2]="STEPS"}(L||(L=E("TileType",{}))),function(E){E[E.BLACK=0]="BLACK",E[E.RED=1]="RED",E[E.YELLOW=2]="YELLOW",E[E.BLUE=3]="BLUE",E[E.GREEN=4]="GREEN",E[E.PURPLE=5]="PURPLE"}(S||(S=E("TileColorTypes",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR"}(O||(O=E("TilePowerupTypes",{}))),function(E){E[E.Texture2D=0]="Texture2D",E[E.Prefab=1]="Prefab",E[E.Data=2]="Data",E[E.Scence=3]="Scence"}(T||(T=E("LoadAssetType",{}))),function(E){E[E.POWERUP_MIN=0]="POWERUP_MIN",E[E.ERASE_ROWS=1]="ERASE_ROWS",E[E.ERASE_COLS=2]="ERASE_COLS",E[E.EXPLODE=3]="EXPLODE",E[E.SAME_COLOR=4]="SAME_COLOR",E[E.STONE_CHANCE=5]="STONE_CHANCE",E[E.LIMIT_CHANCE=6]="LIMIT_CHANCE",E[E.LIMIT_STEP_CHANCE=7]="LIMIT_STEP_CHANCE",E[E.NEW_LINE_REDUCE=8]="NEW_LINE_REDUCE"}(R||(R=E("SkillType",{})));var _=E("GlobalData",(function(){}));_.ROWS=13,_.COLS=11,_.TILE_WIDTH=80,_.TILE_HEIGHT=80,_.TILE_SCORE=10,e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts"],(function(i){"use strict";var t,e,s;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy},function(i){s=i.UserData}],execute:function(){e._RF.push({},"d96bdWyl/9JmafPo0yT90h6","LevelManager",void 0),i("LevelManager",function(){function i(){this.level_id=0,this.total_score=0,this.tile_color_types=2,this.init_row=4,this.stone_chance=0,this.limit_chance=0,this.max_limit=5,this.min_limit=3,this.new_line_nums=1,this.is_new_level=!1}var e=i.prototype;return e.set_total_score=function(){var i=1e3*this.level_id;i>1e4&&(i=1e4),this.total_score=i},e.set_color_types=function(){this.level_id<=3?this.tile_color_types=2:this.level_id<=6?this.tile_color_types=3:this.level_id<=9?this.tile_color_types=4:this.tile_color_types=5},e.set_init_row=function(){this.level_id<=5?this.init_row=4:this.level_id<=10?this.init_row=5:this.init_row=6},e.set_stone_chance=function(){this.level_id<=6?this.stone_chance=0:this.level_id<=10?this.stone_chance=.05:this.stone_chance=.1,this.stone_chance*=.1*s.instance.stone_discount},e.set_limit_change=function(){this.level_id<=3?this.limit_chance=0:this.level_id<=5?(this.limit_chance=.05,this.max_limit=3,this.min_limit=1):this.level_id<=10?(this.limit_chance=.1,this.max_limit=8,this.min_limit=3):(this.limit_chance=.2,this.max_limit=10,this.min_limit=5),this.limit_chance*=s.instance.limit_discount,this.max_limit*=s.instance.limit_step_discount,this.min_limit*=s.instance.limit_step_discount},e.set_new_line_nums=function(){this.level_id<=8?this.new_line_nums=1:this.level_id<=20?this.new_line_nums=2:this.new_line_nums=3,this.new_line_nums-=s.instance.new_line_reduce,this.new_line_nums<1&&(this.new_line_nums=1)},e.next_level=function(){this.is_new_level=!0,this.level_id+=1,s.instance.level=this.level_id,this.set_total_score(),this.set_color_types(),this.set_init_row(),this.set_stone_chance(),this.set_limit_change(),this.set_new_line_nums(),s.instance.level=this.level_id},t(i,null,[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./ColorProcessor.ts","./Dot.ts","./DotStateEnter.ts","./DotStateNormal.ts","./Dots.ts","./GameMenu.ts","./GameOver.ts","./GamePlay.ts","./LevelManager.ts","./Map.ts","./PowerupEraseCol.ts","./PowerupEraseRow.ts","./PowerupExplode.ts","./PowerupProcessor.ts","./PowerupSameColor.ts","./Preload.ts","./Skill.ts","./SkillBoard.ts","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillProcesser.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./Tile.ts","./TileStateEnter.ts","./TileStateMoveToDest.ts","./TileStateNormal.ts","./TileStateRemove.ts","./TypeProcessor.ts","./TypeSteps.ts","./TypeStone.ts","./UserData.ts","./EventManager.ts","./GlobalData.ts","./ResourceManager.ts","./StateBase.ts","./StateMachine.ts","./Test.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./GlobalData.ts","./TileStateEnter.ts","./ColorProcessor.ts","./EventManager.ts","./TileStateNormal.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts","./UserData.ts"],(function(e){"use strict";var t,s,i,o,n,r,l,a,c,h,_,p,u,f,v,m,d,T,w,E,g,L,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Prefab,a=e.instantiate,c=e.randomRangeInt,h=e.log,_=e.Component},function(e){p=e.LevelManager},function(e){u=e.GlobalData,f=e.TileType,v=e.TilePowerupTypes},function(e){m=e.TileStateEnter},function(e){d=e.ColorProcessor},function(e){T=e.EventManager},function(e){w=e.TileStateNormal},function(e){E=e.TileStateRemove},function(e){g=e.TileStateMoveToDest},function(e){L=e.PowerupProcessor},function(e){y=e.UserData}],execute:function(){var N,S,M,P,b;n._RF.push({},"3f0eeyiQ55DYp3kgVjHQDeU","Map",void 0);var D=r.ccclass,O=r.property;e("Map",(N=D("Map"),S=O(l),N((b=t((P=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,i(t,"TilePrefab",b,o(t)),t.colsList=void 0,t.availbles=void 0,t._moves=void 0,t._normals=void 0,t._powerups=void 0,t._enters=0,t._removes=0,t._dests=0,t._isCreateNew=!1,t.isOver=!1,t}s(t,e);var n=t.prototype;return n.start=function(){T.instance.on(T.TILE_ENTERED,this._onTileEntered,this),T.instance.on(T.TILE_REMOVED,this._onTileRemoved,this),T.instance.on(T.TILE_MOVE_TO_DEST,this._onMoveToDest,this),T.instance.on(T.EXECUTE_POWERUP,this._executePowerup,this)},n.init_data=function(){this.clearAll(),this.colsList=[];for(var e=0;e<u.COLS;++e){this.colsList.push([]);for(var t=0;t<u.ROWS;++t)this.colsList[e].push(null)}this.isOver=!1,this._isCreateNew=!1,this._enters=0,this._removes=0,this._dests=0,this.availbles=[],this._normals=[],this._moves=[],this._powerups=[]},n.clearAll=function(){this.node.removeAllChildren()},n.entrance=function(){for(var e=0;e<p.instance.init_row;++e)for(var t=0;t<u.COLS;++t){++this._enters;var s=a(this.TilePrefab).getComponent("Tile");s.preload(),this.node.addChild(s.node),s.node.setScale(0,0),s.row=e,s.col=t,s.set_test(),s.colorType=c(1,p.instance.tile_color_types+1),s.setPos(),d.instance.execute(s),this.colsList[t][e]=s,this.availbles.push(s),s.changeState(m.stateName)}},n.newLine=function(e){var t=this;this._isCreateNew=!0,this.colsList.forEach((function(e){for(var s=e.length-1;s>-1;--s){var i=e[s];i&&(i.row+=1,i.row==u.ROWS-1&&(t.isOver=!0),e[s+1]=i,e[s]=null,t._moves.push(i))}})),e.forEach((function(e){var s=a(t.TilePrefab).getComponent("Tile");s.preload(),t.node.addChild(s.node),s.node.setScale(0,0),s.col=e.col,s.row=0,s.node.setPosition(s.col*u.TILE_WIDTH,-1*u.TILE_HEIGHT),s.type=e.type,s.steps=e.steps,s.steps>0&&(s.stepsLB.node.active=!0,s.setSteps()),s.colorType=e.colorType,s.set_test(),d.instance.execute(s),t.colsList[s.col][0]=s,t._moves.push(s),t.availbles.push(s),s.changeState(m.stateName)})),this._recomposition()},n._clearNormals=function(){for(;this._normals.length>0;)this._normals.pop()},n._clearPowerups=function(){for(;this._powerups.length>0;)this._powerups.pop()},n._clearMoves=function(){for(;this._moves.length>0;)this._moves.pop()},n._removeNormalTiles=function(e){var t=this;this._removes=this._normals.length,this._normals.forEach((function(s){if(s==e);else if(0==s.steps){t.colsList[s.col][s.row]=null;var i=t.availbles.indexOf(s);i>-1&&t.availbles.splice(i,1)}else--t._removes;0==s.steps&&(s.moveTarget=e),s.changeState(E.stateName)})),this._clearNormals()},n._removePowerup=function(){var e=this;this._removes+=this._powerups.length,this._powerups.forEach((function(t){e.colsList[t.col][t.row]=null;var s=e.availbles.indexOf(t);s>-1&&e.availbles.splice(s,1),t.changeState(E.stateName)})),this._clearPowerups()},n._executePowerup=function(e){h("处理powerup...",e),L.instance.execute(e,this)},n._tidyUp=function(){var e=this;this._clearMoves(),this.colsList.forEach((function(t){for(var s=0;s<t.length;++s){var i=t[s];if(null!=i){for(var o=-1,n=0;n<s;++n)if(null==t[n]){o=n;break}-1!=o&&(t[o]=i,i.row=o,t[s]=null,e._moves.push(i))}}})),h("moves:",this._moves.length)},n._recomposition=function(){var e=this;this._dests=0,0==this._moves.length?this._checkMoveToDest():(this._moves.forEach((function(t){++e._dests,t.changeState(g.stateName)})),this._clearMoves())},n.match=function(e){e.type==f.STONE||e.steps>0?h("播放tile出错动画..."):(this._findMatch(e),this._normals.length+this._powerups.length<y.instance.match_min?(this._clearNormals(),this._clearPowerups()):this._powerups.length>0?(this._removeNormalTiles(null),this._removePowerup()):this._normals.length<y.instance.powerup_min?this._removeNormalTiles(null):(e.powerupType=c(1,5),this._removeNormalTiles(e)))},n._findMatch=function(e){e.type!=f.STONE&&(e.powerupType==v.NORMAL?this._normals.includes(e)||this._normals.push(e):this._powerups.includes(e)||this._powerups.push(e),this._findUp(e),this._findDown(e),this._findLeft(e),this._findRight(e))},n._findUp=function(e){if(!(e.row+1>=u.ROWS)){var t=this.colsList[e.col][e.row+1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},n._findDown=function(e){if(!(e.row-1<0)){var t=this.colsList[e.col][e.row-1];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},n._findLeft=function(e){if(!(e.col-1<0)){var t=this.colsList[e.col-1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},n._findRight=function(e){if(!(e.col+1>=u.COLS)){var t=this.colsList[e.col+1][e.row];null!=t&&(this._normals.includes(t)||this._powerups.includes(t)||t.colorType==e.colorType&&this._findMatch(t))}},n._onTileEntered=function(){if(--this._enters,0==this._enters){for(var e=0;e<this.availbles.length;++e){this.availbles[e].changeState(w.stateName)}p.instance.is_new_level&&T.instance.emit(T.NEW_LEVEL)}},n._onTileRemoved=function(){--this._removes,0==this._removes&&(h("all removed..."),this._tidyUp(),this._recomposition())},n._onMoveToDest=function(){--this._dests,0==this._dests&&(h("all to dest..., "+this.availbles.length),this._checkMoveToDest())},n._checkMoveToDest=function(){this.availbles.forEach((function(e){e.changeState(w.stateName)})),this._isCreateNew?(this._isCreateNew=!1,T.instance.emit(T.NEW_LINE_END)):T.instance.emit(T.ALL_TILE_TO_DEST)},n.update=function(e){},t}(_)).prototype,"TilePrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=P))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseCol.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts"],(function(e){"use strict";var t,a,s,o,r,n;return{setters:[function(e){t=e.cclegacy},function(e){a=e.ResourceManager},function(e){s=e.TilePowerupTypes,o=e.GlobalData},function(e){r=e.TileStateRemove},function(e){n=e.UserData}],execute:function(){t._RF.push({},"c6fa2G1g5dBpo7nYNdQjEzK","PowerupEraseCol",void 0);e("PowerupEraseCol",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/powerup2/texture");e.setPowerup(t)},t.execute=function(e,t){var a=e.col-Math.floor(n.instance.erase_cols/2),c=a+n.instance.erase_cols-1,u=null;e.powerupType=s.NORMAL;for(var i=Math.max(0,a);i<=Math.min(o.COLS-1,c);++i)for(var l=0;l<t.colsList[i].length;++l)if(u=t.colsList[i][l]){if(0==u.steps){t._removes+=1;var p=t.availbles.indexOf(u);t.availbles.splice(p,1),t.colsList[i][l]=null}u.changeState(r.stateName)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupEraseRow.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts"],(function(e){"use strict";var t,a,s,r,o,n;return{setters:[function(e){t=e.cclegacy},function(e){a=e.ResourceManager},function(e){s=e.TilePowerupTypes,r=e.GlobalData},function(e){o=e.TileStateRemove},function(e){n=e.UserData}],execute:function(){t._RF.push({},"41b40mzZ6xCtpE6403aV7/J","PowerupEraseRow",void 0);e("PowerupEraseRow",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/powerup1/texture");e.setPowerup(t)},t.execute=function(e,t){var a=e.row-Math.floor(n.instance.erase_rows/2),u=a+n.instance.erase_rows-1,c=null;e.powerupType=s.NORMAL;for(var i=0;i<t.colsList.length;++i)for(var l=Math.max(a,0);l<=Math.min(r.ROWS-1,u);++l)if(c=t.colsList[i][l]){if(0==c.steps){t._removes+=1;var p=t.availbles.indexOf(c);t.availbles.splice(p,1),t.colsList[i][l]=null}c.changeState(o.stateName)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupExplode.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts"],(function(e){"use strict";var t,a,o,n,s,r;return{setters:[function(e){t=e.cclegacy},function(e){a=e.ResourceManager},function(e){o=e.TilePowerupTypes,n=e.GlobalData},function(e){s=e.TileStateRemove},function(e){r=e.UserData}],execute:function(){t._RF.push({},"22b83NBz0lNuIU2GD2yCKe+","PowerupExplode",void 0);e("PowerupExplode",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/powerup3/texture");e.setPowerup(t)},t.execute=function(e,t){var a=e.row+r.instance.explodes,c=e.row-r.instance.explodes,i=e.col-r.instance.explodes,u=e.col+r.instance.explodes,l=null;e.powerupType=o.NORMAL;for(var p=Math.max(i,0);p<=Math.min(n.COLS-1,u);++p)for(var f=Math.max(c,0);f<=Math.min(n.ROWS-1,a);++f)if(l=t.colsList[p][f]){if(0==l.steps){t._removes+=1;var v=t.availbles.indexOf(l);t.availbles.splice(v,1),t.colsList[p][f]=null}l.changeState(s.stateName)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PowerupEraseRow.ts","./GlobalData.ts","./PowerupEraseCol.ts","./PowerupExplode.ts","./PowerupSameColor.ts"],(function(e){"use strict";var t,o,n,s,r,u,i;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy},function(e){n=e.PowerupEraseRow},function(e){s=e.TilePowerupTypes},function(e){r=e.PowerupEraseCol},function(e){u=e.PowerupExplode},function(e){i=e.PowerupSameColor}],execute:function(){o._RF.push({},"be3ecyGynRLGIZrCjS8uVRF","PowerupProcessor",void 0),e("PowerupProcessor",function(){function e(){this._list={},this._list[s.ERASE_ROWS]=new n,this._list[s.ERASE_COLS]=new r,this._list[s.EXPLODE]=new u,this._list[s.SAME_COLOR]=new i}var o=e.prototype;return o.setFace=function(e){this._list[e.powerupType].setFace(e)},o.execute=function(e,t){this._list[e.powerupType].execute(e,t)},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupSameColor.ts",["cc","./ResourceManager.ts","./GlobalData.ts","./TileStateRemove.ts","./UserData.ts"],(function(e){"use strict";var t,o,a,r,n,s;return{setters:[function(e){t=e.cclegacy,o=e.randomRangeInt},function(e){a=e.ResourceManager},function(e){r=e.TilePowerupTypes},function(e){n=e.TileStateRemove},function(e){s=e.UserData}],execute:function(){t._RF.push({},"3e79fkYq7lDUZGqfST5lDYI","PowerupSameColor",void 0);e("PowerupSameColor",function(){function e(){}var t=e.prototype;return t.setFace=function(e){e.powerup.node.active=!0;var t=a.instance.getAsset("textures/powerup5/texture");e.setPowerup(t)},t.execute=function(e,t){e.powerupType=r.NORMAL;for(var a=[],c=0;c<t.availbles.length;++c){var l=t.availbles[c];l.colorType==e.colorType&&a.push(l)}if(0!=a.length)for(var u=0;u<s.instance.same_colors&&a.length>0;){var i=o(0,a.length),p=a.splice(i,1)[0];if(0==p.steps){t._removes+=1;var f=t.availbles.indexOf(p);t.availbles.splice(f,1),t.colsList[p.col][p.row]=null}p.changeState(n.stateName),++u}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Preload.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./EventManager.ts"],(function(e){"use strict";var n,t,o,a,r,c,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,a=e.director,r=e.Component},function(e){c=e.ResourceManager},function(e){s=e.EventManager}],execute:function(){var i;t._RF.push({},"b0918YCUu9Aibz83SE40ASV","Preload",void 0);var u=o.ccclass;o.property,e("Preload",u("Preload")(i=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.start=function(){s.instance.on("TexturesLoaded",this._onLoaded,this),c.instance.loadResources("textures","TexturesLoaded",s.instance,["dir"]),c.instance.start(),a.preloadScene("GameMenu",this._onSceneLoaded),a.preloadScene("GamePlay",this._onSceneLoaded)},o._onLoaded=function(){a.loadScene("GameMenu")},o._onSceneLoaded=function(){},o.update=function(e){},t}(r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s,n,i;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.resources,i=t.log}],execute:function(){s._RF.push({},"a3ea9LzJr1A6KXBymncUe6I","ResourceManager",void 0),t("ResourceManager",function(){function t(){this._total=0,this._list=[],this._isStart=!1}var s=t.prototype;return s.loadResources=function(t,e,s,n){void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=null),this._total+=1,this._list.push({path:t,event:e,target:s,args:n})},s.start=function(){this._isStart=!0,this._process()},s.getAsset=function(t){return n.get(t)},s._process=function(){if(this._isStart)for(;this._list.length>0;){var t=this._list.pop();t.args&&"dir"==t.args[0]?"preload"==t.args[1]?n.preloadDir(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.loadDir(t.path,this._onAssetLoaded.bind(this,t.event,t.target)):"preload"==t.args[1]?n.preload(t.path,this._onAssetPreloaded.bind(this,t.event,t.target)):n.load(t.path,this._onAssetLoaded.bind(this,t.event,t.target))}},s._checkLoadCompleted=function(){this._total-=1,0==this._total&&(this._isStart=!1,i("当前批次加载完毕..."))},s._onAssetLoaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},s._onAssetPreloaded=function(t,e,s,n){i(s?s.message:n),this._checkLoadCompleted(),t&&e.emit(t)},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillProcesser.ts","./EventManager.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,s,c,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Button,c=t.NodeEventType,u=t.Component},function(t){p=t.SkillProcesser},function(t){f=t.EventManager}],execute:function(){var d,g,h,y,v,B,b;o._RF.push({},"1c2af6u265AJ4xiAnLbY+p3","Skill",void 0);var k=a.ccclass,L=a.property;t("Skill",(d=k("Skill"),g=L(l),h=L(s),d((B=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"introLB",B,r(e)),i(e,"upgradeBtn",b,r(e)),e.type=void 0,e}n(e,t);var o=e.prototype;return o.start=function(){p.instance.setIntro(this),this.upgradeBtn.node.on(c.TOUCH_END,this._onUpgradeBtnClick,this)},o._onUpgradeBtnClick=function(){p.instance.upgrade(this),f.instance.emit(f.SKILL_UPGRADE)},o.setIntro=function(t){this.introLB.string=t},o.update=function(t){},e}(u)).prototype,"introLB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(v.prototype,"upgradeBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./LevelManager.ts","./EventManager.ts"],(function(t){"use strict";var i,n,e,a,o,r,l,s,c,u,p,d,f,h,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.Node,c=t.Animation,u=t.randomRangeInt,p=t.instantiate,d=t.Component},function(t){f=t.UserData},function(t){h=t.LevelManager},function(t){b=t.EventManager}],execute:function(){var g,v,_,m,y,S,k,w,P,D,z;o._RF.push({},"a055dDgQPtFwaVgwgE0SyJv","SkillBoard",void 0);var L=r.ccclass,B=r.property;t("SkillBoard",(g=L("SkillBoard"),v=B(l),_=B(s),m=B(s),y=B(c),g((w=i((k=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"SkillPrefab",w,a(i)),e(i,"board",P,a(i)),e(i,"content",D,a(i)),e(i,"animation",z,a(i)),i._list=[],i}n(i,t);var o=i.prototype;return o.start=function(){this.content.setScale(.5,.5),b.instance.on(b.SKILL_UPGRADE,this._onSkillUpgrade,this)},o.preload=function(){this._list.push(0,1,2,3,4,5,6,7,8)},o.init_data=function(){h.instance.is_new_level=!1,this.board.removeAllChildren();for(var t=0;t<f.instance.skill_nums;++t){var i=u(0,this._list.length),n=this._list[i],e=p(this.SkillPrefab).getComponent("Skill");e.type=n,this.board.addChild(e.node)}},o._onSkillUpgrade=function(){this.popout()},o.popup=function(){this.node.active=!0,this.init_data(),this.content.setScale(.5,.5),this.animation.play("popup_animation")},o.popout=function(){this.animation.play("popout_animation")},o.hide=function(){this.node.active=!1},o.update=function(t){},i}(d)).prototype,"SkillPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(k.prototype,"board",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(k.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(k.prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseCols.ts",["cc","./UserData.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.UserData}],execute:function(){e._RF.push({},"5a726ZTWmdIf62g5BH7+6sg","SkillEraseCols",void 0);t("SkillEraseCols",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("升级后消除列的功能方块可以消除的列增加1")},e.upgrade=function(){s.instance.erase_cols+=1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillEraseRows.ts",["cc","./UserData.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UserData}],execute:function(){e._RF.push({},"ff98eaAFgJLwZnbzptuM9Kw","SkillEraseRows",void 0);t("SkillEraseRows",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("升级后消除列的功能方块可以消除的行增加1")},e.upgrade=function(){n.instance.erase_rows+=1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillExplode.ts",["cc","./UserData.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UserData}],execute:function(){e._RF.push({},"567df3erw9O2Kx4+Nij5mWO","SkillExplode",void 0);t("SkillExplode",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("升级后爆炸功能方块可以消除的范围增加1")},e.upgrade=function(){n.instance.explodes+=1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitChance.ts",["cc","./UserData.ts"],(function(t){"use strict";var i,n;return{setters:[function(t){i=t.cclegacy},function(t){n=t.UserData}],execute:function(){i._RF.push({},"a9f208ix2pGNa8Kpu9FTEqi","SkillLimitChance",void 0);t("SkillLimitChance",function(){function t(){}var i=t.prototype;return i.setIntro=function(t){t.setIntro("升级后步数限制方块出现的几率减少")},i.upgrade=function(){n.instance.limit_discount*=.9},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLimitStepChance.ts",["cc","./UserData.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UserData}],execute:function(){n._RF.push({},"1b4b2gYK1ZEJZxKMC9C3BHY","SkillLimitStepChance",void 0);t("SkillLimitStepChance",function(){function t(){}var n=t.prototype;return n.setIntro=function(t){t.setIntro("升级后步数限制方块所需要消除的步数减少")},n.upgrade=function(){e.instance.limit_step_discount*=.9},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillNewLineReduce.ts",["cc","./UserData.ts"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.UserData}],execute:function(){n._RF.push({},"02243ImRhJP8YivinAxf8hZ","SkillNewLineReduce",void 0);e("SkillNewLineReduce",function(){function e(){}var n=e.prototype;return n.setIntro=function(e){e.setIntro("升级后每次消除后产生的新行数将减少1")},n.upgrade=function(){t.instance.new_line_reduce+=1},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillPowerupMin.ts",["cc","./UserData.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UserData}],execute:function(){n._RF.push({},"031f9WFitlFLavWKYOpR5Lt","SkillPowerupMin",void 0);t("SkillPowerupMin",function(){function t(){}var n=t.prototype;return n.setIntro=function(t){t.setIntro("升级后消除"+(e.instance.powerup_min-1)+"个方块就可以得到功能方块。")},n.upgrade=function(){e.instance.powerup_min-=1},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillProcesser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillEraseCols.ts","./SkillEraseRows.ts","./SkillExplode.ts","./SkillLimitChance.ts","./SkillLimitStepChance.ts","./SkillNewLineReduce.ts","./SkillPowerupMin.ts","./SkillSameColor.ts","./SkillStoneChance.ts","./GlobalData.ts"],(function(t){"use strict";var i,n,e,l,s,o,c,u,r,S,_,a;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.SkillEraseCols},function(t){l=t.SkillEraseRows},function(t){s=t.SkillExplode},function(t){o=t.SkillLimitChance},function(t){c=t.SkillLimitStepChance},function(t){u=t.SkillNewLineReduce},function(t){r=t.SkillPowerupMin},function(t){S=t.SkillSameColor},function(t){_=t.SkillStoneChance},function(t){a=t.SkillType}],execute:function(){n._RF.push({},"125dabVd2RBro+9d0gxvp1K","SkillProcesser",void 0),t("SkillProcesser",function(){function t(){this._list={},this._list[a.POWERUP_MIN]=new r,this._list[a.ERASE_COLS]=new e,this._list[a.ERASE_ROWS]=new l,this._list[a.EXPLODE]=new s,this._list[a.LIMIT_CHANCE]=new o,this._list[a.LIMIT_STEP_CHANCE]=new c,this._list[a.NEW_LINE_REDUCE]=new u,this._list[a.POWERUP_MIN]=new r,this._list[a.SAME_COLOR]=new S,this._list[a.STONE_CHANCE]=new _}var n=t.prototype;return n.setIntro=function(t){this._list[t.type].setIntro(t)},n.upgrade=function(t){this._list[t.type].upgrade()},i(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillSameColor.ts",["cc","./UserData.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UserData}],execute:function(){e._RF.push({},"c8ca9+neoFMA4xcmrZYXyFQ","SkillSameColor",void 0);t("SkillSameColor",function(){function t(){}var e=t.prototype;return e.setIntro=function(t){t.setIntro("升级后随机消除同色的功能方块消除数量增加1个")},e.upgrade=function(){n.instance.same_colors+=1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillStoneChance.ts",["cc","./UserData.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.UserData}],execute:function(){n._RF.push({},"0cba9/ElORPUb3JL9ImCfgl","SkillStoneChance",void 0);t("SkillStoneChance",function(){function t(){}var n=t.prototype;return n.setIntro=function(t){t.setIntro("升级后出现黑色方块的几率减少")},n.upgrade=function(){e.instance.stone_discount*=.9},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StateBase.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"56945njGh1KmKj61HGWcpBM","StateBase",void 0);t("StateBase",function(){function t(){this.name=""}var e=t.prototype;return e.enter=function(){},e.exit=function(){},e.update=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"58aa419oZRA7rDDz5G0AJyx","StateMachine",void 0);t("StateMachine",function(){function t(t){this.states={},this._current=void 0,this._previous=void 0,this._owner=void 0,this._owner=t}var r=t.prototype;return r.setState=function(t,e){void 0===e&&(e=!1),(e||t!=this._current)&&(this._current&&this._current.exit(),this._previous=this._current,this._current=t,this._current.enter())},r.update=function(t){this._current&&this._current.update(t)},e(t,[{key:"owner",get:function(){return this._owner}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Map.ts","./Dots.ts","./EventManager.ts","./LevelManager.ts"],(function(t){"use strict";var n,e,i,s,o,a,r,c,l,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Component},function(t){c=t.Map},function(t){l=t.Dots},function(t){u=t.EventManager},function(t){p=t.LevelManager}],execute:function(){var h,f,_,L,d,T,m;o._RF.push({},"15287NXcPFP14qFOE7Ghjd6","Test",void 0);var w=a.ccclass,D=a.property;t("Test",(h=w("Test"),f=D(c),_=D(l),h((T=n((d=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"map",T,s(n)),i(n,"dots",m,s(n)),n.newLines=0,n}e(n,t);var o=n.prototype;return o.start=function(){this.map.init_data(),this.map.entrance(),this.dots.createDots(),u.instance.on(u.TILE_CLICK,this._onTileClick,this),u.instance.on(u.ALL_TILE_TO_DEST,this._onAllTileToDest,this),u.instance.on(u.NEW_LINE_END,this._onNewLineEnd,this)},o._onTest=function(){},o._onTileClick=function(t){this.map.match(t)},o._onAllTileToDest=function(){++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()},o._onNewLineEnd=function(){this.newLines<p.instance.new_line_nums?(++this.newLines,this.map.newLine(this.dots.list),this.dots.createDots()):this.newLines=0},o.update=function(t){},n}(r)).prototype,"map",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(d.prototype,"dots",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=d))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./TileStateNormal.ts","./TileStateEnter.ts","./GlobalData.ts","./EventManager.ts","./TileStateRemove.ts","./TileStateMoveToDest.ts","./PowerupProcessor.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,c,l,u,p,h,f,T,w,b,m,y,_,v,M,g,S,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Sprite,c=t.Label,l=t.Animation,u=t.Node,p=t.NodeEventType,h=t.SpriteFrame,f=t.Component},function(t){T=t.StateMachine},function(t){w=t.TileStateNormal},function(t){b=t.TileStateEnter},function(t){m=t.TileType,y=t.TileColorTypes,_=t.TilePowerupTypes,v=t.GlobalData},function(t){M=t.EventManager},function(t){g=t.TileStateRemove},function(t){S=t.TileStateMoveToDest},function(t){d=t.PowerupProcessor}],execute:function(){var L,P,E,C,A,N,R,z,k,D,B,F,I,x,H,O,U;s._RF.push({},"7d4a1U9CWRB7JRJJj4nxlYY","Tile",void 0);var G=o.ccclass,J=o.property;t("Tile",(L=G("Tile"),P=J(r),E=J(r),C=J(c),A=J(r),N=J(l),R=J(u),z=J(c),L((B=e((D=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"face",B,a(e)),n(e,"clickArea",F,a(e)),n(e,"stepsLB",I,a(e)),n(e,"powerup",x,a(e)),n(e,"animation",H,a(e)),n(e,"content",O,a(e)),n(e,"test",U,a(e)),e.row=0,e.col=0,e.type=m.NORMAL,e.steps=0,e.colorType=y.BLACK,e.powerupType=_.NORMAL,e.moveTarget=null,e._stateMachine=void 0,e}i(e,t);var s=e.prototype;return s.start=function(){this.clickArea.node.on(p.TOUCH_START,this.onTileClick,this)},s.preload=function(){this._stateMachine=new T(this),this._stateMachine.states[w.stateName]=new w(this._stateMachine),this._stateMachine.states[b.stateName]=new b(this._stateMachine),this._stateMachine.states[g.stateName]=new g(this._stateMachine),this._stateMachine.states[S.stateName]=new S(this._stateMachine)},s.changeState=function(t){var e=this._stateMachine.states[t];this._stateMachine.setState(e)},s.setClickable=function(t){this.clickArea.node.active=!!t},s.onTileClick=function(){M.instance.emit(M.TILE_CLICK,this)},s.setSteps=function(){this.stepsLB.string=this.steps.toString(),0==this.steps&&(this.stepsLB.node.active=!1)},s.setColor=function(t){this.face.color=t},s.set_test=function(){this.test.string=this.row+", "+this.col},s.changeToPowerup=function(){d.instance.setFace(this)},s.setPowerup=function(t){var e=new h;e.texture=t,this.powerup.spriteFrame=e},s.setFace=function(t){var e=new h;e.texture=t,this.face.spriteFrame=e},s.executePowerup=function(){M.instance.emit(M.EXECUTE_POWERUP,this)},s.setPos=function(){this.node.setPosition(this.col*v.TILE_WIDTH,this.row*v.TILE_HEIGHT)},s.toString=function(){return"[Tile("+this.row+", "+this.col+")]"},s.update=function(t){},e}(f)).prototype,"face",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(D.prototype,"clickArea",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(D.prototype,"stepsLB",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(D.prototype,"powerup",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(D.prototype,"animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(D.prototype,"content",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(D.prototype,"test",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts"],(function(t){"use strict";var n,e,i,o,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.Animation},function(t){o=t.StateBase},function(t){a=t.EventManager}],execute:function(){e._RF.push({},"e8003g4SB5IbbzvGb8jQdy0","TileStateEnter",void 0),t("TileStateEnter",function(t){function e(n){var e;return(e=t.call(this)||this)._stateMachine=void 0,e._owner=void 0,e._stateMachine=n,e._owner=n.owner,e}n(e,t);var o=e.prototype;return o.enter=function(){var t=this;this._owner.setClickable(!1),this._owner.node.setScale(1,1),this._owner.content.setScale(0,0),this._owner.scheduleOnce((function(){t._owner.animation.on(i.EventType.FINISHED,t._onAnimationFinished,t),t._owner.animation.play("tile_enter_animation")}),.2*(this._owner.row+1))},o.exit=function(){},o.update=function(t){},o._onAnimationFinished=function(t,n){this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),a.instance.emit(a.TILE_ENTERED)},e}(o)).stateName="TileStateEnter",e._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateMoveToDest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./GlobalData.ts","./EventManager.ts"],(function(t){"use strict";var e,n,o,s,i,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.tween,s=t.Vec3},function(t){i=t.StateBase},function(t){a=t.GlobalData},function(t){r=t.EventManager}],execute:function(){n._RF.push({},"0dc3d5dUjlPhoNvVXWzmg/g","TileStateMoveToDest",void 0),t("TileStateMoveToDest",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._dest=new s,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var i=n.prototype;return i.enter=function(){this._dest.x=this._owner.col*a.TILE_WIDTH,this._dest.y=this._owner.row*a.TILE_HEIGHT,this._owner.set_test(),o(this._owner.node).to(.5,{position:this._dest}).call((function(){r.instance.emit(r.TILE_MOVE_TO_DEST)})).start()},i.exit=function(){},i.update=function(t){},n}(i)).stateName="TileStateMoveToDest",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateNormal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.StateBase}],execute:function(){n._RF.push({},"2d57cVZ1XhPzacFindpwhew","TileStateNormal",void 0),t("TileStateNormal",function(t){function n(e){var n;return(n=t.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=e,n._owner=e.owner,n}e(n,t);var i=n.prototype;return i.enter=function(){this._owner.setClickable(!0)},i.exit=function(){},i.update=function(t){},n}(i)).stateName="TileStateNormal",n._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateRemove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts","./EventManager.ts","./GlobalData.ts","./TileStateNormal.ts","./UserData.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,_,l,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Animation,o=e.tween,a=e.Vec3},function(e){s=e.StateBase},function(e){r=e.EventManager},function(e){_=e.GlobalData},function(e){l=e.TileStateNormal},function(e){c=e.UserData}],execute:function(){n._RF.push({},"b0ec1s8ijlLgbrK8C2lsxxJ","TileStateRemove",void 0),e("TileStateRemove",function(e){function n(t){var n;return(n=e.call(this)||this)._stateMachine=void 0,n._owner=void 0,n._stateMachine=t,n._owner=t.owner,n}t(n,e);var s=n.prototype;return s.enter=function(){var e=this;if(this._owner.setClickable(!1),this._owner.steps>0)return this._owner.steps-=1,this._owner.setSteps(),void this._owner.changeState(l.stateName);if(null==this._owner.moveTarget)0==this._owner.powerupType?this._owner.animation.play("tile_normal_remove_animation"):this._owner.animation.play("tile_powerup_remove_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this);else if(this._owner.moveTarget!=this._owner){var t=o(this._owner.node).to(.3,{position:this._owner.moveTarget.node.position}),n=o(this._owner.node).to(.3,{scale:new a(0,0,0)}),s=o(this._owner.node).to(.3,{angle:360});o(this._owner.node).parallel(t,n,s).call((function(){e._owner.moveTarget=null,e._owner.node.removeFromParent(),c.instance.score+=_.TILE_SCORE,c.instance.progress+=_.TILE_SCORE,r.instance.emit(r.TILE_REMOVED)})).start()}else this._owner.moveTarget=null,this._owner.animation.play("tile_powerup_animation"),this._owner.animation.on(i.EventType.FINISHED,this._onAnimationFinished,this)},s.exit=function(){},s.update=function(e){},s._onAnimationFinished=function(e,t){"tile_powerup_animation"!=t.name&&(this._owner.node.removeFromParent(),c.instance.score+=_.TILE_SCORE,c.instance.progress+=_.TILE_SCORE),this._owner.animation.off(i.EventType.FINISHED,this._onAnimationFinished,this),r.instance.emit(r.TILE_REMOVED)},n}(s)).stateName="TileStateRemove",n._RF.pop()}}}));

System.register("chunks:///_virtual/TypeProcessor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts"],(function(e){"use strict";var t,n,c,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,c=e.Color},function(e){s=e.TileType}],execute:function(){n._RF.push({},"e8e19QxfPBBWK/o7KpPXcUk","TypeProcessor",void 0),e("TypeProcessor",function(){function e(){this._list={}}return e.prototype.executeDot=function(e){switch(e.type){case s.STONE:e.setColor(c.BLACK)}},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/TypeSteps.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9d5a63o9B9MGLUgrbVX+nV1","TypeSteps",void 0);t("TypeSteps",function(){function t(){}return t.prototype.execute=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TypeStone.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b3a8b9OPHhLvapEx3ItjMD3","TypeStone",void 0);t("TypeStone",function(){function t(){}return t.prototype.execute=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./EventManager.ts"],(function(t){"use strict";var s,e,i,n;return{setters:[function(t){s=t.createClass},function(t){e=t.cclegacy},function(t){i=t.LevelManager},function(t){n=t.EventManager}],execute:function(){e._RF.push({},"d669aQQT61C7JDs4AhngiQd","UserData",void 0),t("UserData",function(){function t(){this._score=0,this._progress=0,this._level=0,this.stone_discount=1,this.limit_discount=1,this.limit_step_discount=1,this.powerup_min=2,this.match_min=1,this.new_line_reduce=0,this.erase_rows=3,this.erase_cols=3,this.explodes=2,this.same_colors=8,this.skill_nums=2}return t.prototype.init_data=function(){this._score=0,this._level=0,this._progress=0,this.stone_discount=1,this.limit_discount=1,this.limit_step_discount=1,this.powerup_min=10,this.match_min=1,this.erase_rows=1,this.erase_cols=1,this.explodes=1,this.same_colors=3},s(t,[{key:"score",get:function(){return this._score},set:function(t){this._score=t,n.instance.emit(n.SCORE_CHANGE)}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this._progress>i.instance.total_score&&(this._progress=i.instance.total_score),n.instance.emit(n.PROGRESS_CHANGE)}},{key:"level",get:function(){return this._level},set:function(t){this._level=t,n.instance.emit(n.LEVEL_CHANGE)}}],[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=null,e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});